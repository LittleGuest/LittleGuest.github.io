{"categories":[{"title":"Docker","uri":"https://littleguest.github.io/categories/docker/"},{"title":"Git","uri":"https://littleguest.github.io/categories/git/"},{"title":"Java","uri":"https://littleguest.github.io/categories/java/"},{"title":"Linux","uri":"https://littleguest.github.io/categories/linux/"},{"title":"MySQL","uri":"https://littleguest.github.io/categories/mysql/"},{"title":"Rust","uri":"https://littleguest.github.io/categories/rust/"},{"title":"Vim","uri":"https://littleguest.github.io/categories/vim/"},{"title":"åµŒå…¥å¼","uri":"https://littleguest.github.io/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F/"},{"title":"å¼€æºåè®®","uri":"https://littleguest.github.io/categories/%E5%BC%80%E6%BA%90%E5%8D%8F%E8%AE%AE/"},{"title":"å¼€æºé¡¹ç›®","uri":"https://littleguest.github.io/categories/%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE/"},{"title":"æ•°æ®ç»“æ„åŠç®—æ³•","uri":"https://littleguest.github.io/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%AE%97%E6%B3%95/"},{"title":"æ ‘è“æ´¾","uri":"https://littleguest.github.io/categories/%E6%A0%91%E8%8E%93%E6%B4%BE/"},{"title":"è®¡ç®—æœº","uri":"https://littleguest.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"}],"posts":[{"content":"æ ‘è“æ´¾æ—¶é’Ÿ ç”¨ Max7219 åšäº†ä¸€ä¸ªæ—¶é’Ÿã€‚æ•ˆæœå¦‚ä¸‹ï¼š\nGitHub\nè¿è¡Œéœ€è¦æŒ‡å®š Max7219 dataã€csã€clkå¯¹åº”æ ‘è“æ´¾å¼•è„šç¼–å·ï¼Œå¦‚\n./raspi_clock 24 23 18  ","id":0,"section":"posts","summary":"æ ‘è“æ´¾æ—¶é’Ÿ ç”¨ Max7219 åšäº†ä¸€ä¸ªæ—¶é’Ÿã€‚æ•ˆæœå¦‚ä¸‹ï¼š GitHub è¿è¡Œéœ€è¦æŒ‡å®š Max7219 dataã€csã€clkå¯¹åº”æ ‘è“æ´¾å¼•è„šç¼–å·ï¼Œå¦‚ ./raspi_clock 24 23 18","tags":["max7219"],"title":"æ ‘è“æ´¾æ—¶é’Ÿ","uri":"https://littleguest.github.io/posts/raspi_clock/","year":"2021"},{"content":"æ€ä¹ˆæ¥çš„ ç¬”è€…ä½¿ç”¨ Hugo æ­å»ºçš„åšå®¢ï¼Œæœ€è¿‘å‘ç°ä¸€æ¬¾ä¸»é¢˜ï¼ˆpureï¼‰ï¼Œè¿˜è›®ä¸é”™çš„ã€‚ä½†æ˜¯éœ€è¦å°†ä¸»é¢˜é‡Œé¢çš„yamlæ ¼å¼è½¬æ¢ä¸ºtomlçš„æ ¼å¼ï¼ˆä¸ºä»€ä¹ˆè¦è½¬æ¢å‘¢ï¼Ÿå¤§æ¦‚æ˜¯å› ä¸ºRustçš„é…ç½®æ–‡ä»¶æ ¼å¼ä¹Ÿæ˜¯tomlçš„å§ã€‚ğŸ˜œï¼‰ï¼Œé…ç½®æ–‡ä»¶é‡Œé¢å¤§æ¦‚æœ‰ä¸¤ç™¾å¤šè¡Œï¼ˆğŸ˜³ï¼‰å§ï¼Œä½†æ˜¯å‘¢ï¼Œç¬”è€…åˆç‰¹åˆ«æ‡’ï¼Œä¸æƒ³ä¸€è¡Œä¸€è¡Œçš„ç¿»è¯‘æˆtomlçš„æ ¼å¼ã€‚æ‰€ä»¥æˆ‘å»GitHubä¸Šæœäº†ä¸€ä¸‹ï¼Œä¸€æœå°±æœ‰å¾ˆå¤šå¥½çš„å¼€æºé¡¹ç›®ã€‚å”‰ï¼Œæˆ‘å°±ä¸ç”¨ï¼Œå°±æ˜¯è¦è‡ªå·±å†™ï¼ˆğŸ˜ï¼‰ã€‚\næƒ³è¦çš„åŠŸèƒ½  jsonã€tomlã€yamlè¿™ä¸‰ç§æ ¼å¼äº’ç›¸è½¬æ¢ï¼ˆæš‚æ—¶è¿™ä¸‰ç§ï¼‰ã€‚ æ”¯æŒwebã€å‘½ä»¤è¡Œå’Œæ¡Œé¢åº”ç”¨ã€‚  å®ç° è¿™é‡Œç¬”è€…æ‰“ç®—ä½¿ç”¨ Rust å¼€å‘ï¼Œé¡¹ç›®åç§°å°±å«cffcï¼ˆConfiguration file format conversionï¼‰å§ã€‚\nè¯ä¸å¤šè¯´ï¼Œç›´æ¥å¼€æï¼ˆğŸ˜‹ï¼‰ã€‚\né€šè¿‡å‡ å¤©é›¶ç¢çš„æ—¶é—´ï¼Œåˆæ­¥å®ç°äº†jsonï¼Œyamlå’Œtomlè¿™ä¸‰ç§æ–‡ä»¶æ ¼å¼ä¹‹é—´çš„è½¬æ¢ã€‚\næœ€è¿‘æ•´äº†ç‚¹æ–°æ´»ã€‚ä¹‹å‰Flutter2.0ä¸æ˜¯æ”¯æŒæ¡Œé¢åº”ç”¨äº†å˜›ï¼ˆğŸ¤™ğŸ¤™ğŸ¤™ï¼‰ï¼Œæ‰€ä»¥æˆ‘æƒ³ç”¨Flutteræ¥å†™UIï¼ŒRustæ¥è´Ÿè´£è½¬æ¢ã€‚\nè§£å†³è·¨è¯­è¨€è°ƒç”¨  æ–¹å¼ä¸€ï¼šå°†ç”¨åˆ°çš„å‡½æ•°åšæˆæœåŠ¡ï¼Œé€šè¿‡ç½‘ç»œåè®®æˆ–è€…è¿›ç¨‹é—´é€šä¿¡ï¼› æ–¹å¼äºŒï¼šé€šè¿‡FFIè°ƒç”¨ï¼Œå°†Rustç¼–è¯‘ä¸ºåŠ¨æ€é“¾æ¥åº“ï¼›  æˆ‘è¿™é‡Œé‡‡ç”¨ç¬¬äºŒç§æ–¹å¼ï¼ŒFlutteré€šè¿‡FFIè°ƒç”¨Rustå‡½æ•°ã€‚\nRuståº“ é¡¹ç›®åœ°å€\ncffcåº”ç”¨ é¡¹ç›®åœ°å€\n","id":1,"section":"posts","summary":"æ€ä¹ˆæ¥çš„ ç¬”è€…ä½¿ç”¨ Hugo æ­å»ºçš„åšå®¢ï¼Œæœ€è¿‘å‘ç°ä¸€æ¬¾ä¸»é¢˜ï¼ˆpureï¼‰ï¼Œè¿˜è›®ä¸é”™çš„ã€‚ä½†æ˜¯éœ€è¦å°†ä¸»é¢˜é‡Œé¢çš„yamlæ ¼å¼è½¬æ¢ä¸ºtomlçš„æ ¼å¼ï¼ˆä¸ºä»€ä¹ˆè¦è½¬æ¢å‘¢","tags":["é…ç½®æ–‡ä»¶æ ¼å¼è½¬æ¢"],"title":"é…ç½®æ–‡ä»¶æ ¼å¼è½¬æ¢","uri":"https://littleguest.github.io/posts/cffc/","year":"2021"},{"content":"ä»€ä¹ˆæ˜¯äºŒè¿›åˆ¶ äºŒè¿›åˆ¶æ˜¯è®¡ç®—æœºå†…éƒ¨è¿ç®—ä¸­é‡‡ç”¨çš„è¿›åˆ¶ï¼Œåœ¨è¿™æ ·çš„è¿›åˆ¶ç³»ç»Ÿä¸‹ï¼Œåªæœ‰0ï¼Œ1ä¸¤ä¸ªæ•°å­—ï¼Œè®¡ç®—æœºå†…éƒ¨çš„æ‰€æœ‰è¿ç®—ï¼ˆåŒ…æ‹¬ä½è¿ç®—ï¼‰éƒ½æ˜¯åœ¨äºŒè¿›åˆ¶çš„åŸºç¡€ä¸Šè¿›è¡Œçš„ã€‚\nä½è¿ç®—åˆ†ç±» åŸºæœ¬çš„ä½è¿ç®—åˆ†ä¸º6ç§ï¼Œåˆ†åˆ«ä¸ºæŒ‰ä½ä¸ã€æŒ‰ä½æˆ–ã€æŒ‰ä½å¼‚æˆ–ã€æŒ‰ä½å–åï¼Œå·¦ç§»å’Œå³ç§»ã€‚\n   è¿ç®— è¿ç®—ç¬¦ è§£é‡Š     æŒ‰ä½ä¸ \u0026amp; ä¸¤ä¸ªå¯¹åº”ä½éƒ½ä¸º1æ—¶ï¼Œç»“æœæ‰ä¸º1ï¼Œå¦åˆ™ä¸º0   æŒ‰ä½æˆ– ` `   æŒ‰ä½å¼‚æˆ– ^ ä¸¤ä¸ªå¯¹åº”ä½ç›¸åŒä¸º0ï¼Œä¸åŒä¸º1   æŒ‰ä½å–å ~ 0å˜1ï¼Œ1å˜0   å·¦ç§» \u0026lt;\u0026lt; å„äºŒè¿›ä½å…¨éƒ¨å·¦ç§»è‹¥å¹²ä½ï¼Œé«˜ä½ä¸¢å¼ƒï¼Œä½ä½è¡¥0   å³ç§» \u0026gt;\u0026gt; å„äºŒè¿›ä½å…¨éƒ¨å³ç§»è‹¥å¹²ä½ï¼Œå¯¹æ— ç¬¦å·æ•°ï¼Œé«˜ä½è¡¥0ï¼Œæœ‰ç¬¦å·æ•°ï¼Œä½¿ç”¨æœ€é«˜ä½çš„æ•°è¡¥é½    ä»€ä¹ˆæ˜¯åŸç ã€åç å’Œè¡¥ç åŠå…¶è®¡ç®—æ–¹å¼ åŸç ã€åç å’Œè¡¥ç éƒ½æ˜¯è®¡ç®—æœºä¸­æœ‰ç¬¦å·æ•°çš„è¡¨ç¤ºæ–¹æ³•ï¼Œéƒ½ç”±ç¬¦å·ä½å’Œæ•°å€¼ä½ç»„æˆã€‚ç¬¦å·ä½ç”¨0è¡¨ç¤ºæ­£æ•°ï¼Œ1è¡¨ç¤ºè´Ÿæ•°ã€‚\nåŸç  æœ€é«˜ä½è¡¨ç¤ºç¬¦å·ä½ï¼Œå…¶å®ƒä½å­˜æ”¾è¯¥æ•°çš„äºŒè¿›åˆ¶çš„ç»å¯¹å€¼ã€‚\n0è¡¨ç¤ºæ­£æ•°ï¼Œ1è¡¨ç¤ºè´Ÿæ•°ã€‚ç”¨æ¥åŒºåˆ†æ­£è´Ÿæ•°ã€‚\n   åè¿›åˆ¶è¡¨ç¤º 8ä½äºŒè¿›åˆ¶è¡¨ç¤º     +10 0000 1010   -10 1000 1010   5 0000 0101   -5 1000 0101    å¦‚æœå°†ä¸¤ä¸ªæ•°ç›¸åŠ ï¼Œç»“æœå¦‚ä¸‹ï¼š\n0000 1010 1000 1010 --------- 1001 0100 --\u0026gt; 10+(-10) = -20 0000 1010 1000 0101 --------- 1000 1111 --\u0026gt; 10+5 = 15 0000 1010 0000 1010 --------- 0001 0100 --\u0026gt; 10+10 = 20 1000 1010 1000 1010 --------- 1001 0100 --\u0026gt; (-10)+(-10) = -20 1000 1010 1000 0101 --------- 1000 1111 --\u0026gt; (-10)+(-5) = -15  å°†ç»“æœè½¬ä¸ºåè¿›åˆ¶ï¼Œæ˜æ˜¾æ­£è´Ÿæ•°ç›¸åŠ ç»“æœæ˜¯ä¸æ­£ç¡®çš„ã€‚è¿™æ˜¯ç”±äºç¬¦å·ä½å¯¼è‡´çš„ã€‚\nä¸ºäº†è§£å†³ä¸€ä¸ªæ•°çš„æ­£è´Ÿç›¸åŠ ä¸ç­‰äºé›¶è¿™ä¸ªé—®é¢˜ï¼Œå¼•å…¥äº† åç ã€‚\nåç  æ­£æ•°çš„åç ç­‰äºåŸç ï¼Œè´Ÿæ•°çš„åç æ˜¯å®ƒçš„åŸç é™¤ç¬¦å·ä½å¤–ï¼Œå…¶ä½™ä½æŒ‰ä½å–åã€‚\n    åŸç  åç      +10 0000 1010 0000 1010   -10 1000 1010 1111 0101   -5 1000 0101 1111 1010    0000 1010 1111 0101 --------- 1111 1111 --\u0026gt; 10+(-10) = -0 1111 0101 1111 1010 ------------------- 1110 1111 --\u0026gt; (-10)+(-5) = -16  è™½ç„¶è§£å†³äº†ä¸€ä¸ªæ•°çš„æ­£è´Ÿç›¸åŠ ä¸ç­‰äºé›¶è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯å¼•å…¥äº†æ–°çš„é—®é¢˜ï¼Œä¸¤ä¸ªè´Ÿæ•°ç›¸åŠ çš„ç»“æœä¸æ­£ç¡®\nè¡¥ç  è®¡ç®—æ–¹å¼ï¼šæ­£æ•°å’Œ0çš„è¡¥ç ç­‰äºåŸç ï¼Œè´Ÿæ•°çš„è¡¥ç æ˜¯å…¶åç åŠ ä¸€ã€‚\n    åŸç  è¡¥ç      +10 0000 1010 0000 1010   -10 1000 1010 1111 0110   -5 1000 0101 1111 1011    1111 0110 1111 1011 --------- 1111 0001 --\u0026gt; (-10)+(-5) = -15 0000 1010 1111 1011 --------- 0000 0101 --\u0026gt; 10+(-5) = 5 # æ¨¡ï¼šè¡¨ç¤ºnä½çš„è®¡ç®—æœºè®¡é‡èŒƒå›´æ˜¯`0-2^n-1`ï¼Œæ¨¡ä¸º`2^n` # è¿™é‡Œç”¨çš„æ˜¯8ä½ï¼Œæ‰€ä»¥æ¨¡ä¸º 2^8=256 # 10-5=10+256-5=261 ==\u0026gt; 1 0000 0101 ==\u0026gt; 0000 0101 ==\u0026gt; 5  è¡¥å……ï¼šå·²çŸ¥åŸç ç®—è¡¥ç æˆ–å·²çŸ¥è¡¥ç ç®—åŸç ï¼Œéƒ½æ˜¯å–åååŠ ä¸€ã€‚\nä¸¾ä¸ªæ —å­ï¼š # æŒ‰ä½ä¸ # 10 \u0026amp; 5 = 0 0000 1010 \u0026amp; 0000 0101 --------- 0000 0000 # æŒ‰ä½æˆ– # 10 | 5 = 15 0000 1010 | 0000 0101 --------- 0000 1111 # æŒ‰ä½å¼‚æˆ– # 10 ^ 5 = 15 0000 1010 ^ 0000 0101 --------- 0000 1111 # æŒ‰ä½å–åï¼š~x=-(x+1) # ~10 = 11 ~ 0000 1010 --\u0026gt; 10çš„è¡¥ç  ----------- 1111 0101 --\u0026gt; æŒ‰ä½å–å ----------- 1000 1011 --\u0026gt; å¾—åˆ°åŸç  # ~(-5) = 4 ~ 1111 1011 --\u0026gt; -5çš„è¡¥ç  ----------- 0000 0100 --\u0026gt; æŒ‰ä½å–å ----------- 0000 0100 --\u0026gt; å¾—åˆ°åŸç  # å·¦ç§»ï¼šx \u0026lt;\u0026lt; n = x * 2^nï¼ˆ2çš„næ¬¡å¹‚ï¼‰ # 10 \u0026lt;\u0026lt; 3 = 80 0000 1010 \u0026lt;\u0026lt; 3 --------- 0101 0000 # -10 \u0026lt;\u0026lt; 3 = -80 1000 1010 \u0026lt;\u0026lt; 3 --------- 1101 0000 # å³ç§» # 10 \u0026gt;\u0026gt; 3 = 1 0000 1010 \u0026gt;\u0026gt; 3 --------- 0000 0001 # -10 \u0026gt;\u0026gt; 3 = -2 1111 0110 --\u0026gt; -10çš„è¡¥ç  \u0026gt;\u0026gt; 3 --------- 1111 1110 --\u0026gt; å³ç§»ä¸‰ä½ --------- 1000 0010 --\u0026gt; åŸç   åº”ç”¨åœºæ™¯ 1ã€åˆ¤æ–­å¥‡å¶ println!(\u0026quot;{}\u0026quot;, 11 \u0026amp; 1 == 1); // true println!(\u0026quot;{}\u0026quot;, 18 \u0026amp; 1 == 0); // true  2ã€äº¤æ¢ä¸¤ä¸ªæ•° let mut a = 10; let mut b = 5; a = a ^ b; b = a ^ b; // b = (a ^ b) ^ b = a ^ (b ^ b) = a ^ 0 = a a = a ^ b; // a = (a ^ b) ^ a = (a ^ a) ^ b = 0 ^ b = b println!(\u0026quot;a = {}, b = {}\u0026quot;, a, b); // a = 5, b = 10 // ä¸¤ä¸ªç›¸åŒçš„æ•°å¼‚æˆ–çš„ç»“æœä¸º0ï¼Œä¸€ä¸ªæ•°å’Œ0çš„å¼‚æˆ–ç»“æœæ˜¯è¿™ä¸ªæ•°æœ¬èº«ã€‚  3ã€æ‰¾å‡ºæ²¡æœ‰é‡å¤çš„æ•° ç»™å‡ºä¸€ä¸ªæ•´å‹æ•°ç»„ï¼Œ[0,5,8,9,5,8,0]ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªæ•°åªå‡ºç°äº†ä¸€æ¬¡ï¼Œå…¶ä»–çš„æ•°éƒ½å‡ºç°äº†ä¸¤æ¬¡ï¼Œæ‰¾å‡ºå‡ºç°ä¸€æ¬¡çš„æ•°ã€‚\nlet arr = [0, 5, 8, 9, 5, 8, 0]; let mut temp = arr[0]; let mut i = 1; while i \u0026lt; arr.len() { temp ^= arr[i]; i += 1; } println!(\u0026quot;{}\u0026quot;, temp); // 9 // 0 ^ 5 ^ 8 ^ 9 ^ 5 ^ 8 ^ 0 = (0 ^0) ^ (5 ^ 5) ^ (8 ^ 8) ^ 9 = 0 ^ 0 ^ 0 ^ 9 = 9  4ã€åŠ å¯† 5ã€å…¶ä»– ","id":2,"section":"posts","summary":"ä»€ä¹ˆæ˜¯äºŒè¿›åˆ¶ äºŒè¿›åˆ¶æ˜¯è®¡ç®—æœºå†…éƒ¨è¿ç®—ä¸­é‡‡ç”¨çš„è¿›åˆ¶ï¼Œåœ¨è¿™æ ·çš„è¿›åˆ¶ç³»ç»Ÿä¸‹ï¼Œåªæœ‰0ï¼Œ1ä¸¤ä¸ªæ•°å­—ï¼Œè®¡ç®—æœºå†…éƒ¨çš„æ‰€æœ‰è¿ç®—ï¼ˆåŒ…æ‹¬ä½è¿ç®—ï¼‰éƒ½æ˜¯åœ¨äºŒè¿›åˆ¶çš„åŸºç¡€","tags":["ä½è¿ç®—"],"title":"ä½è¿ç®—","uri":"https://littleguest.github.io/posts/bit-operation/","year":"2021"},{"content":"ç®€ä»‹  é›ªèŠ±ç®—æ³•ï¼ˆSnowflakeï¼‰æ˜¯ä¸€ç§ç”Ÿæˆåˆ†å¸ƒå¼å…¨å±€å”¯ä¸€IDçš„ç®—æ³•ï¼Œç”Ÿæˆçš„IDç§°ä¸º Snowflake IDs æˆ– snowflakesã€‚\n è¿™ç§ç®—æ³•ç”± Twitter åˆ›å»ºï¼Œå¹¶ç”¨äºæ¨æ–‡çš„IDã€‚\nç»„æˆ ä¸€ä¸ª Snowflake ID æœ‰64bitï¼Œ\n 1 ä½è¡¨ç¤ºæ­£è´Ÿï¼š0è¡¨ç¤ºæ­£æ•°ï¼Œ1è¡¨ç¤ºè´Ÿæ•° 41 ä½è¡¨ç¤ºæ—¶é—´æˆ³ï¼Œæ€»å…±å¯ä»¥è¡¨ç¤º69å¹´ï¼ˆ(2^41-1)/(1000 * 60 * 60 * 24 * 365)ï¼‰ 10 ä½è¡¨ç¤ºå·¥ä½œæœºå™¨IDï¼Œå…¶ä¸­ï¼Œé«˜ä½5bitè¡¨ç¤ºdataCenterIdï¼Œä½ä½5bitè¡¨ç¤ºworkerId 12 ä½è¡¨ç¤ºåºåˆ—å·ï¼Œè®°å½•åŒä¸€æ¯«ç§’å†…äº§ç”Ÿçš„ä¸åŒID  å®ç° Rust /// é›ªèŠ±ç®—æ³• use std::sync::atomic::{AtomicI64, Ordering}; struct Snowflake { // å¼€å§‹æ—¶é—´æˆ³ epoch: i64, // æ•°æ®ä¸­å¿ƒID datacenter_id: i64, // å·¥ä½œæœºå™¨ID worker_id: i64, // åºåˆ—å· sequence: AtomicI64, // ä¸Šæ¬¡äº§ç”ŸIDçš„æ—¶é—´æˆ³ last_timestamp: AtomicI64, } impl Default for Snowflake { fn default() -\u0026gt; Self { Self { epoch: 1618710339362, datacenter_id: 0, worker_id: 0, sequence: AtomicI64::new(0), last_timestamp: AtomicI64::new(-1), } } } impl Snowflake { fn new(datacenter_id: i64, worker_id: i64) -\u0026gt; Self { Self { epoch: 1618710339362, datacenter_id, worker_id, sequence: AtomicI64::new(0), last_timestamp: AtomicI64::new(-1), } } fn next_id(\u0026amp;self) -\u0026gt; i64 { // è·å–å½“å‰æ—¶é—´æˆ³ let mut timestamp = self.time_gen(); let last_timestamp = self.last_timestamp.fetch_or(0, Ordering::Relaxed); let sequence = self.sequence.fetch_or(0, Ordering::Relaxed); // åˆ¤æ–­å½“å‰æ—¶é—´æˆ³æ˜¯å¦å°äºä¸Šæ¬¡äº§ç”ŸIDçš„æ—¶é—´æˆ³ if timestamp \u0026lt; last_timestamp { panic!(\u0026quot;æ—¶é—´åé€€ï¼Œæ‹’ç»äº§ç”ŸID\u0026quot;); } // åˆ¤æ–­å½“å‰æ—¶é—´æˆ³æ˜¯å¦ç­‰äºä¸Šæ¬¡äº§ç”ŸIDçš„æ—¶é—´æˆ³ if timestamp == last_timestamp { let sequence = (sequence + 1) \u0026amp; -1 ^ (-1 \u0026lt;\u0026lt; 12); self.sequence.swap(sequence, Ordering::Relaxed); // åˆ¤æ–­åºåˆ—å·æ˜¯å¦æº¢å‡º if sequence == 0 { timestamp = self.til_next_millis(); } } else { self.sequence.swap(0, Ordering::Relaxed); } self.last_timestamp.swap(timestamp, Ordering::Relaxed); ((timestamp - self.epoch) \u0026lt;\u0026lt; 22) | (self.datacenter_id \u0026lt;\u0026lt; 17) | (self.worker_id \u0026lt;\u0026lt; 12) | self.sequence.fetch_or(0, Ordering::Relaxed) } // è·å–å½“å‰æ¯«ç§’æ—¶é—´æˆ³ fn time_gen(\u0026amp;self) -\u0026gt; i64 { chrono::Local::now().timestamp_millis() } // é˜»å¡è·å–ä¸‹ä¸€æ¯«ç§’æ—¶é—´æˆ³ fn til_next_millis(\u0026amp;self) -\u0026gt; i64 { let mut timestamp = self.time_gen(); let last_timestamp = self.last_timestamp.fetch_or(0, Ordering::Relaxed); while timestamp \u0026lt; last_timestamp { timestamp = self.time_gen(); } timestamp } } fn main() { let snowflake = Snowflake::default(); for _ in 1..=100 { println!(\u0026quot;{:?}\u0026quot;, snowflake.next_id()); } }  Java import cn.hutool.core.date.SystemClock; public class Snowflake { private final long epoch = 1618710339362L; private final long workerId; private final long datacenterId; private long sequence = 0L; private long lastTimestamp = -1L; public Snowflake() { this.datacenterId = 0; this.workerId = 0; } public Snowflake(long workerId, long datacenterId) { this.workerId = workerId; this.datacenterId = datacenterId; } /** * è·å–ä¸‹ä¸€ä¸ª ID * * @return ä¸‹ä¸€ä¸ª ID */ public synchronized long nextId() { long timestamp = timeGen(); if (timestamp \u0026lt; lastTimestamp) { throw new RuntimeException(\u0026quot;æ—¶é—´åé€€ï¼Œæ‹’ç»äº§ç”ŸID\u0026quot;); } if (lastTimestamp == timestamp) { // ç›¸åŒæ¯«ç§’å†…ï¼Œåºåˆ—å·è‡ªå¢ sequence = (sequence + 1) \u0026amp; -1 ^ (-1 \u0026lt;\u0026lt; 12); if (sequence == 0) { // åŒä¸€æ¯«ç§’çš„åºåˆ—æ•°å·²ç»è¾¾åˆ°æœ€å¤§ timestamp = tilNextMillis(lastTimestamp); } } else { sequence = 0L; } lastTimestamp = timestamp; // æ—¶é—´æˆ³éƒ¨åˆ† | æ•°æ®ä¸­å¿ƒéƒ¨åˆ† | æœºå™¨æ ‡è¯†éƒ¨åˆ† | åºåˆ—å·éƒ¨åˆ† return ((timestamp - epoch) \u0026lt;\u0026lt; 22) | (workerId \u0026lt;\u0026lt; 17) | (datacenterId \u0026lt;\u0026lt; 12) | sequence; } protected long tilNextMillis(long lastTimestamp) { long timestamp = timeGen(); while (timestamp \u0026lt;= lastTimestamp) { timestamp = timeGen(); } return timestamp; } protected long timeGen() { return SystemClock.now(); } public static void main(String[] args) { Snowflake snowflake = new Snowflake(); for (int i = 1; i \u0026lt;= 100; i++) { System.out.println(snowflake.nextId()); } } }  é›ªèŠ±ç®—æ³•çš„ä¼˜ç¼ºç‚¹ ä¼˜ç‚¹\n èƒ½æ»¡è¶³é«˜å¹¶å‘åˆ†å¸ƒå¼ç³»ç»Ÿç¯å¢ƒä¸‹IDä¸é‡å¤ ç”Ÿæˆæ•ˆç‡é«˜ åŸºäºæ—¶é—´æˆ³ï¼Œå¯ä»¥ä¿è¯åŸºæœ¬æœ‰åºé€’å¢ ä¸ä¾èµ–äºç¬¬ä¸‰æ–¹çš„åº“æˆ–è€…ä¸­é—´ä»¶ ç”Ÿæˆçš„idå…·æœ‰æ—¶åºæ€§å’Œå”¯ä¸€æ€§  ç¼ºç‚¹\n ä¾èµ–æœºå™¨çš„æ—¶é—´  ","id":3,"section":"posts","summary":"ç®€ä»‹ é›ªèŠ±ç®—æ³•ï¼ˆSnowflakeï¼‰æ˜¯ä¸€ç§ç”Ÿæˆåˆ†å¸ƒå¼å…¨å±€å”¯ä¸€IDçš„ç®—æ³•ï¼Œç”Ÿæˆçš„IDç§°ä¸º Snowflake IDs æˆ– snowflakesã€‚ è¿™ç§ç®—æ³•ç”± Twitter åˆ›å»ºï¼Œå¹¶ç”¨äºæ¨æ–‡","tags":["ç®—æ³•"],"title":"é›ªèŠ±ç®—æ³•ï¼ˆSnowflakeï¼‰","uri":"https://littleguest.github.io/posts/snowflake/","year":"2021"},{"content":"åœ¨è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ Gogs æ¥æ­å»ºç§æœ‰ Git æœåŠ¡ã€‚\n$ docker pull gogs/gogs $ docker docker run -d --name=gogs -p 12200:22 -p 13000:3000 -v /var/gogs:/data gogs/gogs  é¦–æ¬¡è®¿é—® localhost:13000 ä¼šå‡ºç°å®‰è£…ç•Œé¢ï¼Œ\næˆ‘ä»¬è¿™é‡Œæ•°æ®åº“é€‰æ‹© MySQL ï¼Œå¹¶åˆ›å»ºå¯¹åº”çš„ gogs è´¦æˆ·å’Œ gogs åº“ã€‚å¯¹åº”çš„ HTTPç«¯å£ å’Œ SSHç«¯å£ è®¾ç½®ä¸ºæ˜ å°„åˆ°ä¸»æœºçš„ç«¯å£ã€‚ç„¶ååˆ›å»ºä¸€ä¸ªç®¡ç†å‘˜çš„è´¦å·ã€‚é…ç½®å¦‚ä¸‹ï¼š\nä½†æ˜¯è¿™ä¼šé‡åˆ°é—®é¢˜ï¼Œé”™è¯¯ä¸ºæ•°æ®åº“è¿æ¥ä¸ä¸Šï¼Œå› ä¸ºæˆ‘çš„ MySQL ä¹Ÿæ˜¯ä½¿ç”¨ Docker å®‰è£…çš„ã€‚æ•°æ®åº“ä¸»æœºåœ°å€ä¸ç®¡æ˜¯ç”¨ localhost:3306 è¿˜æ˜¯ 127.0.0.1:3306 éƒ½ä¸èµ·ä½œç”¨ã€‚è¿™æ˜¯å› ä¸ºè¿™ä¸¤ä¸ªå®¹å™¨ä¸åœ¨åŒä¸€ä¸ªç½‘ç»œä¸­ï¼Œæ‰€ä»¥é¦–å…ˆå¾—åˆ›å»ºä¸€ä¸ªç½‘ç»œï¼ŒæŒ‡å®š MySQL å’Œ Gogs çš„å®¹å™¨åœ¨åŒä¸€ä¸ªç½‘ç»œä¸­ã€‚\n# åˆ›å»ºç½‘ç»œ $ docker network create gogs-mysql8 # åˆ›å»º MySQL å®¹å™¨ï¼ŒæŒ‡å®šç½‘ç»œ $ docker run -d --name gogs-mysql8 --network gogs-mysql8 -p 13001:3306 -e MYSQL_ROOT_PASSWORD=root mysql:latest # åˆ›å»º Gogså®¹å™¨ï¼ŒæŒ‡å®šç½‘ç»œ $ docker run -d --name=gogs --network gogs-mysql8 -p 12200:22 -p 13000:3000 -v /var/gogs:/data gogs/gogs  é‡æ–°é…ç½®æ•°æ®åº“è¿æ¥\nç™»å½•ä¹‹åï¼Œåˆ›å»ºä¸€ä¸ªä»“åº“ gogs-demo , clone åˆ°æœ¬åœ°ï¼Œæ·»åŠ æˆ–ä¿®æ”¹ README.md æ–‡ä»¶ï¼Œå†æ¬¡æäº¤ï¼Œå¯ä»¥çœ‹åˆ°æˆåŠŸäº†ã€‚\n","id":4,"section":"posts","summary":"åœ¨è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ Gogs æ¥æ­å»ºç§æœ‰ Git æœåŠ¡ã€‚ $ docker pull gogs/gogs $ docker docker run -d --name=gogs -p 12200:22 -p 13000:3000 -v /var/gogs:/data gogs/gogs é¦–æ¬¡è®¿é—® localhost:13000 ä¼šå‡ºç°å®‰è£…ç•Œé¢ï¼Œ æˆ‘ä»¬è¿™é‡Œæ•°æ®åº“é€‰æ‹© MySQL ï¼Œå¹¶åˆ›å»ºå¯¹åº”çš„ gogs è´¦æˆ·å’Œ gogs åº“","tags":["Docker","Git"],"title":"Docker æ­å»ºç§æœ‰ Git æœåŠ¡","uri":"https://littleguest.github.io/posts/docker-gogs/","year":"2021"},{"content":"æ€æ ·é€‰æ‹©å¼€æºåè®®\nåœ¨ç½‘ä¸Šæ‰¾äº†ä¸€å¼ è¿œå¤å¯¹æ¯”å›¾ï¼Œå¤§å®¶å¯ä»¥ç®€å•äº†è§£ä¸‹\nä½œä¸ºä¸ªäººå¼€å‘è€…ï¼Œæˆ‘ä¸€èˆ¬é€‰æ‹©çš„æ˜¯ MIT License ã€‚\n","id":5,"section":"posts","summary":"æ€æ ·é€‰æ‹©å¼€æºåè®® åœ¨ç½‘ä¸Šæ‰¾äº†ä¸€å¼ è¿œå¤å¯¹æ¯”å›¾ï¼Œå¤§å®¶å¯ä»¥ç®€å•äº†è§£ä¸‹ ä½œä¸ºä¸ªäººå¼€å‘è€…ï¼Œæˆ‘ä¸€èˆ¬é€‰æ‹©çš„æ˜¯ MIT License ã€‚","tags":["å¼€æºåè®®"],"title":"å¼€æºåè®®å¯¹æ¯”","uri":"https://littleguest.github.io/posts/open-source-license/","year":"2021"},{"content":"Cargo æ˜¯ Rust çš„åŒ…ç®¡ç†å·¥å…·\n cargo new xxx --bin åˆ›å»ºä¸€ä¸ª binary crate cargo build ç¼–è¯‘ crate cargo run ç¼–è¯‘å’Œè¿è¡Œ binary crate  Cargo ç›®å½• . â”œâ”€â”€ Cargo.lock â”œâ”€â”€ Cargo.toml â”œâ”€â”€ benches â”‚ â””â”€â”€ large-input.rs â”œâ”€â”€ examples â”‚ â””â”€â”€ simple.rs â”œâ”€â”€ src â”‚ â”œâ”€â”€ bin â”‚ â”‚ â””â”€â”€ another_executable.rs â”‚ â”œâ”€â”€ lib.rs â”‚ â””â”€â”€ main.rs â””â”€â”€ tests â””â”€â”€ some-integration-tests.rs  ##ã€€Cargo.toml\n cargo-features â€” ä¸ç¨³å®šï¼Œnightlyç‰ˆæœ¬çš„åŠŸèƒ½ [package] â€” å®šä¹‰ä¸€ä¸ªåŒ…  name â€” åŒ…åï¼ˆå¿…éœ€çš„ï¼‰  è½¯ä»¶åŒ…åç§°æ˜¯ç”¨äºå¼•ç”¨è½¯ä»¶åŒ…çš„æ ‡è¯†ç¬¦ã€‚å½“å®ƒè¢«åˆ—ä¸ºå¦ä¸€ä¸ªè½¯ä»¶åŒ…çš„ä¾èµ–å…³ç³»æ—¶ï¼Œä»¥åŠä½œä¸ºæ¨æ–­çš„libå’Œbinç›®æ ‡çš„é»˜è®¤åç§°æ—¶ï¼Œéƒ½ä¼šä½¿ç”¨å®ƒã€‚ **åŒ…åå¿…é¡»åªä½¿ç”¨å­—æ¯æ•°å­—å­—ç¬¦æˆ–-æˆ–_ï¼Œä¸èƒ½ä¸ºç©º**ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ cargo new å’Œ cargo init å¯¹åŒ…åæ–½åŠ äº†ä¸€äº›é¢å¤–çš„é™åˆ¶ï¼Œæ¯”å¦‚å¼ºåˆ¶è¦æ±‚åŒ…åæ˜¯æœ‰æ•ˆçš„ Rust æ ‡è¯†ç¬¦ï¼Œè€Œä¸æ˜¯å…³é”®å­—ã€‚ crates.io å¯¹åŒ…åæ–½åŠ äº†æ›´å¤šçš„é™åˆ¶ï¼Œæ¯”å¦‚å¼ºåˆ¶è¦æ±‚åªèƒ½ä½¿ç”¨ ASCII å­—ç¬¦ï¼Œä¸èƒ½ä½¿ç”¨ä¿ç•™çš„åç§°ï¼Œä¸èƒ½ä½¿ç”¨ç‰¹æ®Šçš„ Windows åç§°ï¼Œæ¯”å¦‚ \u0026ldquo;nul\u0026rdquo;ï¼Œä¸èƒ½å¤ªé•¿ï¼Œç­‰ç­‰ã€‚   version â€” åŒ…ç‰ˆæœ¬ï¼ˆå¿…éœ€çš„ï¼‰ authors â€” åŒ…çš„ä½œè€… edition â€” Rust ç‰ˆæœ¬ description â€” åŒ…æè¿° documentation â€” åŒ…æ–‡æ¡£åœ°å€ URL readme â€” åŒ…çš„ README æ–‡ä»¶è·¯å¾„  readmeå­—æ®µåº”è¯¥æ˜¯è½¯ä»¶åŒ…æ ¹ç›®å½•ä¸‹çš„æ–‡ä»¶è·¯å¾„ï¼ˆç›¸å¯¹äºè¿™ä¸ªCargo.tomlï¼‰ï¼Œå®ƒåŒ…å«äº†è½¯ä»¶åŒ…çš„ä¸€èˆ¬ä¿¡æ¯ã€‚crates.ioä¼šå°†å…¶è§£é‡Šä¸ºMarkdownï¼Œå¹¶å°†å…¶å‘ˆç°åœ¨crateçš„é¡µé¢ä¸Šã€‚ å¦‚æœæ²¡æœ‰ä¸ºè¿™ä¸ªå­—æ®µæŒ‡å®šå€¼ï¼Œè€Œæ ¹ç›®å½•ä¸‹å­˜åœ¨åä¸º README.mdã€README.txt æˆ– README çš„æ–‡ä»¶ï¼Œé‚£ä¹ˆå°†ä½¿ç”¨è¯¥æ–‡ä»¶çš„åç§°ã€‚æ‚¨å¯ä»¥é€šè¿‡å°†æ­¤å­—æ®µè®¾ç½®ä¸ºfalse æ¥æŠ‘åˆ¶è¿™ç§è¡Œä¸ºã€‚å¦‚æœè¯¥å­—æ®µè¢«è®¾ç½®ä¸º trueï¼Œåˆ™ä¼šä½¿ç”¨README.mdçš„é»˜è®¤å€¼ã€‚   homepage â€” åŒ…çš„ä¸»é¡µåœ°å€ URL repository â€” åŒ…æºç ä»“åº“åœ°å€ URL license â€” åŒ…è®¸å¯è¯ license-file â€” è®¸å¯è¯æ–‡æœ¬è·¯å¾„ keywords â€” åŒ…å…³é”®å­— categories â€” åŒ…çš„åˆ†ç±» workspace â€” åŒ…å·¥ä½œç©ºé—´è·¯å¾„ build â€” åŒ…æ„å»ºè„šæœ¬çš„è·¯å¾„ links â€” åŒ…ä¸­é“¾æ¥çš„æœ¬åœ°åº“çš„åç§° exclude â€” å‘å¸ƒæ—¶è¦æ’é™¤çš„æ–‡ä»¶ include â€” å‘å¸ƒæ—¶è¦åŒ…å«çš„æ–‡ä»¶ publish â€” å¯ä»¥ç”¨æ¥é˜²æ­¢å‘å¸ƒåŒ… metadata â€” é¢å¤–çš„å¤–éƒ¨å·¥å…·è®¾ç½® default-run â€” é€šè¿‡ cargo run è¿è¡Œé»˜è®¤äºŒè¿›åˆ¶æ–‡ä»¶ autobins â€” ç¦ç”¨è‡ªåŠ¨å‘ç° bins autoexamples â€” ç¦ç”¨è‡ªåŠ¨å‘ç° example autotests â€” ç¦ç”¨è‡ªåŠ¨å‘ç° test autobenches â€” ç¦ç”¨è‡ªåŠ¨å‘ç° bench   Target åˆ—è¡¨  [lib] â€” Library target settings. [[bin]] â€” Binary target settings. [[example]] â€” Example target settings. [[test]] â€” Test target settings. [[bench]] â€” Benchmark target settings.   ä¾èµ–åˆ—è¡¨ï¼š  [dependencies] â€” åŒ…çš„ä¾èµ– [dev-dependencies] â€” examplesã€tests å’Œ benchmarksçš„ä¾èµ– [build-dependencies] â€” æ„å»ºè„šæœ¬çš„ä¾èµ– [target] â€” å¹³å°ç‰¹æœ‰çš„ä¾èµ–   [badges] â€” æ³¨å†Œæ˜¾ç¤ºçš„å¾½ç« (Badges to display on a registry.) [features] â€” æ¡ä»¶ç¼–è¯‘æŸäº›åŠŸèƒ½(Conditional compilation features.) [patch] â€” è¦†ç›–ä¾èµ– [replace] â€” è¦†ç›–ä¾èµ–ï¼ˆå·²åºŸå¼ƒï¼‰ [profile] â€” ç¼–è¯‘å™¨è®¾ç½®å’Œä¼˜åŒ– [workspace] â€” å·¥ä½œç©ºé—´å®šä¹‰  ","id":6,"section":"posts","summary":"Cargo æ˜¯ Rust çš„åŒ…ç®¡ç†å·¥å…· cargo new xxx --bin åˆ›å»ºä¸€ä¸ª binary crate cargo build ç¼–è¯‘ crate cargo run ç¼–è¯‘å’Œè¿è¡Œ binary crate Cargo ç›®å½• . â”œâ”€â”€ Cargo.lock â”œâ”€â”€ Cargo.toml â”œâ”€â”€ benches â”‚ â””â”€â”€ large-input.rs â”œâ”€â”€ examples â”‚ â””â”€â”€ simple.rs â”œâ”€â”€ src â”‚ â”œâ”€","tags":["Cargo"],"title":"Rust çš„åŒ…ç®¡ç†å·¥å…· Cargo","uri":"https://littleguest.github.io/posts/rust-cargo/","year":"2021"},{"content":"Vim æ‚è®° vim æ¨¡å¼  æ™®é€šæ¨¡å¼ï¼švim å¯åŠ¨åçš„é»˜è®¤æ¨¡å¼,ç§»åŠ¨å…‰æ ‡ï¼Œåˆ é™¤æ–‡æœ¬ç­‰ç­‰éƒ½åœ¨è¯¥æ¨¡å¼ä¸‹ æ’å…¥æ¨¡å¼ åœ¨æ™®é€šæ¨¡å¼ä¸‹ï¼ŒæŒ‰ a æˆ– i è¿›å…¥è¯¥æ¨¡å¼ å¯è§†æ¨¡å¼ åœ¨æ™®é€šæ¨¡å¼ä¸‹ï¼ŒæŒ‰ v æˆ– Ctrl + v è¿›å…¥ é€‰æ‹©æ¨¡å¼ å‘½ä»¤è¡Œæ¨¡å¼ åœ¨æ™®é€šæ¨¡å¼ä¸‹ï¼ŒæŒ‰ : è¿›å…¥è¯¥æ¨¡å¼ï¼› Exæ¨¡å¼  ä»¥ä¸‹ n ä»£è¡¨æ•°å­—ï¼Œè¡¨ç¤ºé‡å¤æ“ä½œ\nå…‰æ ‡ç§»åŠ¨  å‘ä¸‹ç§»åŠ¨ï¼šjã€nj å‘ä¸Šç§»åŠ¨ï¼škã€nk å‘å·¦ç§»åŠ¨ï¼šhã€nh å‘å³ç§»åŠ¨ï¼šlã€nl ä»¥å•è¯ç§»åŠ¨ï¼š  å‘å‰ wã€nwã€Wï¼Œå…‰æ ‡åœåœ¨å•è¯è¯é¦– å‘å bã€nbã€Bï¼Œå…‰æ ‡åœåœ¨å•è¯è¯é¦– å‘å‰ eã€neã€Eï¼Œå…‰æ ‡åœåœ¨å•è¯è¯å°¾ å‘å geã€ngeï¼Œå…‰æ ‡åœåœ¨å•è¯è¯å°¾   ç§»åŠ¨å…‰æ ‡åˆ°è¡Œå°¾ï¼š$ ã€n$ ç§»åŠ¨å…‰æ ‡åˆ°è¡Œé¦–ï¼š0ï¼ˆæ•°å­—ï¼‰ã€^ï¼ˆè¡Œé¦–éç©ºå­—ç¬¦ï¼‰ ç§»åŠ¨åˆ°ç¬¬å‡ è¡Œï¼šnGã€Gï¼ˆç§»åŠ¨åˆ°æœ€åä¸€è¡Œï¼‰æˆ–å‘½ä»¤è¡Œæ¨¡å¼è¾“å…¥:n å‘å‰ç¿»é¡µï¼ˆå‘ä¸‹ï¼‰ï¼šCtrl + f å‘åç¿»é¡µï¼ˆå‘ä¸Šï¼‰ï¼šCtrl + b \u0026hellip;  è¿›å…¥æ’å…¥æ¨¡å¼    å‘½ä»¤ è¯´æ˜     i åœ¨å½“å‰å…‰æ ‡å¤„è¿›è¡Œç¼–è¾‘   I åœ¨è¡Œé¦–æ’å…¥   A åœ¨è¡Œæœ«æ’å…¥   a åœ¨å…‰æ ‡åæ’å…¥ç¼–è¾‘   o åœ¨å½“å‰è¡Œåæ’å…¥ä¸€ä¸ªæ–°è¡Œ   O åœ¨å½“å‰è¡Œå‰æ’å…¥ä¸€ä¸ªæ–°è¡Œ   cw æ›¿æ¢ä»å…‰æ ‡æ‰€åœ¨ä½ç½®ååˆ°ä¸€ä¸ªå•è¯ç»“å°¾çš„å­—ç¬¦    é€€å‡º Vim  å‘½ä»¤è¡Œæ¨¡å¼é€€å‡º    å‘½ä»¤ è¯´æ˜     :q! å¼ºåˆ¶é€€å‡ºï¼Œä¸ä¿å­˜   :q é€€å‡º   :wq! å¼ºåˆ¶ä¿å­˜å¹¶é€€å‡º   :w \u0026lt;æ–‡ä»¶è·¯å¾„\u0026gt; å¦å­˜ä¸º   :saveas æ–‡ä»¶è·¯å¾„ å¦å­˜ä¸º   :x ä¿å­˜å¹¶é€€å‡º   :wq ä¿å­˜å¹¶é€€å‡º     æ™®é€šæ¨¡å¼é€€å‡º shift + z + z  æŸ¥æ‰¾ åœ¨æ™®é€šæ¨¡å¼ä¸‹\n /æƒ³è¦æœç´¢çš„å†…å®¹  æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ é»˜è®¤æ˜¯å¤§å°å†™ä¸æ•æ„Ÿçš„ æœç´¢å¤§å°å†™æ•æ„Ÿçš„  åœ¨æƒ³è¦æœç´¢çš„å†…å®¹ååŠ  \\C å¼€å¯æ™ºèƒ½æ¨æµ‹ :set smartcase è¾“å…¥å¤§å†™çš„ï¼ŒåŒ¹é…å¤§å†™çš„ï¼Œåä¹‹äº¦ç„¶     ?ï¼šä¸ / ç›¸å *ï¼šæœç´¢å…‰æ ‡å½“å‰æ‰€åœ¨çš„å•è¯ #ï¼šä¸ * ç›¸å  è¾“å…¥ n æˆ– N å‘ä¸‹æˆ–å‘ä¸Šæœç´¢\næ›¿æ¢ åœ¨æ™®é€šæ¨¡å¼ä¸‹\n æ›¿æ¢å•ä¸ªå­—ç¬¦ï¼šrã€nr æ›¿æ¢å¤šä¸ªå­—ç¬¦ï¼ˆä¸€ä¸ªä¸€ä¸ªæ›¿æ¢ï¼‰ï¼šRã€nR æ‰¹é‡æ›¿æ¢ï¼š:%s/æºå­—ç¬¦ä¸²/ç›®çš„å­—ç¬¦ä¸²/g  å¤åˆ¶  yï¼šç»„åˆå‘½ä»¤ x  ç²˜è´´ pã€npç²˜è´´æ–‡æœ¬ç¼“å†²åŒºçš„å†…å®¹\nåˆ é™¤æ–‡æœ¬  dï¼šç»„åˆå‘½ä»¤  dã€yã€x å…±ç”¨ä¸€ä¸ªæ–‡æœ¬ç¼“å†²åŒºï¼Œä¹Ÿå¯ä»¥å°†ä¸‰ä¸ªå‘½ä»¤çœ‹åšæ˜¯å¤åˆ¶ã€å‰ªåˆ‡æ“ä½œ\næ’¤é”€å’Œæ¢å¤æ’¤é”€  æ’¤é”€ï¼šu æ¢å¤æ’¤é”€ï¼šCtrl + r  ","id":7,"section":"posts","summary":"Vim æ‚è®° vim æ¨¡å¼ æ™®é€šæ¨¡å¼ï¼švim å¯åŠ¨åçš„é»˜è®¤æ¨¡å¼,ç§»åŠ¨å…‰æ ‡ï¼Œåˆ é™¤æ–‡æœ¬ç­‰ç­‰éƒ½åœ¨è¯¥æ¨¡å¼ä¸‹ æ’å…¥æ¨¡å¼ åœ¨æ™®é€šæ¨¡å¼ä¸‹ï¼ŒæŒ‰ a æˆ– i è¿›å…¥è¯¥æ¨¡å¼ å¯è§†æ¨¡å¼ åœ¨æ™®é€šæ¨¡å¼ä¸‹","tags":["Vim"],"title":"Vim æ‚è®°","uri":"https://littleguest.github.io/posts/vim-notes/","year":"2021"},{"content":"å› ä¸ºç¬”è€…æœ¬èº«æ²¡æœ‰å­¦è¿‡ä»»ä½•æœ‰å…³ç¡¬ä»¶çš„çŸ¥è¯†ï¼Œæ‰€ä»¥ç†è§£ä¸Šå¯èƒ½ä¼šå‡ºç°åå·®ã€‚åœ¨å®é™…çš„æ“ä½œè¿‡ç¨‹ä¸­ä¹Ÿæ˜¾å¾—æ¯”è¾ƒåƒåŠ›ã€‚\nå‡†å¤‡ç›¸å…³ç‰©å“   æ ‘è“æ´¾ 4B ï¼šï¼ˆä¹°æ¥åƒç°å¾ˆä¹…äº†çš„ï¼Œä¸€ç›´æ²¡æœ‰ç”¨ä¸Šï¼Œç°åœ¨ç»ˆäºæœ‰æœºè‚¥äº†ï¼‰   ä¸€ä¸ª ä¸‰è‰²RGB LED æ¨¡å—   4æ ¹æ¯å¯¹æ¯æœé‚¦çº¿ï¼ˆè¿™ç©æ„å„¿è¿˜åˆ†å…¬æ¯ï¼Œå…¬æ¯çš„åŒºåˆ«å°±æ˜¯ä¸€ä¸ªæ˜¯é’ˆï¼Œä¸€ä¸ªæ˜¯å­”ã€‚ğŸ¤­ğŸ¤­ï¼‰   ç„¶åå‘¢ï¼Œæˆ‘é¢å¯¹è¿™å‡ æ ·ä¸œè¥¿çš„æ—¶å€™ä¸€è„¸æ‡µé€¼ï¼Œå®Œå…¨ä¸çŸ¥é“æ¥ä¸‹æ¥è¯¥æ€ä¹ˆåšï¼Œä¹Ÿä¸çŸ¥é“æ€ä¹ˆæŠŠè¿™å‡ æ ·ä¸œè¥¿è¿æ¥èµ·æ¥ã€‚\nå…ˆè«æ…Œï¼Œåœ¨å®é™…æ“ä½œä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜éœ€è¦äº†è§£å‡ ä¸ªä¸œä¸œã€‚\nç®€å•äº†è§£ç›¸å…³çŸ¥è¯†   å¼•è„š\n å¼•è„šï¼Œåˆå«ç®¡è„šï¼Œè‹±æ–‡å«Pinã€‚å°±æ˜¯ä»é›†æˆç”µè·¯ï¼ˆèŠ¯ç‰‡ï¼‰å†…éƒ¨ç”µè·¯å¼•å‡ºä¸å¤–å›´ç”µè·¯çš„æ¥çº¿ï¼Œæ‰€æœ‰çš„å¼•è„šå°±æ„æˆäº†è¿™å—èŠ¯ç‰‡çš„æ¥å£ã€‚å¼•çº¿æœ«ç«¯çš„ä¸€æ®µï¼Œé€šè¿‡è½¯é’ç„Šä½¿è¿™ä¸€æ®µä¸å°åˆ¶æ¿ä¸Šçš„ç„Šç›˜å…±åŒå½¢æˆç„Šç‚¹ã€‚å¼•è„šå¯åˆ’åˆ†ä¸ºè„šè·Ÿï¼ˆbottomï¼‰ã€è„šè¶¾ï¼ˆtoeï¼‰ã€è„šä¾§ï¼ˆsideï¼‰ç­‰éƒ¨åˆ†ã€‚\n   GPIO\n GPIOï¼ˆè‹±è¯­ï¼šGeneral-purpose input/outputï¼‰ï¼Œé€šç”¨å‹ä¹‹è¾“å…¥è¾“å‡ºçš„ç®€ç§°ï¼ŒåŠŸèƒ½ç±»ä¼¼8051çš„P0â€”P3ï¼Œå…¶æ¥è„šå¯ä»¥ä¾›ä½¿ç”¨è€…ç”±ç¨‹æ§è‡ªç”±ä½¿ç”¨ï¼ŒPINè„šä¾ç°å®è€ƒé‡å¯ä½œä¸ºé€šç”¨è¾“å…¥ï¼ˆGPIï¼‰æˆ–é€šç”¨è¾“å‡ºï¼ˆGPOï¼‰æˆ–é€šç”¨è¾“å…¥ä¸è¾“å‡ºï¼ˆGPIOï¼‰ï¼Œå¦‚å½“clk generator, chip selectç­‰ã€‚ æ—¢ç„¶ä¸€ä¸ªå¼•è„šå¯ä»¥ç”¨äºè¾“å…¥ã€è¾“å‡ºæˆ–å…¶ä»–ç‰¹æ®ŠåŠŸèƒ½ï¼Œé‚£ä¹ˆä¸€å®šæœ‰å¯„å­˜å™¨ç”¨æ¥é€‰æ‹©è¿™äº›åŠŸèƒ½ã€‚å¯¹äºè¾“å…¥ï¼Œä¸€å®šå¯ä»¥é€šè¿‡è¯»å–æŸä¸ªå¯„å­˜å™¨æ¥ç¡®å®šå¼•è„šç”µä½çš„é«˜ä½ï¼›å¯¹äºè¾“å‡ºï¼Œä¸€å®šå¯ä»¥é€šè¿‡å†™å…¥æŸä¸ªå¯„å­˜å™¨æ¥è®©è¿™ä¸ªå¼•è„šè¾“å‡ºé«˜ç”µä½æˆ–è€…ä½ç”µä½ï¼›å¯¹äºå…¶ä»–ç‰¹æ®ŠåŠŸèƒ½ï¼Œåˆ™æœ‰å¦å¤–çš„å¯„å­˜å™¨æ¥æ§åˆ¶å®ƒä»¬ã€‚\n   SPI\n SPIæ˜¯ä¸²è¡Œå¤–è®¾æ¥å£ï¼ˆSerial Peripheral Interfaceï¼‰çš„ç¼©å†™ã€‚SPIï¼Œæ˜¯ä¸€ç§é«˜é€Ÿçš„ï¼Œå…¨åŒå·¥ï¼ŒåŒæ­¥çš„é€šä¿¡æ€»çº¿ï¼Œå¹¶ä¸”åœ¨èŠ¯ç‰‡çš„ç®¡è„šä¸Šåªå ç”¨å››æ ¹çº¿ã€‚\n   æ ‘è“æ´¾ 4B å¼•è„šåˆ†å¸ƒå›¾   RGB\n RGBè‰²å½©æ¨¡å¼æ˜¯å·¥ä¸šç•Œçš„ä¸€ç§é¢œè‰²æ ‡å‡†ï¼Œæ˜¯é€šè¿‡å¯¹çº¢(R)ã€ç»¿(G)ã€è“(B)ä¸‰ä¸ªé¢œè‰²é€šé“çš„å˜åŒ–ä»¥åŠå®ƒä»¬ç›¸äº’ä¹‹é—´çš„å åŠ æ¥å¾—åˆ°å„å¼å„æ ·çš„é¢œè‰²çš„ï¼ŒRGBå³æ˜¯ä»£è¡¨çº¢ã€ç»¿ã€è“ä¸‰ä¸ªé€šé“çš„é¢œè‰²ï¼Œè¿™ä¸ªæ ‡å‡†å‡ ä¹åŒ…æ‹¬äº†äººç±»è§†åŠ›æ‰€èƒ½æ„ŸçŸ¥çš„æ‰€æœ‰é¢œè‰²ï¼Œæ˜¯è¿ç”¨æœ€å¹¿çš„é¢œè‰²ç³»ç»Ÿä¹‹ä¸€ã€‚\n Rã€Gã€Bå„ä¸ªèŒƒå›´æ˜¯[0,255]\n  LED ï¼šå‘å…‰äºŒæç®¡ã€‚\n  æ¥çº¿    rgb-ledç¯ æ ‘è“æ´¾     R 18ï¼ˆGPIOï¼‰ æˆ– 12ï¼ˆç‰©ç†å¼•è„šï¼‰   G 15ï¼ˆGPIOï¼‰ æˆ– 10ï¼ˆç‰©ç†å¼•è„šï¼‰   B 14ï¼ˆGPIOï¼‰ æˆ– 8ï¼ˆç‰©ç†å¼•è„šï¼‰   GND Ground æˆ– 6ï¼ˆç‰©ç†å¼•è„šï¼‰    å¦‚ä¸‹å›¾ï¼š\nVSCode è¿œç¨‹è¿æ¥ æ ‘è“æ´¾ ç¬”è€…è¿™é‡Œé€‰æ‹©ä½¿ç”¨ VSCode çš„æ‰©å±• Remote - SSH è¿æ¥åˆ° æ ‘è“æ´¾ï¼Œç›´æ¥åœ¨æ ‘è“æ´¾ä¸Šå¼€å‘ã€‚\næ ‘è“æ´¾å¼€å¯ SPI $ sudo raspi-config  ç¼–ç  ç¬”è€…è¿™é‡Œä½¿ç”¨çš„æ˜¯ rppal è¿™ä¸ª crateã€‚\nuse rppal::gpio::OutputPin; use std::error::Error; use rppal::gpio::Gpio; use std::thread; use std::time::Duration; /// BCM /// rgbledç¯å¼•è„šå¯¹åº”æ ‘è“æ´¾å¼•è„š const R: u8 = 18; const G: u8 = 15; const B: u8 = 14; struct RGBLed { red_pin: OutputPin, green_pin: OutputPin, blue_pin: OutputPin, } fn main() -\u0026gt; Result\u0026lt;(), Box\u0026lt;dyn Error\u0026gt;\u0026gt; { let g = Gpio::new()?; let red_pin = g.get(R)?.into_output(); let green_pin = g.get(G)?.into_output(); let blue_pin = g.get(B)?.into_output(); let mut rgb_led = RGBLed { red_pin, green_pin, blue_pin, }; loop { // è®¾ç½®é«˜ç”µé¢‘ rgb_led.red_pin.set_high(); // ç¡200ms thread::sleep(Duration::from_millis(200)); // è®¾ç½®ä½ç”µé¢‘ rgb_led.red_pin.set_low(); rgb_led.green_pin.set_high(); thread::sleep(Duration::from_millis(200)); rgb_led.green_pin.set_low(); rgb_led.blue_pin.set_high(); thread::sleep(Duration::from_millis(200)); rgb_led.blue_pin.set_low(); } }  æ•ˆæœå¦‚ä¸‹ï¼š\n è™½ç„¶è¿‡ç¨‹è‰°éš¾ï¼Œè¿˜æœ‰å¾ˆå¤šä¸œè¥¿ä¸æ‡‚ï¼Œä½†æ˜¯è¿˜æ˜¯ç‚¹äº®äº† RGB-LED ç¯ã€‚å“‡ï¼Œå¾ˆæ¿€åŠ¨ï¼Œæœ‰æœ¨æœ‰ï¼Œæœ‰æœ¨æœ‰ã€‚ğŸ˜œğŸ˜œ\nä»¥ä¸Šå†…å®¹å¦‚æœ‰é”™è¯¯ï¼Œè¯·æŒ‡æ­£ã€‚\nå‚è€ƒåœ°å€:\nhttps://zhuanlan.zhihu.com/p/74035695\n","id":8,"section":"posts","summary":"å› ä¸ºç¬”è€…æœ¬èº«æ²¡æœ‰å­¦è¿‡ä»»ä½•æœ‰å…³ç¡¬ä»¶çš„çŸ¥è¯†ï¼Œæ‰€ä»¥ç†è§£ä¸Šå¯èƒ½ä¼šå‡ºç°åå·®ã€‚åœ¨å®é™…çš„æ“ä½œè¿‡ç¨‹ä¸­ä¹Ÿæ˜¾å¾—æ¯”è¾ƒåƒåŠ›ã€‚ å‡†å¤‡ç›¸å…³ç‰©å“ æ ‘è“æ´¾ 4B ï¼šï¼ˆä¹°æ¥åƒç°å¾ˆä¹…äº†çš„","tags":["RuståµŒå…¥å¼","æ ‘è“æ´¾-RGBLED"],"title":"Rust æ§åˆ¶ ä¸‰è‰²RGB LEDç¯","uri":"https://littleguest.github.io/posts/raspberrypi-rgbled-rust/","year":"2021"},{"content":"å¦‚ä½•å°†å¯æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶æ‰“åŒ…æˆAppImageæ–‡ä»¶ï¼Ÿ   ä¸‹è½½æ„å»ºå·¥å…· linuxdeploy\n  # åˆ›å»º AppDir ç›®å½• $ linuxdeploy.AppImage --appdir T2048.AppDir  ç”Ÿæˆçš„ç›®å½•ç»“æ„å¦‚ä¸‹    å°†å¯æ‰§è¡Œæ–‡ä»¶æ”¾åœ¨ T2048.AppDir/usr/bin/ ç›®å½•ä¸‹ å°†æ¡Œé¢å¿«æ·æ–¹å¼æ”¾åœ¨ T2048.AppDir/usr/share/applications/ ç›®å½•ä¸‹ï¼Œéšä¾¿æ‰¾ä¸ªå·²æœ‰çš„æ¡Œé¢å¿«æ·æ–¹å¼å¤åˆ¶è¿‡æ¥ï¼Œæ–‡ä»¶åç¼€åä¸º .desktopï¼Œå†…å®¹å¦‚ä¸‹  [Desktop Entry] Name=T2048 Exec=t-2048 Terminal=false Type=Application Icon=t-2048 Categories=Game;   å°†å›¾æ ‡æ”¾åœ¨ T2048.AppDir/usr/share/icons/hicolor/128x128/apps/ ç›®å½•ä¸‹ï¼Œå¤§å°é€‰æ‹©å¯¹åº”çš„ç›®å½•å³å¯    # å°† AppDir ç›®å½•æ‰“åŒ…æˆ .AppImage æ–‡ä»¶ $ linuxdeploy.AppImage --appdir T2048.AppDir/ --output appimage  AppDir ç›®å½•å˜åŒ–\n  åˆ°æ­¤ï¼Œæ‰“åŒ…ç»“æŸã€‚\nå½“ç„¶è¿™é‡Œæ˜¯æœ€ç®€å•çš„æ–¹å¼ï¼Œè¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„é…ç½®ã€‚ç„¶è¿™äº›å°±å·²ç»æ»¡è¶³æˆ‘å½“å‰çš„éœ€æ±‚äº†ï¼Œå¦‚æœä»¥åæœ‰æ—¶é—´ï¼Œå†åšæ·±å…¥ç ”ç©¶å§ã€‚\n","id":9,"section":"posts","summary":"å¦‚ä½•å°†å¯æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶æ‰“åŒ…æˆAppImageæ–‡ä»¶ï¼Ÿ ä¸‹è½½æ„å»ºå·¥å…· linuxdeploy # åˆ›å»º AppDir ç›®å½• $ linuxdeploy.AppImage --appdir T2048.AppDir ç”Ÿæˆçš„ç›®å½•ç»“æ„å¦‚ä¸‹ å°†å¯æ‰§è¡Œæ–‡ä»¶æ”¾åœ¨ T2048.AppDir/usr/bin/ ç›®å½•ä¸‹ å°†æ¡Œé¢å¿«æ·æ–¹å¼","tags":["Linux","AppImage"],"title":"AppImageæ‰“åŒ…äºŒè¿›åˆ¶æ–‡ä»¶","uri":"https://littleguest.github.io/posts/appimage/","year":"2021"},{"content":"æœ¬æœºç³»ç»Ÿä¸º Linux\næŸ¥çœ‹Rustæ”¯æŒçš„ç³»ç»Ÿå’Œæ¶æ„\nå‚è€ƒ https://wiki.archlinux.org/index.php/Rust\n$ rustup target list # æˆ–è€… $ rustc --print target-list  Windows   aarch64-pc-windows-msvc\n  i586-pc-windows-msvc\n  i686-pc-windows-gnu\n  i686-pc-windows-msvc\n  x86_64-pc-windows-gnu\n   $ rustup toolchain install stable-x86_64-pc-windows-gnu $ sudo apt install mingw-w64    # vim ~/.cargo/config [target.x86_64-pc-windows-gnu] linker = \u0026quot;/usr/bin/x86_64-w64-mingw32-gcc\u0026quot; ar = \u0026quot;/usr/bin/x86_64-w64-mingw32-ar\u0026quot;    $ cargo build --release --target x86_64-pc-windows-gnu    x86_64-pc-windows-msvc\n  Linux Mac ","id":10,"section":"posts","summary":"æœ¬æœºç³»ç»Ÿä¸º Linux æŸ¥çœ‹Rustæ”¯æŒçš„ç³»ç»Ÿå’Œæ¶æ„ å‚è€ƒ https://wiki.archlinux.org/index.php/Rust $ rustup target list # æˆ–è€… $ rustc --print target-list Windows aarch64-pc-windows-msvc i586-pc-windows-msvc i686-pc-windows-gnu i686-pc-windows-msvc x86_64-pc-windows-gnu $ rustup toolchain install stable-x86_64-pc-windows-gnu $ sudo apt install mingw-w64 # vim ~/.cargo/config [target.x86_64-pc-windows-gnu] linker = \u0026quot;/usr/bin/x86_64-w64-mingw32-gcc\u0026quot; ar = \u0026quot;/usr/bin/x86_64-w64-mingw32-ar\u0026quot; $ cargo build --release --target x86_64-pc-windows-gnu x86_64-pc-windows-msvc Linux Mac","tags":["Rust","äº¤å‰ç¼–è¯‘"],"title":"Rustäº¤å‰ç¼–è¯‘","uri":"https://littleguest.github.io/posts/rust-cross-compiling/","year":"2021"},{"content":"ä½¿ç”¨ Rust å®ç° 2048 é—²æ¥æ— äº‹ï¼Œæƒ³ç€ç”¨ Rust åšä¸€ä¸ªç»ƒæ‰‹çš„é¡¹ç›®ï¼Œç¢°å·§ï¼Œä¹‹å‰ç©è¿‡2048ï¼Œç©æ³•æ¯”è¾ƒç®€å•ï¼Œæ„Ÿè§‰è¿˜è›®æœ‰æ„æ€çš„ã€‚é‚£æˆ‘å°±åœ¨æƒ³æˆ‘èƒ½ä¸èƒ½ç”¨ Rust å®ç°å‘¢ï¼Ÿ\næ‰€ä»¥è¿™ä¸ªé¡¹ç›®å°±è¯ç”Ÿäº†ã€‚\né¡¹ç›®åœ°å€\né¦–å…ˆæ¥è¯´ç©æ³•ï¼Œç©å®¶åªéœ€æ§åˆ¶æ–¹å‘é”®ç§»åŠ¨æ•°å­—æ–¹å—ï¼Œåˆå¹¶æ•°å­—è·å¾—æœ€é«˜åˆ†å°±è¡Œäº†ã€‚å…¶æ¬¡ï¼Œå¦‚æœè¦ç”¨ä»£ç æ¥å®ç°çš„è¯ï¼Œä¹Ÿä¸æ˜¯å¾ˆå¤æ‚ã€‚æŒ‰æˆ‘çš„æ€è·¯æ¥è¯´ï¼Œå¯ä»¥å°†æ•´ä¸ªçœ‹ä½œæ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œå…¶æ¬¡ä¸ç®¡æ˜¯å‘ä¸Šï¼Œå‘ä¸‹ï¼Œå‘å·¦ï¼Œå‘å³ç§»åŠ¨æ•°å­—æ–¹å—ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥å°†å®ƒçœ‹ä½œæ˜¯å‘å·¦ç§»åŠ¨ã€‚\nä¸¾ä¸ªæ —å­ï¼Œç°åœ¨æœ‰è¿™æ ·ä¸€ä¸ªä¸œä¸œï¼Œæˆ‘ä»¬å°è¯•ç€å…ˆå‘å·¦å‘å³ç§»åŠ¨ï¼Œ\n[0, 0, 0, 2] [4, 2, 0, 2] [0, 2, 2, 0] [0, 0, 0, 0]  å¦‚æœæˆ‘ä»¬å‘å·¦ç§»åŠ¨ï¼Œå°†ä¼šå¾—åˆ°è¿™ä¸ª\n[2, 0, 0, 0] [4, 4, 0, 0] [4, 0, 0, 0] [0, 0, 0, 0]  å¦‚æœæˆ‘ä»¬å‘å³ç§»åŠ¨ï¼Œå°†ä¼šå¾—åˆ°è¿™ä¸ª\n[0, 0, 0, 2] [0, 0, 4, 4] [0, 0, 0, 4] [0, 0, 0, 0]  å…¶å®æˆ‘ä»¬å¯ä»¥å°†å‘å³ç§»åŠ¨çœ‹ä½œæ˜¯å‘å·¦ç§»åŠ¨ä¹‹åçš„ç¿»è½¬ã€‚æ¥ä¸‹æ¥åº·åº·å‘ä¸Šå’Œå‘ä¸‹ç§»åŠ¨ï¼Œ\nå‘ä¸Šç§»åŠ¨ï¼Œå¾—åˆ°å¦‚ä¸‹ç»“æœï¼š\n[4, 4, 2, 4] [0, 0, 0, 0] [0, 0, 0, 0] [0, 0, 0, 0]  è€Œå‘ä¸‹ç§»åŠ¨ï¼Œå¾—åˆ°çš„æ˜¯ï¼š\n[0, 0, 0, 0] [0, 0, 0, 0] [0, 0, 0, 0] [4, 4, 2, 4]  æˆ‘ä»¬åŒæ ·å¯ä»¥å°†å‘ä¸‹ç§»åŠ¨çœ‹ä½œæ˜¯å‘ä¸Šç§»åŠ¨ä¹‹åçš„ç¿»è½¬ã€‚\næ¥æ¥æ¥ï¼Œè®©æˆ‘ä»¬ä»”ç»†çœ‹çœ‹å‘ä¸Šç§»åŠ¨çš„è¿‡ç¨‹ã€‚å¯ä»¥çœ‹ä½œæ˜¯ä¸‹é¢\n[0, 0, 0, 2] [0, 4, 0, 0] [4, 0, 0, 0] [4, 4, 2, 4] [4, 2, 0, 2] --\u0026gt; [0, 2, 2, 0] --\u0026gt; [4, 0, 0, 0] --\u0026gt; [0, 0, 0, 0] [0, 2, 2, 0] --\u0026gt; [0, 0, 2, 0] --\u0026gt; [2, 0, 0, 0] --\u0026gt; [0, 0, 0, 0] [0, 0, 0, 0] [2, 2, 0, 0] [4, 0, 0, 0] [0, 0, 0, 0]   å°†äºŒç»´æ•°ç»„è¿›è¡Œ çŸ©é˜µè½¬ç½® æ“ä½œ å‘å·¦åˆå¹¶ å†æ¬¡å°†äºŒç»´æ•°ç»„è¿›è¡ŒçŸ©é˜µè½¬ç½® æ“ä½œ  æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†å‘ä¸Šï¼Œå‘ä¸‹ï¼Œå‘å·¦ï¼Œå‘å³ç§»åŠ¨çœ‹ä½œæ˜¯åŒä¸€ä¸ªæ“ä½œã€‚\næ¥ä¸‹æ¥çœ‹æ ¸å¿ƒä»£ç ï¼Œå…¶ä¸­ PALACE_SIZE çš„å€¼ä¸º 4\n/// å‘å·¦åˆå¹¶æ•°å­— fn merge(vs: \u0026amp;[u128]) -\u0026gt; Vec\u0026lt;u128\u0026gt; { let mut q = vs.iter().collect::\u0026lt;VecDeque\u0026lt;_\u0026gt;\u0026gt;(); // å­˜æ”¾åˆå¹¶ä¹‹åçš„å€¼çš„é˜Ÿåˆ— let mut cvq = VecDeque::new(); // æ˜¯å¦åˆå¹¶è¿‡ let mut merged = false; while !q.is_empty() { let qv = q.pop_front().unwrap(); if *qv != 0 { if let Some(cv) = cvq.back() { if *cv == *qv \u0026amp;\u0026amp; !merged { cvq.pop_back(); cvq.push_back(*qv * 2); merged = true; } else { cvq.push_back(*qv); merged = false; } } else { cvq.push_back(*qv); merged = false; } } } // å°†å‰©ä½™çš„è¡¥0 if cvq.len() \u0026lt; PALACE_SIZE { (0..PALACE_SIZE - cvq.len()).for_each(|_| { cvq.push_back(0); }); } cvq.into_iter().collect::\u0026lt;Vec\u0026lt;_\u0026gt;\u0026gt;() } /// ç§»åŠ¨ pub fn move_palaces(palaces: \u0026amp;mut Vec\u0026lt;Vec\u0026lt;u128\u0026gt;\u0026gt;, me: MoveDirection) { match me { // å‘ä¸Šç§»åŠ¨ MoveDirection::Up =\u0026gt; { for x in 0..PALACE_SIZE { let mut o = Vec::new(); for y in 0..PALACE_SIZE { o.push(palaces[y][x]); } merge(\u0026amp;o) .iter() .enumerate() .for_each(|(y, yv)| { palaces[y][x] = *yv; }); } } // å‘ä¸‹ç§»åŠ¨ MoveDirection::Down =\u0026gt; { for x in 0..PALACE_SIZE { let mut o = Vec::new(); for y in 0..PALACE_SIZE { o.push(palaces[PALACE_SIZE - y - 1][x]); } merge(\u0026amp;o.into_iter().collect::\u0026lt;Vec\u0026lt;_\u0026gt;\u0026gt;()) .iter() .enumerate() .for_each(|(y, yv)| { palaces[PALACE_SIZE - y - 1][x] = *yv; }); } } // å‘å·¦ç§»åŠ¨ MoveDirection::Left =\u0026gt; { (0..PALACE_SIZE).for_each(|i| { palaces[i] = merge(\u0026amp;palaces[i]); }); } // å‘å³ç§»åŠ¨ MoveDirection::Right =\u0026gt; { (0..PALACE_SIZE).for_each(|i| { palaces[i] = merge( \u0026amp;palaces[i].iter().rev().cloned().collect::\u0026lt;Vec\u0026lt;_\u0026gt;\u0026gt;(), ) .iter() .rev() .cloned() .collect::\u0026lt;Vec\u0026lt;_\u0026gt;\u0026gt;(); }); } } // åœ¨ç©ºä½ç½®ç”Ÿæˆæ•°å­—æ–¹å— empty_position_gen(palaces); }  è¿™äº›å°±æ˜¯è¯¥æ¸¸æˆçš„æ ¸å¿ƒäº†ã€‚\n","id":11,"section":"posts","summary":"ä½¿ç”¨ Rust å®ç° 2048 é—²æ¥æ— äº‹ï¼Œæƒ³ç€ç”¨ Rust åšä¸€ä¸ªç»ƒæ‰‹çš„é¡¹ç›®ï¼Œç¢°å·§ï¼Œä¹‹å‰ç©è¿‡2048ï¼Œç©æ³•æ¯”è¾ƒç®€å•ï¼Œæ„Ÿè§‰è¿˜è›®æœ‰æ„æ€çš„ã€‚é‚£æˆ‘å°±åœ¨æƒ³æˆ‘èƒ½ä¸èƒ½ç”¨ Rust å®ç°å‘¢ï¼Ÿ æ‰€ä»¥è¿™","tags":["æ¸¸æˆ"],"title":"ä¸€æ¬¾å¯ä»¥åœ¨ç»ˆç«¯ç©çš„2048å°æ¸¸æˆ","uri":"https://littleguest.github.io/posts/t-2048/","year":"2021"},{"content":"MySQL ä¸»ä»å¤åˆ¶ ä¸‹è½½ MySQL é•œåƒ\nå®˜æ–¹é•œåƒçš„ MySQL ç‰ˆæœ¬æ˜¯8.x\n$ docker pull mysql  åˆ›å»º MySQL ä¸»ä»å®¹å™¨\nä¸»\n$ docker run -d --name mysql-master -p 13306:3306 -e MYSQL_ROOT_PASSWORD=root mysql  ä»\n$ docker run -d --name mysql-slave -p 13307:3306 -e MYSQL_ROOT_PASSWORD=root mysql  åˆ†åˆ«ç”¨å·¥å…·è¿æ¥ï¼Œæµ‹è¯•èƒ½æ­£å¸¸ä½¿ç”¨ã€‚\né…ç½®\n  ä¸»åº“é…ç½®\n# è¿›å…¥ä¸»åº“å®¹å™¨ $ docker exec -it mysql-master bash # ç¼–è¾‘MySQLé…ç½® $ vim /etc/mysql/my.cnf  æ·»åŠ å¦‚ä¸‹å†…å®¹\n[mysqld] server-id = 1 log-bin = mysql-bin  # é€€å‡ºå®¹å™¨å¹¶é‡å¯å®¹å™¨ $ docker restart mysql-master  å†æ¬¡è¿›å…¥å®¹å™¨ï¼Œåœ¨ä¸»åº“ä¸­åˆ›å»ºæ•°æ®åŒæ­¥ç”¨æˆ· slave ï¼Œæˆäºˆæ”¹ç”¨æˆ· REPLICATION SLAVE å’Œ REPLICATION CLIENT æƒé™ï¼Œç”¨æˆ·åœ¨ä¸»ä»åº“ä¹‹é—´åŒæ­¥æ•°æ®ã€‚\nmysql\u0026gt; CREATE USER 'slave'@'%' IDENTIFIED BY 'slave'; mysql\u0026gt; GRANT REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO 'slave'@'%';    ä»åº“é…ç½®\nåœ¨åŒæ ·çš„é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®\n[mysqld] server-id = 2 log-bin = mysql-slave-bin relay_log = mysql-slave-relay-bin    å¼€å¯ä¸»ä»é…ç½®\nåœ¨ä¸»å®¢æˆ·ç«¯è¾“å…¥\nmysql\u0026gt; show master status; +------------------+----------+--------------+------------------+-------------------+ | File | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set | +------------------+----------+--------------+------------------+-------------------+ | mysql-bin.000001 | 713 | | | | +------------------+----------+--------------+------------------+-------------------+ 1 row in set (0.00 sec)  åœ¨ä»å®¢æˆ·ç«¯è¾“å…¥\nmysql\u0026gt; change master to master_host='172.17.0.2', master_user='slave', master_password='slave', master_port=3306, master_log_file='mysql-bin.000001', master_log_pos=713, master_connect_retry=30;  å‘½ä»¤è¯´æ˜\n master_host ï¼šMasterçš„åœ°å€ï¼ŒæŒ‡çš„æ˜¯å®¹å™¨çš„ç‹¬ç«‹ip,å¯ä»¥é€šè¿‡ docker inspect --format='{{.NetworkSettings.IPAddress}}' å®¹å™¨åç§°|å®¹å™¨id æŸ¥è¯¢å®¹å™¨çš„ip master_portï¼šMasterçš„ç«¯å£å·ï¼ŒæŒ‡çš„æ˜¯å®¹å™¨çš„ç«¯å£å· master_userï¼šç”¨äºæ•°æ®åŒæ­¥çš„ç”¨æˆ· master_passwordï¼šç”¨äºåŒæ­¥çš„ç”¨æˆ·çš„å¯†ç  master_log_fileï¼šæŒ‡å®š Slave ä»å“ªä¸ªæ—¥å¿—æ–‡ä»¶å¼€å§‹å¤åˆ¶æ•°æ®ï¼Œå³ä¸Šæ–‡ä¸­æåˆ°çš„ File å­—æ®µçš„å€¼ master_log_posï¼šä»å“ªä¸ª Position å¼€å§‹è¯»ï¼Œå³ä¸Šæ–‡ä¸­æåˆ°çš„ Position å­—æ®µçš„å€¼ master_connect_retryï¼šå¦‚æœè¿æ¥å¤±è´¥ï¼Œé‡è¯•çš„æ—¶é—´é—´éš”ï¼Œå•ä½æ˜¯ç§’ï¼Œé»˜è®¤æ˜¯60ç§’  # æŸ¥çœ‹ä¸»ä»åŒæ­¥çŠ¶æ€ mysql\u0026gt; show slave status \\G; *************************** 1. row *************************** Slave_IO_State: Master_Host: 172.17.0.2 Master_User: slave Master_Port: 3306 Connect_Retry: 30 Master_Log_File: mysql-bin.000001 Read_Master_Log_Pos: 713 Relay_Log_File: emysql-slave-relay-bin.000001 Relay_Log_Pos: 4 Relay_Master_Log_File: mysql-bin.000001 Slave_IO_Running: No Slave_SQL_Running: No Replicate_Do_DB: Replicate_Ignore_DB: Replicate_Do_Table: Replicate_Ignore_Table: Replicate_Wild_Do_Table: Replicate_Wild_Ignore_Table: Last_Errno: 0 Last_Error: Skip_Counter: 0 Exec_Master_Log_Pos: 713 Relay_Log_Space: 156 Until_Condition: None Until_Log_File: Until_Log_Pos: 0 Master_SSL_Allowed: No Master_SSL_CA_File: Master_SSL_CA_Path: Master_SSL_Cert: Master_SSL_Cipher: Master_SSL_Key: Seconds_Behind_Master: NULL Master_SSL_Verify_Server_Cert: No Last_IO_Errno: 0 Last_IO_Error: Last_SQL_Errno: 0 Last_SQL_Error: Replicate_Ignore_Server_Ids: Master_Server_Id: 0 Master_UUID: Master_Info_File: mysql.slave_master_info SQL_Delay: 0 SQL_Remaining_Delay: NULL Slave_SQL_Running_State: Master_Retry_Count: 86400 Master_Bind: Last_IO_Error_Timestamp: Last_SQL_Error_Timestamp: Master_SSL_Crl: Master_SSL_Crlpath: Retrieved_Gtid_Set: Executed_Gtid_Set: Auto_Position: 0 Replicate_Rewrite_DB: Channel_Name: Master_TLS_Version: Master_public_key_path: Get_master_public_key: 0 Network_Namespace: 1 row in set, 1 warning (0.01 sec) ERROR: No query specified  # å¼€å¯ä¸»ä»å¤åˆ¶ mysql\u0026gt; start slave;  # å†æ¬¡æŸ¥çœ‹çŠ¶æ€ mysql\u0026gt; show slave status \\G; *************************** 1. row *************************** Slave_IO_State: Waiting for master to send event Master_Host: 172.17.0.2 Master_User: slave Master_Port: 3306 Connect_Retry: 30 Master_Log_File: mysql-bin.000001 Read_Master_Log_Pos: 1581 Relay_Log_File: emysql-slave-relay-bin.000002 Relay_Log_Pos: 1192 Relay_Master_Log_File: mysql-bin.000001 Slave_IO_Running: Yes Slave_SQL_Running: Yes Replicate_Do_DB: Replicate_Ignore_DB: Replicate_Do_Table: Replicate_Ignore_Table: Replicate_Wild_Do_Table: Replicate_Wild_Ignore_Table: Last_Errno: 0 Last_Error: Skip_Counter: 0 Exec_Master_Log_Pos: 1581 Relay_Log_Space: 1408 Until_Condition: None Until_Log_File: Until_Log_Pos: 0 Master_SSL_Allowed: No Master_SSL_CA_File: Master_SSL_CA_Path: Master_SSL_Cert: Master_SSL_Cipher: Master_SSL_Key: Seconds_Behind_Master: 0 Master_SSL_Verify_Server_Cert: No Last_IO_Errno: 0 Last_IO_Error: Last_SQL_Errno: 0 Last_SQL_Error: Replicate_Ignore_Server_Ids: Master_Server_Id: 1 Master_UUID: a9da6629-75d6-11eb-96b3-0242ac110002 Master_Info_File: mysql.slave_master_info SQL_Delay: 0 SQL_Remaining_Delay: NULL Slave_SQL_Running_State: Slave has read all relay log; waiting for more updates Master_Retry_Count: 86400 Master_Bind: Last_IO_Error_Timestamp: Last_SQL_Error_Timestamp: Master_SSL_Crl: Master_SSL_Crlpath: Retrieved_Gtid_Set: Executed_Gtid_Set: Auto_Position: 0 Replicate_Rewrite_DB: Channel_Name: Master_TLS_Version: Master_public_key_path: Get_master_public_key: 0 Network_Namespace: 1 row in set, 1 warning (0.01 sec) ERROR: No query specified  æ­£å¸¸æƒ…å†µä¸‹ï¼Œå¼€å¯ä¸»ä»å¤åˆ¶å Slave_IO_Running å’Œ Slave_SQL_Running éƒ½æ˜¯ Yesã€‚\n  æµ‹è¯•\nåœ¨ä¸»åº“ä¸­\n# åˆ›å»ºåº“ mysql\u0026gt; create database msr_test; # åœ¨ msr_test åº“ä¸­åˆ›å»ºè¡¨ mysql\u0026gt; CREATE TABLE `sys_dict` ( `id` bigint NOT NULL AUTO_INCREMENT COMMENT 'ID', `name` varchar(255) NOT NULL COMMENT 'å­—å…¸åç§°', `description` varchar(255) DEFAULT NULL COMMENT 'æè¿°', `create_by` varchar(255) DEFAULT NULL COMMENT 'åˆ›å»ºè€…', `update_by` varchar(255) DEFAULT NULL COMMENT 'æ›´æ–°è€…', `create_time` datetime DEFAULT NULL COMMENT 'åˆ›å»ºæ—¥æœŸ', `update_time` datetime DEFAULT NULL COMMENT 'æ›´æ–°æ—¶é—´', PRIMARY KEY (`id`) USING BTREE ) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 ROW_FORMAT=COMPACT COMMENT='æ•°æ®å­—å…¸'; # åœ¨è¡¨ä¸­æ’å…¥æ•°æ® mysql\u0026gt; INSERT INTO msr_test.sys_dict (name,description,create_by,update_by,create_time,update_time) VALUES ('user_status','ç”¨æˆ·çŠ¶æ€',NULL,NULL,'2019-10-27 20:31:36.0',NULL), ('dept_status','éƒ¨é—¨çŠ¶æ€',NULL,NULL,'2019-10-27 20:31:36.0',NULL), ('job_status','å²—ä½çŠ¶æ€',NULL,NULL,'2019-10-27 20:31:36.0',NULL);  åœ¨ä»åº“ä¸­\n# æŸ¥çœ‹åº“ mysql\u0026gt; show databases; +--------------------+ | Database | +--------------------+ | information_schema | | msr_test | | mysql | | performance_schema | | sys | +--------------------+ # æŸ¥çœ‹è¡¨æ•°æ® mysql\u0026gt; select * from msr_test.sys_dict; +----+-------------+-------------+-----------+-----------+---------------------+-------------+ | id | name | description | create_by | update_by | create_time | update_time | +----+-------------+-------------+-----------+-----------+---------------------+-------------+ | 15 | user_status | | NULL | NULL | 2019-10-27 20:31:36 | NULL | | 16 | dept_status | | NULL | NULL | 2019-10-27 20:31:36 | NULL | | 17 | job_status | | NULL | NULL | 2019-10-27 20:31:36 | NULL | +----+-------------+-------------+-----------+-----------+---------------------+-------------+  è¯´æ˜MySQLä¸»ä»å¤åˆ¶æ˜¯éƒ¨ç½²æˆåŠŸäº†çš„ã€‚\næœ€å\nå› ä¸ºå®¹å™¨æ¯æ¬¡å¯åŠ¨çš„æ—¶å€™ipä¼šå˜åŒ–ï¼Œæ‰€ä»¥éƒ½ä¼šç»™ä¸ªå›ºå®šçš„ip\n# æŸ¥çœ‹dockerå ç”¨çš„ç½‘æ®µ $ ifconfig br-ab794da606af: flags=4099\u0026lt;UP,BROADCAST,MULTICAST\u0026gt; mtu 1500 inet 172.18.0.1 netmask 255.255.0.0 broadcast 172.18.255.255 ether 02:42:35:06:cc:a4 txqueuelen 0 (Ethernet) RX packets 0 bytes 0 (0.0 B) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 0 bytes 0 (0.0 B) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 docker0: flags=4099\u0026lt;UP,BROADCAST,MULTICAST\u0026gt; mtu 1500 inet 172.17.0.1 netmask 255.255.0.0 broadcast 172.17.255.255 ether 02:42:b4:c0:2d:85 txqueuelen 0 (Ethernet) RX packets 0 bytes 0 (0.0 B) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 0 bytes 0 (0.0 B) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0  # åˆ›å»ºè‡ªå®šä¹‰ç½‘ç»œ $ docker network create --subnet 172.19.0.0/24 mysql-master-slave  # åˆ›å»ºå®¹å™¨æ—¶æŒ‡å®šip $ docker run -d --name mysql-master-n --network mysql-master-slave --ip 172.19.0.2 -p 13306:3306 -e MYSQL_ROOT_PASSWORD=root mysql $ docker run -d --name mysql-slave-n --network mysql-master-slave --ip 172.19.0.3 -p 13307:3306 -e MYSQL_ROOT_PASSWORD=root mysql  å‚è€ƒ https://juejin.cn/post/6907112721532059662\n","id":12,"section":"posts","summary":"MySQL ä¸»ä»å¤åˆ¶ ä¸‹è½½ MySQL é•œåƒ å®˜æ–¹é•œåƒçš„ MySQL ç‰ˆæœ¬æ˜¯8.x $ docker pull mysql åˆ›å»º MySQL ä¸»ä»å®¹å™¨ ä¸» $ docker run -d --name mysql-master -p 13306:3306 -e MYSQL_ROOT_PASSWORD=root mysql ä» $ docker run -d --name mysql-slave -p 13307:3306 -e MYSQL_ROOT_PASSWORD=root mysql åˆ†åˆ«ç”¨å·¥å…·è¿æ¥ï¼Œæµ‹è¯•èƒ½æ­£å¸¸","tags":["Docker","MySQLä¸»ä»"],"title":"ä½¿ç”¨Dockeréƒ¨ç½²ä¸»ä»MySQL","uri":"https://littleguest.github.io/posts/docker-mysql-master-slave/","year":"2021"},{"content":"å¦‚ä½•ä½¿ç”¨Dockeræ­å»ºMySQLæœåŠ¡ ä¸‹è½½ MySQL é•œåƒ\nå®˜æ–¹é•œåƒçš„ MySQL ç‰ˆæœ¬æ˜¯8.x\n$ docker pull mysql  å¯åŠ¨å®¹å™¨\n -d åœ¨åå°è¿è¡Œ \u0026ndash;name mysql æŒ‡å®šå®¹å™¨çš„åå­—ä¸º mysql -p æ˜ å°„å®¹å™¨ip:3306åˆ°ä¸»æœºip:13306 -e MYSQL_ROOT_PASSWORD=root åˆå§‹åŒ–rootç”¨æˆ·å¯†ç ä¸ºroot  $ docker run -d --name mysql -p 13306:3306 -e MYSQL_ROOT_PASSWORD=root mysql  å¦‚æœè¦å°†æ•°æ®ä¿å­˜åœ¨ä¸»æœºä¸Šï¼Œè¿™éœ€è¦åŠ ä¸Šä¸‹é¢çš„å‚æ•°\n -v å°†å®¹å™¨ä¸­çš„æ–‡ä»¶æŒ‚è½½åˆ°ä¸»æœº  $ docker run -d --name mysql -p 13306:3306 -e MYSQL_ROOT_PASSWORD=root -v /home/mysql/cnf.d:/etc/my.cnf.d -v /home/mysql/data:/var/lib/mysql/data mysql  è¿›å…¥å®¹å™¨\n$ docker exec -it mysql bash  è¿›å…¥ MySQL\n$ mysql -u root -p  è¾“å…¥å¯†ç ï¼Œèƒ½æ­£å¸¸è¿›å…¥ï¼Œå°±è¯´æ˜å·²ç»æ­å»ºå¥½äº†ã€‚\nè¿æ¥ MySQL\nè¿™é‡Œæ³¨æ„ä½¿ç”¨ Navicat15 è¿æ¥æ—¶ï¼Œä¸»æœºåœ°å€ä¸º localhost æ—¶ï¼Œä¼šå‡ºç°å¦‚ä¸‹é”™è¯¯ï¼š\n2002 - Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2 \u0026quot;æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•\u0026quot;)  è§£å†³æ–¹æ¡ˆä¹‹ä¸€ å°† localhost æ¢æˆ 127.0.0.1\nè€Œæˆ‘ä½¿ç”¨ DBeaver è¿æ¥æ—¶ï¼Œåˆ™æ²¡æœ‰å‡ºç°è¿™ç§æƒ…å†µã€‚\n","id":13,"section":"posts","summary":"å¦‚ä½•ä½¿ç”¨Dockeræ­å»ºMySQLæœåŠ¡ ä¸‹è½½ MySQL é•œåƒ å®˜æ–¹é•œåƒçš„ MySQL ç‰ˆæœ¬æ˜¯8.x $ docker pull mysql å¯åŠ¨å®¹å™¨ -d åœ¨åå°è¿è¡Œ \u0026ndash;name mysql æŒ‡å®šå®¹å™¨çš„åå­—ä¸º mysql -p æ˜ å°„å®¹å™¨ip:3","tags":["Docker","MySQL"],"title":"Dockeræ­å»ºMySQL","uri":"https://littleguest.github.io/posts/docker-mysql/","year":"2021"},{"content":"é¦–å…ˆï¼Œå…ˆåœ¨è¿™é‡ŒæŠ›å‡º ä¸¤ä¸ªé—®é¢˜\n1. å¦‚ä½•å°†ä¸€ä¸ª List è½¬æ¢ä¸ºä¸€ä¸ª HashMap\n2. å¦‚ä½•å°†ä¸¤ä¸ª List è½¬æ¢ä¸ºä¸€ä¸ª HashMap\nè®©æˆ‘ä»¬æ¥çœ‹çœ‹ åœ¨ Java ä¸­æ˜¯å¦‚ä½•å®ç°çš„ã€‚ğŸ˜„\nç¬¬ä¸€ä¸ªé—®é¢˜\n@Data @AllArgsConstructor public class Person { private Long id; private String name; private String sex; public static void main(String[] args) { List\u0026lt;Person\u0026gt; persons = new ArrayList\u0026lt;\u0026gt;(); persons.add(new Person(1L, \u0026quot;å¼ ä¸‰\u0026quot;, \u0026quot;ç”·\u0026quot;)); persons.add(new Person(2L, \u0026quot;æå››\u0026quot;, \u0026quot;ç”·\u0026quot;)); persons.add(new Person(3L, \u0026quot;ç‹å…°\u0026quot;, \u0026quot;å¥³\u0026quot;)); // æ ¹æ®æ€§åˆ«è¿›è¡Œåˆ†ç»„ Map\u0026lt;String, List\u0026lt;Person\u0026gt;\u0026gt; sexMap = persons.stream().collect(Collectors.groupingBy(Person::getSex)); System.out.println(sexMap); // {å¥³=[Person(id=3, name=ç‹å…°, sex=å¥³)], ç”·=[Person(id=1, name=å¼ ä¸‰, sex=ç”·), Person(id=2, name=æå››, sex=ç”·)]} // å°†äººçš„å§“åä½œä¸ºé”®ï¼ŒåŸºæœ¬ä¿¡æ¯ä½œä¸ºå€¼ // æµ‹è¯•æ•°æ®ä¸è€ƒè™‘å§“åç›¸åŒçš„é—®é¢˜ Map\u0026lt;String, Person\u0026gt; personMap = persons.stream().collect(Collectors.toMap(Person::getName, e -\u0026gt; e)); System.out.println(personMap); // {æå››=Person(id=2, name=æå››, sex=ç”·), å¼ ä¸‰=Person(id=1, name=å¼ ä¸‰, sex=ç”·), ç‹å…°=Person(id=3, name=ç‹å…°, sex=å¥³)} } }  æˆ‘è§‰å¾—è¿™ä¸ªé—®é¢˜åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¼šç»å¸¸é‡åˆ°ï¼ˆæ‰‹åŠ¨ç‹—å¤´ï¼‰\nç¬¬äºŒä¸ªé—®é¢˜\n@Data @AllArgsConstructor class Field { private Long id; private String name; } @Data @AllArgsConstructor class FieldData { private Long id; private Long fieldId; private String value; } public class FieldTest { public static void main(String[] args) { List\u0026lt;Field\u0026gt; fields = new ArrayList\u0026lt;\u0026gt;(); fields.add(new Field(1L, \u0026quot;field_1\u0026quot;)); fields.add(new Field(2L, \u0026quot;field_2\u0026quot;)); fields.add(new Field(3L, \u0026quot;field_3\u0026quot;)); fields.add(new Field(4L, \u0026quot;field_4\u0026quot;)); List\u0026lt;FieldData\u0026gt; fieldDatas = new ArrayList\u0026lt;\u0026gt;(); fieldDatas.add(new FieldData(5L, 1L, \u0026quot;Stream å¥½ç”¨å—\u0026quot;)); fieldDatas.add(new FieldData(6L, 2L, \u0026quot;Stream å¥½ç”¨\u0026quot;)); fieldDatas.add(new FieldData(7L, 3L, \u0026quot;Stream ç‰›é€¼\u0026quot;)); // è¯´æ˜ï¼š // Field çš„åç§°æ˜¯å”¯ä¸€çš„ // Field å’Œ FieldData æ˜¯ä¸€å¯¹ä¸€çš„å…³ç³» // 1ã€ ç»è¿‡å¤šæ¬¡è½¬æ¢ // å°† Field çš„åç§° å’Œ Field è½¬æ¢æˆ Map Map\u0026lt;String, Field\u0026gt; fieldMap = fields.stream().collect(Collectors.toMap(Field::getName, e -\u0026gt; e)); // FieldData ä¹Ÿè½¬æ¢ä¸º Map Map\u0026lt;Long, FieldData\u0026gt; fieldDataMap = fieldDatas.stream() .collect(Collectors.toMap(FieldData::getFieldId, e -\u0026gt; e)); // æˆ‘ä»¬æƒ³è¦å¾—åˆ°çš„æ•°æ®ç»“æ„ Map\u0026lt;String, FieldData\u0026gt; fieldNameFieldDataMap = new HashMap\u0026lt;\u0026gt;(fieldMap.size()); // ç»„è£…æˆ‘ä»¬æƒ³è¦è¦çš„æ•°æ® fieldMap.forEach((k, v) -\u0026gt; fieldNameFieldDataMap.put(k, fieldDataMap.get(v.getId()))); System.out.println(fieldNameFieldDataMap); // {field_3=FieldData(id=7, fieldId=3, value=Stream ç‰›é€¼), field_4=null, // field_1=FieldData(id=5, fieldId=1, value=Stream å¥½ç”¨å—), field_2=FieldData(id=6, // fieldId=2, value=Stream å¥½ç”¨)} // 2ã€ç›´æ¥ä¸€æ­¥åˆ°èƒƒ // FIXME: æš‚æ—¶åªèƒ½åšåˆ°è¿™ç§ï¼Œæœ‰æ²¡æœ‰æ›´å¥½çš„æ–¹æ³•ï¼Ÿ List\u0026lt;Map\u0026lt;String, FieldData\u0026gt;\u0026gt; fieldNameFieldDataList = fields.stream() .flatMap(f -\u0026gt; fieldDatas.stream().filter(fd -\u0026gt; fd.getFieldId().equals(f.getId())).map(fieldData -\u0026gt; { Map\u0026lt;String, FieldData\u0026gt; map = new HashMap\u0026lt;\u0026gt;(); map.put(f.getName(), fieldData); return map; })).collect(Collectors.toList()); System.out.println(fieldNameFieldDataList); // [{field_1=FieldData(id=5, fieldId=1, value=Stream å¥½ç”¨å—)}, // {field_2=FieldData(id=6, fieldId=2, value=Stream å¥½ç”¨)}, // {field_3=FieldData(id=7, fieldId=3, value=Stream ç‰›é€¼)}] // å†æ¬¡è½¬æ¢ Map\u0026lt;String, FieldData\u0026gt; fieldNameFieldDataMap2 = new HashMap\u0026lt;\u0026gt;(fieldMap.size()); fieldNameFieldDataList.forEach(d -\u0026gt; d.forEach((k, v) -\u0026gt; fieldNameFieldDataMap2.put(k, v))); System.out.println(fieldNameFieldDataMap2); // {field_3=FieldData(id=7, fieldId=3, value=Stream ç‰›é€¼), field_1=FieldData(id=5, // fieldId=1, value=Stream å¥½ç”¨å—), field_2=FieldData(id=6, fieldId=2, value=Stream // å¥½ç”¨)} } }  è¿™æ ·å°±è§£å†³äº†ä¸€å¼€å§‹æå‡ºçš„ä¸¤ä¸ªé—®é¢˜ï¼Œå½“ç„¶ï¼Œè¿˜æœ‰å…¶ä»–çš„æ–¹æ³•ï¼Œåœ¨è¿™é‡Œå°±ä¸åˆ—ä¸¾äº†ã€‚\nå›å½’æ­£é¢˜ï¼Œåœ¨ Rust ä¸­æ˜¯å¦‚ä½•è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜çš„å‘¢ï¼Ÿ\nç¬¬ä¸€ä¸ªé—®é¢˜\nuse std::collections::HashMap; #[derive(Debug)] struct Person { id: u64, name: String, sex: String, } fn main() { let persons = [ Person { id: 1, name: \u0026quot;å¼ ä¸‰\u0026quot;.to_string(), sex: \u0026quot;ç”·\u0026quot;.to_string(), }, Person { id: 2, name: \u0026quot;æå››\u0026quot;.to_string(), sex: \u0026quot;ç”·\u0026quot;.to_string(), }, Person { id: 3, name: \u0026quot;ç‹å…°\u0026quot;.to_string(), sex: \u0026quot;å¥³\u0026quot;.to_string(), }, ]; // 1ã€å…ˆå°†æ€§åˆ«æ”¾è¿› HashMap ä¸­ï¼Œç„¶åéå† HashMap å’Œ persons æ•°ç»„ï¼Œå°† persons ä¸­æ»¡è¶³ HashMap é”®çš„ person æ”¾åˆ°å¯¹åº”çš„é”®ä¸‹é¢ã€‚ // é¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯è¿™ç§æ–¹æ³• let mut sex_map = persons .iter() .map(|p| (p.sex.clone(), Vec::new())) .collect::\u0026lt;HashMap\u0026lt;_, _\u0026gt;\u0026gt;(); for snm in sex_map.iter_mut() { persons.iter().for_each(|p| { if p.sex.eq(snm.0) { snm.1.push(p); } }) } println!(\u0026quot;{:?}\u0026quot;, sex_map); // {\u0026quot;å¥³\u0026quot;: [Person { id: 3, name: \u0026quot;ç‹å…°\u0026quot;, sex: \u0026quot;å¥³\u0026quot; }], \u0026quot;ç”·\u0026quot;: [Person { id: 1, name: \u0026quot;å¼ ä¸‰\u0026quot;, sex: \u0026quot;ç”·\u0026quot; }, Person { id: 2, name: \u0026quot;æå››\u0026quot;, sex: \u0026quot;ç”·\u0026quot; }]} // 2ã€ä½¿ç”¨ fold let sex_map = persons.iter().fold(HashMap::with_capacity(2), |mut m, p| { m.insert( p.sex.clone(), persons .iter() .filter(|pp| pp.sex == p.sex) .collect::\u0026lt;Vec\u0026lt;_\u0026gt;\u0026gt;(), ); m }); println!(\u0026quot;{:?}\u0026quot;, sex_map); // {\u0026quot;å¥³\u0026quot;: [Person { id: 3, name: \u0026quot;ç‹å…°\u0026quot;, sex: \u0026quot;å¥³\u0026quot; }], \u0026quot;ç”·\u0026quot;: [Person { id: 1, name: \u0026quot;å¼ ä¸‰\u0026quot;, sex: \u0026quot;ç”·\u0026quot; }, Person { id: 2, name: \u0026quot;æå››\u0026quot;, sex: \u0026quot;ç”·\u0026quot; }]} }  ç¬¬äºŒä¸ªé—®é¢˜\nuse std::collections::HashMap; #[derive(Debug)] struct Field { id: u64, name: String, } #[derive(Debug)] struct FieldData { id: u64, field_id: u64, value: String, } fn main() { let fields = [ Field { id: 1, name: \u0026quot;field_1\u0026quot;.to_string(), }, Field { id: 2, name: \u0026quot;field_2\u0026quot;.to_string(), }, Field { id: 3, name: \u0026quot;field_3\u0026quot;.to_string(), }, Field { id: 4, name: \u0026quot;field_4\u0026quot;.to_string(), }, ]; let field_datas = [ FieldData { id: 5, field_id: 1, value: \u0026quot;Rust ç‰›é€¼!\u0026quot;.to_string(), }, FieldData { id: 6, field_id: 2, value: \u0026quot;Rust ç‰›é€¼!!\u0026quot;.to_string(), }, FieldData { id: 7, field_id: 3, value: \u0026quot;Rust ç‰›é€¼!!!\u0026quot;.to_string(), }, ]; // è¯´æ˜ï¼š // Field çš„åç§°æ˜¯å”¯ä¸€çš„ // Field å’Œ FieldData æ˜¯ä¸€å¯¹ä¸€çš„å…³ç³» // 1ã€ let field_map = fields .iter() .fold(HashMap::with_capacity(fields.len()), |mut a, b| { a.insert(b.name.clone(), b); a }); let field_data_map = field_datas .iter() .fold(HashMap::with_capacity(field_datas.len()), |mut a, b| { a.insert(b.field_id, b); a }); let mut field_name_field_data_map = HashMap::with_capacity(fields.len()); field_map.iter().for_each(|(k, v)| { field_name_field_data_map.insert(k.clone(), field_data_map.get(\u0026amp;v.id)); }); println!(\u0026quot;{:?}\u0026quot;, field_name_field_data_map); // {\u0026quot;field_1\u0026quot;: Some(FieldData { id: 5, field_id: 1, value: \u0026quot;Rust ç‰›é€¼!\u0026quot; }), \u0026quot;field_2\u0026quot;: Some(FieldData { id: 6, field_id: 2, value: \u0026quot;Rust ç‰›é€¼!!\u0026quot; }), \u0026quot;field_3\u0026quot;: Some(FieldData { id: 7, field_id: 3, value: \u0026quot;Rust ç‰›é€¼!!!\u0026quot; }), \u0026quot;field_4\u0026quot;: None} // 2 ã€ä½¿ç”¨ fold å’Œ filter_map let field_name_field_data_map = fields.iter().fold(HashMap::new(), |mut a, b| { a.insert( b.name.clone(), field_datas .iter() .filter_map(move |fd| if fd.field_id == b.id { Some(fd) } else { None }) .next(), ); a }); println!(\u0026quot;{:?}\u0026quot;, field_name_field_data_map); // {\u0026quot;field_1\u0026quot;: Some(FieldData { id: 5, field_id: 1, value: \u0026quot;Rust ç‰›é€¼!\u0026quot; }), \u0026quot;field_3\u0026quot;: Some(FieldData { id: 7, field_id: 3, value: \u0026quot;Rust ç‰›é€¼!!!\u0026quot; }), \u0026quot;field_4\u0026quot;: None, \u0026quot;field_2\u0026quot;: Some(FieldData { id: 6, field_id: 2, value: \u0026quot;Rust ç‰›é€¼!!\u0026quot; })} }  è™½ç„¶å®ç°çš„æ–¹æ³•ä¸ä¸€å®šæ˜¯æœ€å¥½çš„ï¼Œä½†æ˜¯è¿˜æ˜¯å®ç°äº†æƒ³è¦è¾¾åˆ°çš„æ•ˆæœã€‚ğŸ˜†\nè¿™é‡Œå°±èµ·ä¸ªæŠ›ä¸ªç –å¼•ä¸ªç‰çš„æ•ˆæœã€‚\nå—¯~~ï¼Œè¿™é‡Œæš‚æ—¶ä¸ä»‹ç» fold filter_map filter for_eachç­‰æ–¹æ³•çš„ä½¿ç”¨ï¼Œåé¢çš„æ–‡ç« å¯èƒ½ä¼šé€ä¸€ä»‹ç»ã€‚\nå¦‚æœæƒ³è¦æ›´åŠ ç†Ÿç»ƒçš„ä½¿ç”¨è¿™äº›æ–¹æ³•ï¼Œé‚£è¿˜å¾—å‹¤åŠ ç»ƒä¹ æ‰è¡Œã€‚\n","id":14,"section":"posts","summary":"é¦–å…ˆï¼Œå…ˆåœ¨è¿™é‡ŒæŠ›å‡º ä¸¤ä¸ªé—®é¢˜ 1. å¦‚ä½•å°†ä¸€ä¸ª List è½¬æ¢ä¸ºä¸€ä¸ª HashMap 2. å¦‚ä½•å°†ä¸¤ä¸ª List è½¬æ¢ä¸ºä¸€ä¸ª HashMap è®©æˆ‘ä»¬æ¥çœ‹çœ‹ åœ¨ Java ä¸­æ˜¯å¦‚ä½•å®ç°çš„ã€‚ğŸ˜„ ç¬¬ä¸€ä¸ªé—®é¢˜ @Data @AllArgsConstructor public class Person { private Long id;","tags":["Rust","Rustè¿­ä»£å™¨"],"title":"å…³äºRustè¿­ä»£å™¨çš„ä¸€äº›éªšæ“ä½œ","uri":"https://littleguest.github.io/posts/rust-iterator-group/","year":"2021"},{"content":"é¦–å…ˆæ¥çœ‹çœ‹ä»£ç \nMap\u0026lt;String, Object\u0026gt; map = new HashMap\u0026lt;\u0026gt;(2); map.put(\u0026quot;reportNo\u0026quot;, null); map.put(\u0026quot;reportDate\u0026quot;, new Date()); System.out.println(JSON.toJSONString(map));  è¾“å‡ºç»“æœä¸º\n{\u0026quot;reportDate\u0026quot;:1611756215215}  ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§æƒ…å†µå‘¢ï¼Ÿ\né€šè¿‡åˆ†ææºç å¾—çŸ¥\nif (value == null) { if (!SerializerFeature.isEnabled(out.features, features, SerializerFeature.WriteMapNullValue)) { continue; } }  å½“å€¼ä¸º null æ—¶ï¼Œé»˜è®¤æ˜¯ä¸ä¼šè¢«åºåˆ—åŒ–çš„ï¼Œä½†æ˜¯æˆ‘ä»¬æœ‰æ—¶å€™æ˜¯éœ€è¦çš„ï¼Œé‚£ä¹ˆå¦‚ä½•è§£å†³å‘¢ï¼Ÿ\nè§£å†³æ–¹æ³•\né€šè¿‡åˆšæ‰çš„æºç å¾—çŸ¥ï¼Œå¯ä»¥æŒ‡å®š SerializerFeature.WriteMapNullValue æ¥åºåˆ—åŒ–ä¸º null çš„å€¼ã€‚\nMap\u0026lt;String, Object\u0026gt; map = new HashMap\u0026lt;\u0026gt;(2); map.put(\u0026quot;reportNo\u0026quot;, null); map.put(\u0026quot;reportDate\u0026quot;, new Date()); System.out.println(JSON.toJSONString(map, SerializerFeature.WriteMapNullValue));  è¾“å‡ºç»“æœä¸º\n{\u0026quot;reportDate\u0026quot;:1611757294826,\u0026quot;reportNo\u0026quot;:null}  ","id":15,"section":"posts","summary":"é¦–å…ˆæ¥çœ‹çœ‹ä»£ç  Map\u0026lt;String, Object\u0026gt; map = new HashMap\u0026lt;\u0026gt;(2); map.put(\u0026quot;reportNo\u0026quot;, null); map.put(\u0026quot;reportDate\u0026quot;, new Date()); System.out.println(JSON.toJSONString(map)); è¾“å‡ºç»“æœä¸º {\u0026quot;reportDate\u0026quot;:1611756215215} ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§æƒ…å†µå‘¢ï¼Ÿ é€šè¿‡åˆ†ææºç å¾—çŸ¥ if (value == null) { if (!SerializerFeature.isEnabled(out.features, features, SerializerFeature.WriteMapNullValue)) { continue; } } å½“å€¼ä¸º null æ—¶ï¼Œé»˜è®¤æ˜¯ä¸ä¼šè¢«","tags":["Java"],"title":"FastJson ä½¿ç”¨ toJSONString æ—¶å­—æ®µåºåˆ—åŒ–é—®é¢˜","uri":"https://littleguest.github.io/posts/java-fastjson-serialize/","year":"2021"},{"content":"åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œé¿å…ä¸äº†ä¼šç”Ÿæˆå„ç§ Excel æˆ–è€… Word æ–‡ä»¶ï¼Œä¸ºäº†ç®€åŒ–æˆ‘ä»¬çš„å·¥ä½œï¼ˆæœ‰æ›´å¤šçš„æ—¶é—´æ‘¸é±¼ï¼‰æˆ–è€…æ ¹æ®é¡¹ç›®çš„éœ€è¦ï¼Œæˆ‘ä»¬æœ‰æ—¶å€™éœ€è¦æ ¹æ®å®šä¹‰å¥½çš„ç»Ÿä¸€çš„æ¨¡æ¿åˆ›å»ºä¸€ç±»æ–‡ä»¶ã€‚ é‚£ä¹ˆå¦‚ä½•åœ¨ Java ä¸­æ ¹æ®æ¨¡æ¿ç”Ÿæˆæ–‡ä»¶å‘¢ï¼Ÿ\nå½“ç„¶ï¼Œæœ‰å¾ˆå¤šç§æ–¹æ³•å¯ä»¥å®ç°ï¼Œä½†æ˜¯ä»Šå¤©çš„ä¸»è§’æ˜¯ Poi-tl\n åœ¨æ–‡æ¡£çš„ä»»ä½•åœ°æ–¹åšä»»ä½•äº‹æƒ…ï¼ˆDo Anything Anywhereï¼‰æ˜¯poi-tlçš„æ˜Ÿè¾°å¤§æµ·ã€‚\n è¯¥åº“çš„æ–‡æ¡£å·²ç»å†™çš„å¾ˆè¯¦ç»†äº†ï¼Œè¿™é‡Œå°±ä¸å»è®²å¦‚ä½•ä½¿ç”¨äº†ï¼ŒåºŸè¯ä¸å¤šè¯´ï¼Œç›´æ¥ä¸Šä»£ç ã€‚\nç¯å¢ƒ\n jdk11 gradle linux  å¼•ä¾èµ–\n compile group: \u0026lsquo;com.deepoove\u0026rsquo;, name: \u0026lsquo;poi-tl\u0026rsquo;, version: \u0026lsquo;1.9.1\u0026rsquo;\n  implementation \u0026lsquo;org.springframework:spring-expression:5.3.3\u0026rsquo;\n é¦–å…ˆï¼Œå®šä¹‰ä¸¤ä¸ªç±» TestReport å’Œ CheckItems\n@Data public class TestReport { private String reportNo; private Date reportDate; private String projectName; private List\u0026lt;CheckItems\u0026gt; checkItems; private Object testerSign; private Date testDate; }  @Data public class CheckItems { private String itemNo; private String checkPosition; private String checkResult; private Integer level; }  å®šä¹‰å¥½æ¨¡æ¿\næœ€åç¼–å†™ main å‡½æ•°\npublic static void main(String[] args) throws IOException { TestReport dto = new TestReport(); dto.setReportNo(\u0026quot;996\u0026quot;); dto.setReportDate(new Date()); dto.setProjectName(\u0026quot;æµ‹è¯•ç”¨çš„æ£€æµ‹é¡¹ç›®åç§°\u0026quot;); List\u0026lt;CheckItems\u0026gt; checkItems = CollUtil.newArrayList(); for (int i = 1; i \u0026lt;= 3; i++) { CheckItems checkItem = new CheckItems(); checkItem.setItemNo(\u0026quot;100\u0026quot; + (i - 1)); checkItem.setCheckPosition(\u0026quot;æ£€æµ‹éƒ¨ä½\u0026quot; + i); checkItem.setCheckResult(\u0026quot;åˆæ ¼\u0026quot;); checkItem.setLevel(i); checkItems.add(checkItem); } dto.setCheckItems(checkItems); ClassPathResource testerSign = new ClassPathResource(\u0026quot;static/5ff7adb306f04.png\u0026quot;); dto.setTesterSign(Pictures.ofStream(testerSign.getInputStream(), PictureType.PNG).size(50, 75).create()); dto.setTestDate(new Date()); ConfigureBuilder configureBuilder = Configure.builder(); configureBuilder.useSpringEL(true); ClassPathResource templateFile = new ClassPathResource(\u0026quot;templates/poi-tl.docx\u0026quot;); XWPFTemplate template = XWPFTemplate.compile(templateFile.getInputStream(), configureBuilder.build()); template.render(dto); template.writeAndClose(new FileOutputStream(\u0026quot;poi-tl.docx\u0026quot;)); }  è¾“å‡ºçš„æ–‡ä»¶ç»“æœ\nè¿™ä¸ªæ¡ˆä¾‹æˆ‘è§‰å¾—å¯ä»¥åº”ä»˜å¤§éƒ¨åˆ†éœ€æ±‚äº†ï¼Œä¹Ÿæä¾›äº†ä¸€ç§ä½¿ç”¨åµŒå¥—è¡¨æ ¼çš„æ“ä½œæ¥æ¸²æŸ“å¤šä¸ªå¤æ‚è¡¨æ ¼çš„å®ç°ï¼›\næ¥ä¸‹æ¥å°±æ˜¯æ‘¸é±¼æ—¶é—´~~~\n","id":16,"section":"posts","summary":"åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œé¿å…ä¸äº†ä¼šç”Ÿæˆå„ç§ Excel æˆ–è€… Word æ–‡ä»¶ï¼Œä¸ºäº†ç®€åŒ–æˆ‘ä»¬çš„å·¥ä½œï¼ˆæœ‰æ›´å¤šçš„æ—¶é—´æ‘¸é±¼ï¼‰æˆ–è€…æ ¹æ®é¡¹ç›®çš„éœ€è¦ï¼Œæˆ‘ä»¬æœ‰æ—¶å€™éœ€è¦æ ¹æ®å®šä¹‰å¥½çš„ç»Ÿä¸€çš„æ¨¡æ¿","tags":["Java"],"title":"Javaæ ¹æ®Wordæ¨¡æ¿ç”ŸæˆWordæ–‡ä»¶","uri":"https://littleguest.github.io/posts/java-word-template/","year":"2021"},{"content":"å¦‚ä½•åœ¨ Rust ä¸­ç¼–å†™æµ‹è¯• å½“æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª lib é¡¹ç›®æ—¶ï¼Œcargo ä¼šå¸®æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªtestæ¨¡å—å’Œä¸€ä¸ªæµ‹è¯•å‡½æ•°\n#[cfg(test)] mod tests { #[test] fn it_works() { assert_eq!(2 + 2, 4); } }  #[test] ç”¨äºæ ‡è®°ä¸€ä¸ª fn å‡½æ•° ä¸ºä¸€ä¸ªæµ‹è¯•å‡½æ•°ï¼›#[cfg(test)] è¡¨ç¤ºåªæœ‰åœ¨è¿è¡Œ cargo test å‘½ä»¤æ—¶æ‰§è¡Œï¼› å½“æˆ‘ä»¬è¿è¡Œ cargo test å‘½ä»¤åï¼Œä¼šå¾—åˆ°ä¸€äº›ä¿¡æ¯ï¼›\nFinished test [unoptimized + debuginfo] target(s) in 0.00s Running target/debug/deps/rust_tour_test-13122ed7b69a820b running 1 test test tests::it_works ... ok test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out Doc-tests rust-tour-test running 0 tests test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out  å¯ä»¥çœ‹å‡ºï¼Œè¿è¡Œ cargo test æ—¶ï¼Œä¼šè¿è¡Œæ™®é€šæµ‹è¯•å‡½æ•°ï¼Œè¿˜ä¼šè¿è¡Œæ–‡æ¡£ä¸­çš„æµ‹è¯•å‡½æ•°ï¼›\nã€‚ã€‚ã€‚\nå•å…ƒæµ‹è¯• å•å…ƒæµ‹è¯•çš„ç›®çš„æ˜¯åœ¨ä¸å…¶ä»–éƒ¨åˆ†éš”ç¦»çš„ç¯å¢ƒä¸­æµ‹è¯•æ¯ä¸€ä¸ªå•å…ƒçš„ä»£ç ï¼Œä»¥ä¾¿äºå¿«é€Ÿè€Œå‡†ç¡®çš„æŸä¸ªå•å…ƒçš„ä»£ç åŠŸèƒ½æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚å•å…ƒæµ‹è¯•ä¸ä»–ä»¬è¦æµ‹è¯•çš„ä»£ç å…±åŒå­˜æ”¾åœ¨ä½äº src ç›®å½•ä¸‹ç›¸åŒçš„æ–‡ä»¶ä¸­ã€‚è§„èŒƒæ˜¯åœ¨æ¯ä¸ªæ–‡ä»¶ä¸­åˆ›å»ºåŒ…å«æµ‹è¯•å‡½æ•°çš„ tests æ¨¡å—ï¼Œå¹¶ä½¿ç”¨ cfg(test) æ ‡æ³¨æ¨¡å—ï¼›\né›†æˆæµ‹è¯• åœ¨ Rust ä¸­ï¼Œé›†æˆæµ‹è¯•å¯¹äºä½ éœ€è¦æµ‹è¯•çš„åº“æ¥è¯´å®Œå…¨æ˜¯å¤–éƒ¨çš„ã€‚åŒå…¶ä»–ä½¿ç”¨åº“çš„ä»£ç ä¸€æ ·ä½¿ç”¨åº“æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä»¬åªèƒ½è°ƒç”¨ä¸€éƒ¨åˆ†åº“ä¸­çš„ å…¬æœ‰ API ã€‚é›†æˆæµ‹è¯•çš„ç›®çš„æ˜¯æµ‹è¯•åº“çš„å¤šä¸ªéƒ¨åˆ†èƒ½å¦ä¸€èµ·æ­£å¸¸å·¥ä½œã€‚ä¸€äº›å•ç‹¬èƒ½æ­£ç¡®è¿è¡Œçš„ä»£ç å•å…ƒé›†æˆåœ¨ä¸€èµ·ä¹Ÿå¯èƒ½ä¼šå‡ºç°é—®é¢˜ï¼Œæ‰€ä»¥é›†æˆæµ‹è¯•çš„è¦†ç›–ç‡ä¹Ÿæ˜¯å¾ˆé‡è¦çš„ã€‚ä¸ºäº†åˆ›å»ºé›†æˆæµ‹è¯•ï¼Œéœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª tests ç›®å½•ï¼Œä¸ src åŒçº§ã€‚Cargo çŸ¥é“å¦‚ä½•å»å¯»æ‰¾è¿™ä¸ªç›®å½•ä¸­çš„é›†æˆæµ‹è¯•æ–‡ä»¶ã€‚æ¥ç€å¯ä»¥éšæ„åœ¨è¿™ä¸ªç›®å½•ä¸­åˆ›å»ºä»»æ„å¤šçš„æµ‹è¯•æ–‡ä»¶ï¼ŒCargo ä¼šå°†æ¯ä¸€ä¸ªæ–‡ä»¶å½“ä½œå•ç‹¬çš„ crate æ¥ç¼–è¯‘ï¼›\nexample:\nrust_test - src - lib.rs - tests - common - mod.rs - test_add.rs  src/lib.rs\n#[cfg(test)] mod tests { #[test] fn it_works() { assert_eq!(2 + 2, 4); } } pub fn add() -\u0026gt; i32 { 2 + 2 }  tests/test_add.rs\nuse rust_test::add; mod common; #[test] fn test() { assert_eq!(666, common::test_common()); assert_eq!(4, add()); }  tests/common/mod.rs\npub fn test_common() -\u0026gt; i32 { 666 }  ","id":17,"section":"posts","summary":"å¦‚ä½•åœ¨ Rust ä¸­ç¼–å†™æµ‹è¯• å½“æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª lib é¡¹ç›®æ—¶ï¼Œcargo ä¼šå¸®æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªtestæ¨¡å—å’Œä¸€ä¸ªæµ‹è¯•å‡½æ•° #[cfg(test)] mod tests { #[test] fn it_works() { assert_eq!(2 + 2, 4); } } #[test] ç”¨äºæ ‡è®°ä¸€ä¸ª fn å‡½","tags":["Rust","æµ‹è¯•"],"title":"Rustä¹‹æ—…-æµ‹è¯•","uri":"https://littleguest.github.io/posts/rust-tour-test/","year":"2021"},{"content":"Git æ‚è®°  ä¸åŒç±»åˆ«çš„ä¿®æ”¹ (å¦‚ï¼šBugä¿®å¤å’ŒåŠŸèƒ½æ·»åŠ ) è¦å°½é‡åˆ†å¼€æäº¤ï¼Œä»¥æ–¹ä¾¿ä»¥åä»å†å²è®°å½•é‡ŒæŸ¥æ‰¾ç‰¹å®šçš„ä¿®æ”¹å†…å®¹; Gitçš„æ ‡å‡†æ³¨è§£:  ç¬¬1è¡Œï¼šæäº¤ä¿®æ”¹å†…å®¹çš„æ‘˜è¦; ç¬¬2è¡Œï¼šç©ºè¡Œ; ç¬¬3è¡Œä»¥åï¼šä¿®æ”¹çš„ç†ç”±;   . å¯ä»¥æŠŠæ‰€æœ‰çš„æ–‡ä»¶åŠ å…¥åˆ°ç´¢å¼•;  ","id":18,"section":"posts","summary":"Git æ‚è®° ä¸åŒç±»åˆ«çš„ä¿®æ”¹ (å¦‚ï¼šBugä¿®å¤å’ŒåŠŸèƒ½æ·»åŠ ) è¦å°½é‡åˆ†å¼€æäº¤ï¼Œä»¥æ–¹ä¾¿ä»¥åä»å†å²è®°å½•é‡ŒæŸ¥æ‰¾ç‰¹å®šçš„ä¿®æ”¹å†…å®¹; Gitçš„æ ‡å‡†æ³¨è§£: ç¬¬1è¡Œï¼šæäº¤ä¿®æ”¹","tags":["Git"],"title":"Gitæ‚è®°","uri":"https://littleguest.github.io/posts/git-notes/","year":"2021"},{"content":"ç”Ÿå‘½å‘¨æœŸä¸å¼•ç”¨æœ‰æ•ˆæ€§ Rust ä¸­çš„æ¯ä¸€ä¸ªå¼•ç”¨éƒ½æœ‰å…¶ ç”Ÿå‘½å‘¨æœŸï¼ˆlifetimeï¼‰ï¼Œä¹Ÿå°±æ˜¯å¼•ç”¨ä¿æŒæœ‰æ•ˆçš„ä½œç”¨åŸŸã€‚å¤§éƒ¨åˆ†æ—¶å€™ç”Ÿå‘½å‘¨æœŸæ˜¯éšå«å¹¶å¯ä»¥æ¨æ–­çš„ï¼Œæ­£å¦‚å¤§éƒ¨åˆ†æ—¶å€™ç±»å‹ä¹Ÿæ˜¯å¯ä»¥æ¨æ–­çš„ä¸€æ ·ã€‚ç±»ä¼¼äºå½“å› ä¸ºæœ‰å¤šç§å¯èƒ½ç±»å‹çš„æ—¶å€™å¿…é¡»æ³¨æ˜ç±»å‹ï¼Œä¹Ÿä¼šå‡ºç°å¼•ç”¨çš„ç”Ÿå‘½å‘¨æœŸä»¥ä¸€äº›ä¸åŒæ–¹å¼ç›¸å…³è”çš„æƒ…å†µï¼Œæ‰€ä»¥ Rust éœ€è¦æˆ‘ä»¬ä½¿ç”¨ æ³›å‹ç”Ÿå‘½å‘¨æœŸå‚æ•° æ¥æ³¨æ˜ä»–ä»¬çš„å…³ç³»ï¼Œè¿™æ ·å°±èƒ½ç¡®ä¿è¿è¡Œæ—¶å®é™…ä½¿ç”¨çš„å¼•ç”¨ç»å¯¹æ˜¯æœ‰æ•ˆçš„ã€‚\nç”Ÿå‘½å‘¨æœŸé¿å…äº†æ‚¬å‚å¼•ç”¨\nå€Ÿç”¨æ£€æŸ¥å™¨ï¼šæ¯”è¾ƒä½œç”¨åŸŸæ¥ç¡®ä¿æ‰€æœ‰çš„å€Ÿç”¨éƒ½æ˜¯æœ‰æ•ˆçš„\nç”Ÿå‘½å‘¨æœŸè¯­æ³•\n ç”Ÿå‘½å‘¨æœŸå‚æ•°åç§°å¿…é¡»ä»¥æ’‡å·ï¼ˆ'ï¼‰å¼€å¤´ï¼Œå…¶åç§°é€šå¸¸å…¨æ˜¯å°å†™ï¼Œç±»ä¼¼äºæ³›å‹å…¶åç§°éå¸¸çŸ­ã€‚\u0026lsquo;a æ˜¯å¤§å¤šæ•°äººé»˜è®¤ä½¿ç”¨çš„åç§°ã€‚ç”Ÿå‘½å‘¨æœŸå‚æ•°æ³¨è§£ä½äºå¼•ç”¨çš„ \u0026amp; ä¹‹åï¼Œå¹¶æœ‰ä¸€ä¸ªç©ºæ ¼æ¥å°†å¼•ç”¨ç±»å‹ä¸ç”Ÿå‘½å‘¨æœŸæ³¨è§£åˆ†éš”å¼€ï¼›\n é€šè¿‡åœ¨å‡½æ•°ç­¾åä¸­æŒ‡å®šç”Ÿå‘½å‘¨æœŸå‚æ•°æ—¶ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰æ”¹å˜ä»»ä½•ä¼ å…¥å€¼æˆ–è¿”å›å€¼çš„ç”Ÿå‘½å‘¨æœŸï¼Œè€Œæ˜¯æŒ‡å‡ºä»»ä½•ä¸æ»¡è¶³è¿™ä¸ªçº¦æŸæ¡ä»¶çš„å€¼éƒ½å°†è¢«å€Ÿç”¨æ£€æŸ¥å™¨æ‹’ç»ï¼›\næŒ‡å®šç”Ÿå‘½å‘¨æœŸå‚æ•°çš„æ­£ç¡®æ–¹å¼ä¾èµ–å‡½æ•°å®ç°çš„å…·ä½“åŠŸèƒ½ï¼›\nå½“ä»å‡½æ•°è¿”å›ä¸€ä¸ªå¼•ç”¨ï¼Œè¿”å›å€¼çš„ç”Ÿå‘½å‘¨æœŸå‚æ•°éœ€è¦ä¸ä¸€ä¸ªå‚æ•°çš„ç”Ÿå‘½å‘¨æœŸå‚æ•°ç›¸åŒ¹é…ã€‚å¦‚æœè¿”å›çš„å¼•ç”¨ æ²¡æœ‰ æŒ‡å‘ä»»ä½•ä¸€ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆå”¯ä¸€çš„å¯èƒ½å°±æ˜¯å®ƒæŒ‡å‘ä¸€ä¸ªå‡½æ•°å†…éƒ¨åˆ›å»ºçš„å€¼ï¼Œå®ƒå°†ä¼šæ˜¯ä¸€ä¸ªæ‚¬å‚å¼•ç”¨ï¼Œå› ä¸ºå®ƒå°†ä¼šåœ¨å‡½æ•°ç»“æŸæ—¶ç¦»å¼€ä½œç”¨åŸŸã€‚æœ€å¥½çš„è§£å†³æ–¹æ¡ˆæ˜¯è¿”å›ä¸€ä¸ªæœ‰æ‰€æœ‰æƒçš„æ•°æ®ç±»å‹è€Œä¸æ˜¯ä¸€ä¸ªå¼•ç”¨ï¼›\nç”Ÿå‘½å‘¨æœŸè¯­æ³•æ˜¯ç”¨äºå°†å‡½æ•°çš„å¤šä¸ªå‚æ•°ä¸å…¶è¿”å›å€¼çš„ç”Ÿå‘½å‘¨æœŸè¿›è¡Œå…³è”çš„ã€‚ä¸€æ—¦ä»–ä»¬å½¢æˆäº†æŸç§å…³è”ï¼ŒRust å°±æœ‰äº†è¶³å¤Ÿçš„ä¿¡æ¯æ¥å…è®¸å†…å­˜å®‰å…¨çš„æ“ä½œå¹¶é˜»æ­¢ä¼šäº§ç”Ÿæ‚¬å‚æŒ‡é’ˆäº¦æˆ–æ˜¯è¿åå†…å­˜å®‰å…¨çš„è¡Œä¸ºï¼›\n","id":19,"section":"posts","summary":"ç”Ÿå‘½å‘¨æœŸä¸å¼•ç”¨æœ‰æ•ˆæ€§ Rust ä¸­çš„æ¯ä¸€ä¸ªå¼•ç”¨éƒ½æœ‰å…¶ ç”Ÿå‘½å‘¨æœŸï¼ˆlifetimeï¼‰ï¼Œä¹Ÿå°±æ˜¯å¼•ç”¨ä¿æŒæœ‰æ•ˆçš„ä½œç”¨åŸŸã€‚å¤§éƒ¨åˆ†æ—¶å€™ç”Ÿå‘½å‘¨æœŸæ˜¯éšå«å¹¶å¯ä»¥æ¨æ–­çš„ï¼Œæ­£","tags":["Rust","Rustç”Ÿå‘½å‘¨æœŸ"],"title":"Rustä¹‹æ—…-ç”Ÿå‘½å‘¨æœŸ","uri":"https://littleguest.github.io/posts/rust-tour-lifetime/","year":"2021"},{"content":"Rustå¦‚ä½•ä½¿ç”¨æ³›å‹ åœ¨å‡½æ•°å®šä¹‰ä¸­ä½¿ç”¨æ³›å‹\næ¯”å¦‚æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ±‚sliceä¸­çš„æœ€å¤§å€¼çš„å‡½æ•°ï¼Œä¼ å…¥çš„å‚æ•°æ˜¯ä¸€ä¸ªå…ƒç´ ç±»å‹ä¸º T çš„sliceï¼Œè¿”å›å€¼ä¹Ÿæ˜¯ Tï¼› å¦‚æœè¦åœ¨å‡½æ•°ä½“å†…ä½¿ç”¨æ³›å‹å‚æ•°ï¼Œé‚£ä¹ˆå¿…é¡»è¦åœ¨å‡½æ•°ç­¾åä¸­å£°æ˜æ³›å‹åç§°ã€‚\nfn largest\u0026lt;T\u0026gt;(list: \u0026amp;[T]) -\u0026gt; T {  ç»“æ„ä½“å®šä¹‰ä¸­çš„æ³›å‹\nå¿…é¡»åœ¨ç»“æ„ä½“åç§°åé¢çš„å°–æ‹¬å·ä¸­å£°æ˜æ³›å‹å‚æ•°çš„åç§°\n// ä¸€ä¸ªæ³›å‹å‚æ•° struct Point\u0026lt;T\u0026gt; { x: T, y: T, } // å¤šä¸ªæ³›å‹å‚æ•° struct Point2\u0026lt;T, U\u0026gt; { x: T, y: U, }  æšä¸¾å®šä¹‰ä¸­çš„æ³›å‹\n// ä¸€ä¸ªæ³›å‹å‚æ•° pub enum Option\u0026lt;T\u0026gt; { None, Some(T), } // å¤šä¸ªæ³›å‹å‚æ•° pub enum Result\u0026lt;T, E\u0026gt; { Ok(T), Err(E), }  æ–¹æ³•å®šä¹‰ä¸­çš„æ³›å‹\nstruct Point\u0026lt;T\u0026gt; { x: T, y: T, } impl\u0026lt;T\u0026gt; Point\u0026lt;T\u0026gt; { fn x(\u0026amp;self) -\u0026gt; \u0026amp;T { \u0026amp;self.x } }  ç»“æ„ä½“å®šä¹‰ä¸­çš„æ³›å‹ç±»å‹å‚æ•°å¹¶ä¸æ€»æ˜¯ä¸ç»“æ„ä½“æ–¹æ³•ç­¾åä¸­ä½¿ç”¨çš„æ³›å‹æ˜¯åŒä¸€ç±»å‹ã€‚\nstruct Point\u0026lt;T, U\u0026gt; { x: T, y: U, } impl\u0026lt;T, U\u0026gt; Point\u0026lt;T, U\u0026gt; { fn mixup\u0026lt;V, W\u0026gt;(self, other: Point\u0026lt;V, W\u0026gt;) -\u0026gt; Point\u0026lt;T, W\u0026gt; { Point { x: self.x, y: other.y, } } }  Rust é€šè¿‡åœ¨ç¼–è¯‘æ—¶è¿›è¡Œæ³›å‹ä»£ç çš„ å•æ€åŒ–ï¼ˆmonomorphizationï¼‰ æ¥ä¿è¯æ•ˆç‡ã€‚å•æ€åŒ–æ˜¯ä¸€ä¸ªé€šè¿‡å¡«å……ç¼–è¯‘æ—¶ä½¿ç”¨çš„å…·ä½“ç±»å‹ï¼Œå°†é€šç”¨ä»£ç è½¬æ¢ä¸ºç‰¹å®šä»£ç çš„è¿‡ç¨‹ã€‚\n","id":20,"section":"posts","summary":"Rustå¦‚ä½•ä½¿ç”¨æ³›å‹ åœ¨å‡½æ•°å®šä¹‰ä¸­ä½¿ç”¨æ³›å‹ æ¯”å¦‚æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ±‚sliceä¸­çš„æœ€å¤§å€¼çš„å‡½æ•°ï¼Œä¼ å…¥çš„å‚æ•°æ˜¯ä¸€ä¸ªå…ƒç´ ç±»å‹ä¸º T çš„sliceï¼Œè¿”å›å€¼ä¹Ÿæ˜¯ T","tags":["Rust","Rustæ³›å‹"],"title":"Rustä¹‹æ—…-æ³›å‹","uri":"https://littleguest.github.io/posts/rust-tour-generic-type/","year":"2021"},{"content":"Rustä¸­çš„é”™è¯¯å¤„ç† åœ¨ Java ä¸­å¤„ç†å¼‚å¸¸ä¸€èˆ¬æœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼š\n ä½¿ç”¨ try-catch æ•è·å¼‚å¸¸ é€šè¿‡ throw çš„æ–¹å¼å‘ä¸ŠæŠ›å¼‚å¸¸ åœ¨webä¸­å…¨å±€æ‹¦æˆªå¼‚å¸¸  å½“ç„¶è¿˜æœ‰å…¶ä»–æ–¹å¼å¤„ç†å¼‚å¸¸ï¼Œè¿™é‡Œå°±ä¸ä¸€ä¸€åˆ—ä¸¾äº†ã€‚\nå¥½äº†ï¼Œå›å½’æ­£é¢˜ï¼Œ\né‚£ä¹ˆåœ¨ Rust ä¸­æ˜¯æ€ä¹ˆå¤„ç†é”™è¯¯çš„å‘¢ï¼Ÿ\næ¥è®²æ€ä¹ˆå¤„ç†é”™è¯¯ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦äº†è§£æ ‡å‡†åº“ä¸­çš„ std::result::Result è¿™ä¸ªæšä¸¾\n#[must_use = \u0026quot;this `Result` may be an `Err` variant, which should be handled\u0026quot;] pub enum Result\u0026lt;T, E\u0026gt; { Ok(T), Err(E), }  å®ƒæ˜¯ç”¨æ¥è¿”å›é”™è¯¯å’Œä¼ æ’­é”™è¯¯çš„ï¼ŒOk(T) ä»£è¡¨æˆåŠŸå¹¶ä¸”åŒ…å«ä¸€ä¸ªæˆåŠŸå€¼, Err(E) ä»£è¡¨é”™è¯¯å¹¶ä¸”åŒ…å«ä¸€ä¸ªé”™è¯¯å€¼ï¼Œ #[must_use] å±æ€§è¡¨ç¤ºè¿”å›å€¼ Result éœ€è¦è¢«å¤„ç†ï¼Œå¦åˆ™ç¼–è¯‘å™¨ä¼šç»™å‡ºè­¦å‘Šï¼›\n  æœ€ç®€å•ç²—æš´çš„æ–¹å¼å°±æ˜¯ç›´æ¥ unwrap\n unwrap å¦‚æœå‡ºç°é”™è¯¯ï¼Œç›´æ¥ panicï¼Œä¸€èˆ¬ä¸æ¨èä½¿ç”¨ï¼›  assert_eq!(Ok::\u0026lt;u32, \u0026amp;str\u0026gt;(1).unwrap(), 1); Err::\u0026lt;u32, \u0026amp;str\u0026gt;(\u0026quot;error\u0026quot;).unwrap(); // panic   unwrap_or å¦‚æœå‡ºç°é”™è¯¯ï¼Œè¿”å›ç»™å‡ºçš„å€¼ï¼›  assert_eq!(Err::\u0026lt;u32, \u0026amp;str\u0026gt;(\u0026quot;error\u0026quot;).unwrap_or(1), 1);   unwrap_or_else å¦‚æœå‡ºç°é”™è¯¯ï¼Œè¿”å›é—­åŒ…è®¡ç®—å‡ºçš„å€¼ï¼›  assert_eq!(Err::\u0026lt;u32, \u0026amp;str\u0026gt;(\u0026quot;error\u0026quot;).unwrap_or_else(|_| 1), 1); fn count(x: \u0026amp;str) -\u0026gt; usize { x.len() } assert_eq!(Err::\u0026lt;usize, \u0026amp;str\u0026gt;(\u0026quot;error\u0026quot;).unwrap_or_else(count), 5);   unwrap_or_default å¦‚æœå‡ºç°é”™è¯¯ï¼Œè¿”å›æ”¹ç±»å‹çš„é»˜è®¤å€¼ï¼Œå¦åˆ™è¿”å› Ok(T) åŒ…å«çš„å€¼ï¼›  assert_eq!(Err::\u0026lt;i32, \u0026amp;str\u0026gt;(\u0026quot;error\u0026quot;).unwrap_or_default(), 0); assert_eq!(Err::\u0026lt;bool, \u0026amp;str\u0026gt;(\u0026quot;error\u0026quot;).unwrap_or_default(), false);    æˆ–è€… expect\nErr::\u0026lt;u32, \u0026amp;str\u0026gt;(\u0026quot;error\u0026quot;).expect(\u0026quot;panic\u0026quot;); // ...thread 'main' panicked at 'panic: \u0026quot;error\u0026quot;',...    æˆ‘ä»¬æƒ³è¦å¿«é€Ÿè·å– Ok(T) ä¸­çš„å€¼ï¼Œå¸¸ç”¨çš„å°±æ˜¯ä»¥ä¸Šè¿™å‡ ç§ Result çš„æ–¹æ³•ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°è¯•å…¶å®ƒé€”å¾„æ¥å¤„ç†é”™è¯¯ï¼›\n  ä½¿ç”¨ match æ¨¡å¼åŒ¹é…\nuse std::fs::File; use std::io::Read; fn main() { let mut file = File::open(\u0026quot;./setting.toml\u0026quot;); match file { Ok(mut f) =\u0026gt; { let mut buf = \u0026quot;\u0026quot;.to_string(); let read = f.read_to_string(\u0026amp;mut buf); match read { Ok(_) =\u0026gt; {} Err(e) =\u0026gt; eprintln!(\u0026quot;read err: {}\u0026quot;, e), } } Err(e) =\u0026gt; eprintln!(\u0026quot;open err: {}\u0026quot;, e), } }  å½“æˆ‘ä»¬éœ€è¦å¤„ç†å¤šä¸ªé”™è¯¯æ—¶ï¼Œä½¿ç”¨ match åŒ¹é…å°±æœ‰ç‚¹å•°å—¦äº†ã€‚\n  ä¼ æ’­é”™è¯¯ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ? æ“ä½œç¬¦æ¥ç®€åŒ– match æ¨¡å¼åŒ¹é…\nuse std::fs::File; use std::io::Read; fn main() -\u0026gt; Result\u0026lt;(), std::io::Error\u0026gt; { let mut file = File::open(\u0026quot;./setting.toml\u0026quot;)?; let mut buf = \u0026quot;\u0026quot;.to_string(); let _ = file.read_to_string(\u0026amp;mut buf)?; Ok(()) }  å¯ä»¥çœ‹åˆ°ä½¿ç”¨ ? æå¤§çš„ç®€åŒ–äº†æˆ‘ä»¬çš„ä»£ç ï¼Œå½“ç„¶ç°åœ¨æˆ‘ä»¬åªè¿”å›æ¥ä¸€ç§é”™è¯¯ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬çœ‹çœ‹æ˜¯æ€æ ·è¿”å›å¤šç§é”™è¯¯çš„ï¼›\nuse std::fs::File; use std::io::Read; fn main() -\u0026gt; Result\u0026lt;(), Box\u0026lt;dyn std::error::Error\u0026gt;\u0026gt; { let mut file = File::open(\u0026quot;./Cargo.toml\u0026quot;)?; let mut buf = \u0026quot;\u0026quot;.to_string(); let _ = file.read_to_string(\u0026amp;mut buf)?; \u0026quot;a\u0026quot;.parse::\u0026lt;i32\u0026gt;()?; Ok(()) }    è‡ªå®šä¹‰é”™è¯¯ å¼€å§‹è‡ªå®šä¹‰é”™è¯¯ä¹‹å‰ï¼Œéœ€è¦äº†è§£æ ‡å‡†åº“ std::error::Error\npub trait Error: Debug + Display { fn source(\u0026amp;self) -\u0026gt; Option\u0026lt;\u0026amp;(dyn Error + 'static)\u0026gt; { ... } fn backtrace(\u0026amp;self) -\u0026gt; Option\u0026lt;\u0026amp;Backtrace\u0026gt; { ... } fn description(\u0026amp;self) -\u0026gt; \u0026amp;str { ... } fn cause(\u0026amp;self) -\u0026gt; Option\u0026lt;\u0026amp;dyn Error\u0026gt; { ... } }  å½“æˆ‘ä»¬è‡ªå®šä¹‰é”™è¯¯æ—¶ï¼Œåªéœ€è¦ç®¡ source è¿™ä¸ªæ–¹æ³•å°±è¡Œäº†ï¼Œ description å’Œ cause å·²ç»åºŸå¼ƒäº†ï¼Œbacktrace åœ¨ nightly ç‰ˆæœ¬ä¸­è¿˜æ˜¯å®éªŒæ€§çš„ï¼ˆæˆ‘çš„ç‰ˆæœ¬æ˜¯ 1.49.0ï¼‰ï¼›\nuse std::fmt::{Debug, Display, Formatter}; use std::fs::File; use std::io::{Error, Read}; use std::num::ParseIntError; use std::str::Utf8Error; #[derive(Debug)] enum CustomError { IoErr, ParseIntError(ParseIntError), Utf8Error(Utf8Error), } impl Display for CustomError { fn fmt(\u0026amp;self, f: \u0026amp;mut Formatter\u0026lt;'_\u0026gt;) -\u0026gt; std::fmt::Result { match self { CustomError::IoErr =\u0026gt; write!(f, \u0026quot;io error\u0026quot;), CustomError::ParseIntError(_) =\u0026gt; write!(f, \u0026quot;parse int error\u0026quot;), CustomError::Utf8Error(_) =\u0026gt; write!(f, \u0026quot;utf8 error\u0026quot;), } } } impl std::error::Error for CustomError { fn source(\u0026amp;self) -\u0026gt; Option\u0026lt;\u0026amp;(dyn std::error::Error + 'static)\u0026gt; { match self { CustomError::IoErr =\u0026gt; None, CustomError::ParseIntError(e) =\u0026gt; Some(e), CustomError::Utf8Error(e) =\u0026gt; Some(e), } } } impl From\u0026lt;std::io::Error\u0026gt; for CustomError { fn from(_: Error) -\u0026gt; Self { Self::IoErr } } impl From\u0026lt;ParseIntError\u0026gt; for CustomError { fn from(e: ParseIntError) -\u0026gt; Self { Self::ParseIntError(e) } } impl From\u0026lt;Utf8Error\u0026gt; for CustomError { fn from(e: Utf8Error) -\u0026gt; Self { Self::Utf8Error(e) } } fn main() -\u0026gt; Result\u0026lt;(), CustomError\u0026gt; { let mut file = File::open(\u0026quot;./Cargo.toml\u0026quot;)?; let mut buf = \u0026quot;\u0026quot;.to_string(); let _ = file.read_to_string(\u0026amp;mut buf)?; std::str::from_utf8(\u0026quot;ğŸ˜„\u0026quot;.as_bytes())?; \u0026quot;a\u0026quot;.parse::\u0026lt;i32\u0026gt;()?; Ok(()) }    ä»¥ä¸Šå°±æ˜¯æˆ‘äº†è§£çš„é”™è¯¯å¤„ç†æ–¹å¼ï¼Œå¦‚æœæƒ³è¦æ›´æ·±å…¥äº†è§£ï¼Œå¯ä»¥çœ‹çœ‹ std::io::Error ï¼›\n","id":21,"section":"posts","summary":"Rustä¸­çš„é”™è¯¯å¤„ç† åœ¨ Java ä¸­å¤„ç†å¼‚å¸¸ä¸€èˆ¬æœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼š ä½¿ç”¨ try-catch æ•è·å¼‚å¸¸ é€šè¿‡ throw çš„æ–¹å¼å‘ä¸ŠæŠ›å¼‚å¸¸ åœ¨webä¸­å…¨å±€æ‹¦æˆªå¼‚å¸¸ å½“ç„¶è¿˜æœ‰å…¶ä»–æ–¹å¼å¤„ç†å¼‚å¸¸ï¼Œè¿™","tags":["Rust","Rusté”™è¯¯å¤„ç†"],"title":"Rustä¹‹æ—…-é”™è¯¯å¤„ç†","uri":"https://littleguest.github.io/posts/rust-tour-error-handle/","year":"2021"},{"content":"è®°ä¸€æ¬¡Java Stream å»é‡æ“ä½œ ä¸ºäº†é‡ç°å½“æ—¶çš„é”™è¯¯ï¼Œæˆ‘ä¼šå°½é‡ä¿æŒä¸€è‡´ï¼Œåªæ˜¯ç±»åå’Œç±»çš„å±æ€§ä¸ä¸€æ ·è€Œå·²ï¼Œç°å®šä¹‰å¦‚ä¸‹ä¸¤ä¸ªç±»\npublic class BaseEntity implements Serializable { private Long id; public BaseEntity() { } public Long getId() { return id; } public void setId(Long id) { this.id = id; } }  @Data public class Entity extends BaseEntity { private Long id; private String field; }  Entity æ˜¯ç»§æ‰¿ BaseEntity ï¼Œå¹¶ä¸” BaseEntity æ˜¯å®ç°äº† Serializable è¿™ä¸ªæ¥å£\næ¥ä¸‹æ¥ç¼–å†™æµ‹è¯•ä»£ç \npublic static void main(String[] args) { List\u0026lt;Entity\u0026gt; entities = new ArrayList\u0026lt;\u0026gt;(); for (int i = 0; i \u0026lt; 5; i++) { Entity entity = new Entity(); entity.setId(1L); entity.setField(\u0026quot;field\u0026quot;); entities.add(entity); } System.out.println(entities.stream().distinct().collect(Collectors.toList())); }  é¦–å…ˆå®šä¹‰äº†ä¸€ä¸ªè£… Entity çš„ ArrayList ï¼Œå‘å…¶ä¸­æ”¾å…¥5ä¸ªå®ä¾‹ï¼Œæœ€åæ‰“å°å»é‡åçš„ç»“æœï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹\n\u0026gt; Task :Test.main() [Entity(id=1, field=field)]  å¯ä»¥çœ‹åˆ°ï¼Œç»“æœè·Ÿæˆ‘ä»¬é¢„æœŸçš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œæ˜¯å»é‡åçš„ç»“æœã€‚\nå½“æˆ‘ä»¬å®šä¹‰ Entity æ—¶ï¼Œç¼–è¾‘å™¨ä¼šæç¤ºåƒè¿™ç§çš„è­¦å‘Š å½“æˆ‘ä½¿ç”¨ç¼–è¾‘å™¨å¿«æ·é”®å¯¼å…¥æ—¶ï¼Œä»£ç å˜æˆäº†å¦‚ä¸‹ï¼š\n@EqualsAndHashCode(callSuper = true) @Data public class Entity extends BaseEntity { private Long id; private String field; }  å¥½äº†ï¼Œè¿™ä¸ªå°±æ˜¯é”™è¯¯çš„å¼€ç«¯äº†ï¼Œå½“å†æ¬¡è¿è¡Œçš„æµ‹è¯•ä»£ç çš„æ—¶å€™ï¼Œç»“æœå˜æˆäº†\n\u0026gt; Task :Test.main() [Entity(id=1, field=field), Entity(id=1, field=field), Entity(id=1, field=field), Entity(id=1, field=field), Entity(id=1, field=field)]  å—¯~~ï¼Œæ€ä¹ˆè‚¥äº‹ï¼Œä¸ºå•¥ç»“æœå’Œé¢„æœŸçš„ä¸ä¸€æ ·äº†å‘¢ï¼Ÿ\nè®©æˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥æ¥åˆ†æ\né¦–å…ˆé€šè¿‡åˆ†æ stream distinct æºç åŠæºç æ–‡æ¡£å¾—çŸ¥ï¼Œå®ƒåº•å±‚æ˜¯ä½¿ç”¨ HashSet æ¥å®ç°å»é‡å¤„ç†çš„ï¼ŒHashSet æœ¬èº«åˆæ˜¯åŸºäº HashMap æ¥å»é‡çš„ï¼Œæ­£å¦‚æˆ‘ä»¬å¹³æ—¶ä½¿ç”¨ HashMap æ—¶éœ€è¦ä¿è¯ HashMap çš„ key å¿…é¡»é‡å†™ equals ä»¥åŠ hashCode æ–¹æ³•ï¼Œè¦æƒ³ä½¿ç”¨ stream çš„ distinct æ–¹æ³•å»é‡ä¹Ÿå¿…é¡»ä¿è¯æ¶‰åŠçš„ç±»å¿…é¡»é‡å†™ equals ä»¥åŠ hashCode æ–¹æ³•ï¼Œå¦åˆ™å°±å¯èƒ½æ— æ³•å»é‡ã€‚\nåŒæ—¶ @Data æ³¨è§£ç›¸å½“äº @Getter,@Setter,@RequiredArgsConstructor,@ToString,@EqualsAndHashCode,@Value è¿™å‡ ä¸ªæ³¨è§£ï¼Œä½¿ç”¨ @Data æ³¨è§£å°±é‡å†™äº† equeals å’Œ hashCode æ–¹æ³•ï¼Œæ‰€ä»¥æœ€å¼€å§‹æ˜¯æ²¡é—®é¢˜çš„ï¼Œå½“æˆ‘ä»¬ä¸ºäº†æ¶ˆé™¤è­¦å‘Šè€Œå¯¼å…¥ @EqualsAndHashCode æ³¨è§£æ—¶ï¼Œä¸ºä»€ä¹ˆåˆä¸è¡Œäº†å‘¢ï¼Ÿ\nè¿™é‡Œè¦æ³¨æ„çš„æ˜¯ @EqualsAndHashCode çš„ callSuper è¿™ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°è¡¨æ˜å½“æˆ‘ä»¬å­ç±»å’Œçˆ¶ç±»ä¸­æœ‰ç›¸åŒå±æ€§æ—¶ï¼Œè¦ä¸è¦è°ƒç”¨çˆ¶ç±»çš„ equeals å’Œ hashCode æ–¹æ³•ï¼Œé»˜è®¤æ˜¯ falseï¼Œå½“æˆ‘ä»¬æŒ‡å®šä¸º true æ—¶ï¼Œå°±ä¼šè°ƒç”¨çˆ¶ç±»çš„ equeals å’Œ hashCode æ–¹æ³•æ¥è¿›è¡Œæ¯”è¾ƒï¼Œå°±ä¼šåˆ¤å®šä¸ºä¸ç›¸ç­‰ï¼Œæ‰€ä»¥æ‰ä¼šå‡ºç°ç¬¬äºŒç§æƒ…å†µã€‚\né‚£æˆ‘ä»¬è¯¥æ€ä¹ˆè§£å†³å‘¢ï¼Ÿ\næˆ‘ä»¬åªè¦å°† @EqualsAndHashCode æ³¨è§£çš„ callSuper æ”¹ä¸º false æˆ–ç›´æ¥åˆ é™¤ @EqualsAndHashCode å³å¯ã€‚\n","id":22,"section":"posts","summary":"è®°ä¸€æ¬¡Java Stream å»é‡æ“ä½œ ä¸ºäº†é‡ç°å½“æ—¶çš„é”™è¯¯ï¼Œæˆ‘ä¼šå°½é‡ä¿æŒä¸€è‡´ï¼Œåªæ˜¯ç±»åå’Œç±»çš„å±æ€§ä¸ä¸€æ ·è€Œå·²ï¼Œç°å®šä¹‰å¦‚ä¸‹ä¸¤ä¸ªç±» public class BaseEntity implements Serializable { private Long id; public BaseEntity() { } public Long getId()","tags":["Java","Lombok","Stream"],"title":"Java-è®°ä¸€æ¬¡Streamå»é‡æ“ä½œ","uri":"https://littleguest.github.io/posts/java-stream-distinct/","year":"2021"},{"content":"  \u0026amp; è¡¨ç¤ºæ˜¯ä¸€ä¸ªå¼•ç”¨ï¼Œå®ƒå…è®¸å¤šå‡ºä»£ç è®¿é—®åŒä¸€å¤„æ•°æ®ï¼Œè€Œæ— éœ€åœ¨å†…å­˜ä¸­å¤šæ¬¡æ‹·è´ï¼›\n  å…³è”å‡½æ•°æ˜¯é’ˆå¯¹ç±»å‹å®ç°çš„ï¼›\n  è¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼›\n  å˜é‡æ˜¯é»˜è®¤ä¸å¯æ”¹å˜çš„ï¼Œä½†é€šè¿‡åŠ  mut æ¥ä½¿å…¶æ”¹å˜ï¼›\n  å¸¸é‡æ€»æ˜¯ä¸å˜çš„ï¼›\n  Rust æœ‰å››ç§åŸºæœ¬çš„æ ‡é‡ç±»å‹ï¼šæ•´å‹ï¼Œæµ®ç‚¹å‹ï¼Œå¸ƒå°”ç±»å‹å’Œå­—ç¬¦ç±»å‹ï¼›\n æ•´å‹ï¼šæœ‰ç¬¦å·ï¼ˆ[$-2^(n-1)$:$2^(n-1) - 1$]ï¼‰ï¼Œæ— ç¬¦å·ï¼ˆ[0:$2^n - 1$]ï¼‰    é•¿åº¦ æœ‰ç¬¦å· æ— ç¬¦å·     8-bit i8 u8   16-bit i16 u16   32-bit i32ï¼ˆé»˜è®¤ï¼‰ u32   64-bit i64 u64   128-bit i128 u128   arch isize usize     æµ®ç‚¹å‹ï¼šf32ï¼Œf64ï¼ˆé»˜è®¤ï¼‰ å¸ƒå°”ç±»å‹ï¼štrueï¼Œfalse å­—ç¬¦ç±»å‹ï¼š char    æ‰€æœ‰æƒè§„åˆ™\n Rustä¸­çš„æ¯ä¸€ä¸ªå€¼éƒ½æœ‰ä¸€ä¸ªè¢«ç§°å…¶ä¸º æ‰€æœ‰è€… ï¼ˆownerï¼‰çš„å˜é‡; å€¼åœ¨ä»»ä¸€æ—¶åˆ»æœ‰ä¸”åªæœ‰ä¸€ä¸ªæ‰€æœ‰è€…ï¼› å½“æ‰€æœ‰è€…ï¼ˆå˜é‡ï¼‰ç¦»å¼€ä½œç”¨åŸŸï¼Œè¿™ä¸ªå€¼å°†è¢«ä¸¢å¼ƒï¼›   å˜é‡å’Œæ•°æ®äº¤äº’çš„æ–¹å¼ï¼šmoveï¼Œcloneï¼› Rustæ°¸è¿œä¸ä¼šè‡ªåŠ¨åˆ›å»ºæ•°æ®çš„â€œæ·±æ‹·è´â€ï¼› Rustä¸å…è®¸è‡ªèº«æˆ–å…¶ä»»ä½•éƒ¨åˆ†å®ç°äº† Drop traitçš„ç±»å‹ä½¿ç”¨ Copy traitï¼Œä»¥ä¸‹æ˜¯ä¸€äº› Copy çš„ç±»å‹ï¼š  æ‰€æœ‰æ•´æ•°ç±»å‹ï¼› å¸ƒå°”ç±»å‹ï¼› æ‰€æœ‰æµ®ç‚¹ç±»å‹ï¼› å­—ç¬¦ç±»å‹ï¼› å…ƒç»„ï¼Œå½“ä¸”ä»…å½“å…¶åŒ…å«çš„ç±»å‹éƒ½æ˜¯ Copy çš„æ—¶å€™ï¼›   \u0026amp; è¡¨ç¤ºå¼•ç”¨ï¼Œå®ƒå…è®¸ä½¿ç”¨å€¼ä½†ä¸è·å–å…¶æ‰€æœ‰æƒï¼› å°†è·å–å¼•ç”¨ä½œä¸ºå‡½æ•°å‚æ•°ç§°ä¸º å€Ÿç”¨ï¼ˆborrowingï¼‰ï¼› é»˜è®¤ä¸å…è®¸ä¿®æ”¹å¼•ç”¨çš„å€¼ï¼› å¼•ç”¨çš„è§„åˆ™ï¼š  åœ¨ä»»æ„ç»™å®šæ—¶é—´ï¼Œè¦ä¹ˆåªèƒ½æœ‰ä¸€ä¸ªå¯å˜å¼•ç”¨ï¼Œè¦ä¹ˆåªèƒ½æœ‰å¤šä¸ªä¸å¯å˜å¼•ç”¨ï¼› å¼•ç”¨å¿…é¡»æ€»æ˜¯æœ‰æ•ˆçš„ï¼›   äº§ç”Ÿæ•°æ®ç«äº‰çš„æ–¹å¼ï¼š  ä¸¤ä¸ªæˆ–æ›´å¤šæŒ‡é’ˆåŒæ—¶è®¿é—®ç»Ÿä¸€æ•°æ®ï¼› è‡³å°‘æœ‰ä¸€ä¸ªæŒ‡é’ˆè¢«ç”¨æ¥å†™å…¥æ•°æ®ï¼› æ²¡æœ‰åŒæ­¥æ•°æ®è®¿é—®çš„æœºåˆ¶ï¼›      Rustæœ‰ä¸€ä¸ªå«è‡ªåŠ¨å¼•ç”¨å’Œè§£å¼•ç”¨çš„åŠŸèƒ½ã€‚æ–¹æ³•è°ƒç”¨æ˜¯Rustä¸­å°‘æ•°å‡ ä¸ªæ‹¥æœ‰è¿™ç§è¡Œä¸ºçš„åœ°æ–¹ï¼›å¦‚ï¼šå½“ä½¿ç”¨ object.something() è°ƒç”¨æ–¹æ³•æ—¶ï¼ŒRust ä¼šè‡ªåŠ¨ä¸º object æ·»åŠ  \u0026amp;ã€\u0026amp;mut æˆ– * ä»¥ä¾¿ä½¿ object ä¸æ–¹æ³•ç­¾ååŒ¹é…ï¼›\n  æ¨¡å—ç³»ç»Ÿï¼š\n åŒ…ï¼ˆPackagesï¼‰ï¼šCargoçš„ä¸€ä¸ªåŠŸèƒ½ï¼Œå®ƒå…è®¸ä½ æ„å»ºã€æµ‹è¯•å’Œåˆ†äº«crateï¼› Cratesï¼šä¸€ä¸ªæ¨¡å—çš„æ ‘å½¢ç»“æ„ï¼Œå®ƒå½¢æˆäº†åº“å’ŒäºŒè¿›åˆ¶é¡¹ç›®ï¼› æ¨¡å—ï¼ˆModulesï¼‰ å’Œuseï¼šå®ƒå…è®¸ä½ æ§åˆ¶ä½œç”¨åŸŸå’Œè·¯å¾„çš„ç§æœ‰æ€§ï¼› è·¯å¾„ï¼ˆpathï¼‰ï¼šä¸€ä¸ªå‘½åä¾‹å¦‚ç»“æ„ä½“ã€å‡½æ•°æˆ–æ¨¡å—ç­‰é¡¹çš„æ–¹å¼ï¼›   ä¸€ä¸ªåŒ…ä¸­è‡³å¤šåªèƒ½åŒ…å«ä¸€ä¸ªcrateï¼ˆlibrary crateï¼‰ï¼›åŒ…ä¸­å¯ä»¥åŒ…å«ä»»æ„å¤šä¸ªäºŒè¿›åˆ¶crateï¼ˆbinary crateï¼‰ï¼›åŒ…ä¸­è‡³å°‘åŒ…å«ä¸€ä¸ªcrateï¼Œæ— è®ºæ˜¯åº“çš„è¿˜æ˜¯äºŒè¿›åˆ¶çš„ï¼› è·¯å¾„çš„ä¸¤ç§å½¢å¼ï¼š  ç»å¯¹è·¯å¾„ï¼šä»crateæ ¹å¼€å§‹ï¼Œä»¥crateåæˆ–è€…å­—é¢ç€crateå¼€å¤´ï¼› ç›¸å¯¹è·¯å¾„ï¼šä»å½“å‰æ¨¡å—å¼€å§‹ï¼Œä»¥ selfã€superæˆ–å½“å‰æ¨¡å—çš„æ ‡è¯†ç¬¦å¼€å¤´ï¼›   Rust ä¸­é»˜è®¤æ‰€æœ‰é¡¹ï¼ˆå‡½æ•°ã€æ–¹æ³•ã€ç»“æ„ä½“ã€æšä¸¾ã€æ¨¡å—å’Œå¸¸é‡ï¼‰éƒ½æ˜¯ç§æœ‰çš„ã€‚çˆ¶æ¨¡å—ä¸­çš„é¡¹ä¸èƒ½ä½¿ç”¨å­æ¨¡å—ä¸­çš„ç§æœ‰é¡¹ï¼Œä½†æ˜¯å­æ¨¡å—ä¸­çš„é¡¹å¯ä»¥ä½¿ç”¨ä»–ä»¬çˆ¶æ¨¡å—ä¸­çš„é¡¹ï¼›    Rustçš„æ ¸å¿ƒè¯­è¨€ä¸­åªæœ‰ä¸€ç§å­—ç¬¦ä¸²ç±»å‹ï¼šstrï¼Œå­—ç¬¦ä¸²sliceï¼Œå®ƒé€šå¸¸ä»¥è¢«å€Ÿç”¨çš„å½¢å¼å‡ºç°ï¼Œ\u0026amp;strï¼›ç§°ä½œ String çš„ç±»å‹æ˜¯ç”±æ ‡å‡†åº“æä¾›çš„ï¼Œè€Œæ²¡æœ‰å†™è¿›æ ¸å¿ƒè¯­è¨€éƒ¨åˆ†ï¼Œå®ƒæ˜¯å¯å¢é•¿çš„ã€å¯å˜çš„ã€æœ‰æ‰€æœ‰æƒçš„ã€UTF-8 ç¼–ç çš„å­—ç¬¦ä¸²ç±»å‹ã€‚å½“ Rustacean ä»¬è°ˆåˆ° Rust çš„ â€œå­—ç¬¦ä¸²â€æ—¶ï¼Œå®ƒä»¬é€šå¸¸æŒ‡çš„æ˜¯ String å’Œå­—ç¬¦ä¸² slice \u0026amp;str ç±»å‹ï¼Œè€Œä¸ä»…ä»…æ˜¯å…¶ä¸­ä¹‹ä¸€ï¼›\n  \u0026amp;String å¯ä»¥è¢«å¼ºè½¬ä¸º \u0026amp;str ï¼›\n  Rust é€šè¿‡åœ¨ç¼–è¯‘æ—¶è¿›è¡Œæ³›å‹ä»£ç çš„ å•æ€åŒ–ï¼ˆmonomorphizationï¼‰æ¥ä¿è¯æ•ˆç‡ã€‚å•æ€åŒ–æ˜¯ä¸€ä¸ªé€šè¿‡å¡«å……ç¼–è¯‘æ—¶ä½¿ç”¨çš„å…·ä½“ç±»å‹ï¼Œå°†é€šç”¨ä»£ç è½¬æ¢ä¸ºç‰¹å®šä»£ç çš„è¿‡ç¨‹ï¼›\n  å­¤å„¿è§„åˆ™ï¼ˆorphan ruleï¼‰ï¼šåªæœ‰å½“ trait æˆ–è€…è¦å®ç° trait çš„ç±»å‹ä½äº crate çš„æœ¬åœ°ä½œç”¨åŸŸæ—¶ï¼Œæ‰èƒ½ä¸ºè¯¥ç±»å‹å®ç° traitï¼›\n  Trait Bound è¯­æ³•ï¼šimpl Trait è¯­æ³•é€‚ç”¨äºç›´è§‚çš„ä¾‹å­ï¼Œå®ƒä¸è¿‡æ˜¯ä¸€ä¸ªè¾ƒé•¿å½¢å¼çš„è¯­æ³•ç³–ï¼›\n  Rust ä¸­çš„æ¯ä¸€ä¸ªå¼•ç”¨éƒ½æœ‰å…¶ ç”Ÿå‘½å‘¨æœŸï¼ˆlifetimeï¼‰ï¼Œä¹Ÿå°±æ˜¯å¼•ç”¨ä¿æŒæœ‰æ•ˆçš„ä½œç”¨åŸŸï¼›\n  Rust ç¼–è¯‘å™¨æœ‰ä¸€ä¸ª å€Ÿç”¨æ£€æŸ¥å™¨ï¼ˆborrow checkerï¼‰ï¼Œå®ƒæ¯”è¾ƒä½œç”¨åŸŸæ¥ç¡®ä¿æ‰€æœ‰çš„å€Ÿç”¨éƒ½æ˜¯æœ‰æ•ˆçš„ï¼›\n  è¢«ç¼–ç è¿› Rust å¼•ç”¨åˆ†æçš„æ¨¡å¼è¢«ç§°ä¸º ç”Ÿå‘½å‘¨æœŸçœç•¥è§„åˆ™ï¼ˆlifetime elision rulesï¼‰ã€‚è¿™å¹¶ä¸æ˜¯éœ€è¦ç¨‹åºå‘˜éµå®ˆçš„è§„åˆ™ï¼›è¿™äº›è§„åˆ™æ˜¯ä¸€ç³»åˆ—ç‰¹å®šçš„åœºæ™¯ï¼Œæ­¤æ—¶ç¼–è¯‘å™¨ä¼šè€ƒè™‘ï¼Œå¦‚æœä»£ç ç¬¦åˆè¿™äº›åœºæ™¯ï¼Œå°±æ— éœ€æ˜ç¡®æŒ‡å®šç”Ÿå‘½å‘¨æœŸï¼›\n  å‡½æ•°æˆ–æ–¹æ³•çš„å‚æ•°çš„ç”Ÿå‘½å‘¨æœŸè¢«ç§°ä¸º è¾“å…¥ç”Ÿå‘½å‘¨æœŸï¼ˆinput lifetimesï¼‰ï¼Œè€Œè¿”å›å€¼çš„ç”Ÿå‘½å‘¨æœŸè¢«ç§°ä¸º è¾“å‡ºç”Ÿå‘½å‘¨æœŸï¼ˆoutput lifetimesï¼‰ï¼›\n  ç¼–è¯‘å™¨é‡‡ç”¨ä¸‰æ¡è§„åˆ™æ¥åˆ¤æ–­å¼•ç”¨ä½•æ—¶ä¸éœ€è¦æ˜ç¡®çš„æ³¨è§£ã€‚ç¬¬ä¸€æ¡è§„åˆ™é€‚ç”¨äºè¾“å…¥ç”Ÿå‘½å‘¨æœŸï¼Œåä¸¤æ¡è§„åˆ™é€‚ç”¨äºè¾“å‡ºç”Ÿå‘½å‘¨æœŸã€‚å¦‚æœç¼–è¯‘å™¨æ£€æŸ¥å®Œè¿™ä¸‰æ¡è§„åˆ™åä»ç„¶å­˜åœ¨æ²¡æœ‰è®¡ç®—å‡ºç”Ÿå‘½å‘¨æœŸçš„å¼•ç”¨ï¼Œç¼–è¯‘å™¨å°†ä¼šåœæ­¢å¹¶ç”Ÿæˆé”™è¯¯ã€‚è¿™äº›è§„åˆ™é€‚ç”¨äº fn å®šä¹‰ï¼Œä»¥åŠ impl å—ï¼š\n ç¬¬ä¸€æ¡è§„åˆ™æ˜¯æ¯ä¸€ä¸ªæ˜¯å¼•ç”¨çš„å‚æ•°éƒ½æœ‰å®ƒè‡ªå·±çš„ç”Ÿå‘½å‘¨æœŸå‚æ•°ã€‚æ¢å¥è¯è¯´å°±æ˜¯ï¼Œæœ‰ä¸€ä¸ªå¼•ç”¨å‚æ•°çš„å‡½æ•°æœ‰ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸå‚æ•°ï¼šfn foo\u0026lt;'a\u0026gt;(x: \u0026amp;'a i32)ï¼Œæœ‰ä¸¤ä¸ªå¼•ç”¨å‚æ•°çš„å‡½æ•°æœ‰ä¸¤ä¸ªä¸åŒçš„ç”Ÿå‘½å‘¨æœŸå‚æ•°ï¼Œfn foo\u0026lt;'a, 'b\u0026gt;(x: \u0026amp;'a i32, y: \u0026amp;'b i32)ï¼Œä¾æ­¤ç±»æ¨ï¼› ç¬¬äºŒæ¡è§„åˆ™æ˜¯å¦‚æœåªæœ‰ä¸€ä¸ªè¾“å…¥ç”Ÿå‘½å‘¨æœŸå‚æ•°ï¼Œé‚£ä¹ˆå®ƒè¢«èµ‹äºˆæ‰€æœ‰è¾“å‡ºç”Ÿå‘½å‘¨æœŸå‚æ•°ï¼šfn foo\u0026lt;'a\u0026gt;(x: \u0026amp;'a i32) -\u0026gt; \u0026amp;'a i32ï¼› ç¬¬ä¸‰æ¡è§„åˆ™æ˜¯å¦‚æœæ–¹æ³•æœ‰å¤šä¸ªè¾“å…¥ç”Ÿå‘½å‘¨æœŸå‚æ•°å¹¶ä¸”å…¶ä¸­ä¸€ä¸ªå‚æ•°æ˜¯ \u0026amp;self æˆ– \u0026amp;mut selfï¼Œè¯´æ˜æ˜¯ä¸ªå¯¹è±¡çš„æ–¹æ³•(method), é‚£ä¹ˆæ‰€æœ‰è¾“å‡ºç”Ÿå‘½å‘¨æœŸå‚æ•°è¢«èµ‹äºˆ self çš„ç”Ÿå‘½å‘¨æœŸã€‚ç¬¬ä¸‰æ¡è§„åˆ™ä½¿å¾—æ–¹æ³•æ›´å®¹æ˜“è¯»å†™ï¼Œå› ä¸ºåªéœ€æ›´å°‘çš„ç¬¦å·ï¼›    é™æ€ç”Ÿå‘½å‘¨æœŸï¼š'staticï¼Œå…¶ç”Ÿå‘½å‘¨æœŸèƒ½å¤Ÿå­˜æ´»äºæ•´ä¸ªç¨‹åºæœŸé—´ã€‚å› æ­¤æ‰€æœ‰çš„å­—ç¬¦ä¸²å­—é¢å€¼éƒ½æ˜¯ 'static çš„ï¼›\n  æµ‹è¯•é©±åŠ¨å¼€å‘ï¼ˆTest Driven Development, TDDï¼‰éµå¾ªå¦‚ä¸‹æ­¥éª¤ï¼š\n ç¼–å†™ä¸€ä¸ªå¤±è´¥çš„æµ‹è¯•ï¼Œå¹¶è¿è¡Œå®ƒä»¥ç¡®ä¿å®ƒå¤±è´¥çš„åŸå› æ˜¯ä½ æ‰€æœŸæœ›çš„ã€‚ ç¼–å†™æˆ–ä¿®æ”¹è¶³å¤Ÿçš„ä»£ç æ¥ä½¿æ–°çš„æµ‹è¯•é€šè¿‡ã€‚ é‡æ„åˆšåˆšå¢åŠ æˆ–ä¿®æ”¹çš„ä»£ç ï¼Œå¹¶ç¡®ä¿æµ‹è¯•ä»ç„¶èƒ½é€šè¿‡ã€‚ ä»æ­¥éª¤ 1 å¼€å§‹é‡å¤ï¼    æ‰€æœ‰çš„é—­åŒ…éƒ½å®ç°äº† trait Fnã€FnMut æˆ– FnOnceä¸­çš„ä¸€ä¸ªï¼š\n FnOnce æ¶ˆè´¹ä»å‘¨å›´ä½œç”¨åŸŸæ•è·çš„å˜é‡ï¼Œé—­åŒ…å‘¨å›´çš„ä½œç”¨åŸŸè¢«ç§°ä¸ºå…¶ ç¯å¢ƒï¼Œenvironmentã€‚ä¸ºäº†æ¶ˆè´¹æ•è·åˆ°çš„å˜é‡ï¼Œé—­åŒ…å¿…é¡»è·å–å…¶æ‰€æœ‰æƒå¹¶åœ¨å®šä¹‰é—­åŒ…æ—¶å°†å…¶ç§»åŠ¨è¿›é—­åŒ…ã€‚å…¶åç§°çš„ Once éƒ¨åˆ†ä»£è¡¨äº†é—­åŒ…ä¸èƒ½å¤šæ¬¡è·å–ç›¸åŒå˜é‡çš„æ‰€æœ‰æƒçš„äº‹å®ï¼Œæ‰€ä»¥å®ƒåªèƒ½è¢«è°ƒç”¨ä¸€æ¬¡ï¼› FnMut è·å–å¯å˜çš„å€Ÿç”¨å€¼æ‰€ä»¥å¯ä»¥æ”¹å˜å…¶ç¯å¢ƒï¼› Fn ä»å…¶ç¯å¢ƒè·å–ä¸å¯å˜çš„å€Ÿç”¨å€¼ï¼›ã€    ç”±äºæ‰€æœ‰é—­åŒ…éƒ½å¯ä»¥è¢«è°ƒç”¨è‡³å°‘ä¸€æ¬¡ï¼Œæ‰€ä»¥æ‰€æœ‰é—­åŒ…éƒ½å®ç°äº† FnOnceã€‚é‚£äº›å¹¶æ²¡æœ‰ç§»åŠ¨è¢«æ•è·å˜é‡çš„æ‰€æœ‰æƒåˆ°é—­åŒ…ä¸­çš„é—­åŒ…ä¹Ÿå®ç°äº† FnMutï¼Œè€Œä¸éœ€è¦å¯¹è¢«æ•è·çš„å˜é‡è¿›è¡Œå¯å˜è®¿é—®çš„é—­åŒ…åˆ™ä¹Ÿå®ç°äº† Fnï¼›\n  å¦‚æœå¸Œæœ›å¼ºåˆ¶é—­åŒ…è·å–å…¶ä½¿ç”¨çš„ç¯å¢ƒå€¼çš„æ‰€æœ‰æƒï¼Œå¯ä»¥åœ¨å‚æ•°åˆ—è¡¨å‰ä½¿ç”¨ move å…³é”®å­—ã€‚ï¼ˆè¿™ä¸ªæŠ€å·§åœ¨å°†é—­åŒ…ä¼ é€’ç»™æ–°çº¿ç¨‹ä»¥ä¾¿å°†æ•°æ®ç§»åŠ¨åˆ°æ–°çº¿ç¨‹ä¸­æ—¶æœ€ä¸ºå®ç”¨ï¼‰ï¼›\n  åœ¨ Rust ä¸­ï¼Œè¿­ä»£å™¨æ˜¯ æƒ°æ€§çš„ï¼ˆlazyï¼‰ï¼Œè¿™æ„å‘³ç€åœ¨è°ƒç”¨æ–¹æ³•ä½¿ç”¨è¿­ä»£å™¨ä¹‹å‰å®ƒéƒ½ä¸ä¼šæœ‰æ•ˆæœï¼›\n  è¿­ä»£å™¨æ˜¯ Rust çš„é›¶æˆæœ¬æŠ½è±¡ï¼ˆzero-cost abstractionsï¼‰ä¹‹ä¸€ï¼Œå®ƒæ„å‘³ç€æŠ½è±¡å¹¶ä¸ä¼šå¼•å…¥è¿è¡Œæ—¶å¼€é”€ï¼›\n  æŒ‡é’ˆï¼ˆpointerï¼‰æ˜¯ä¸€ä¸ªåŒ…å«å†…å­˜åœ°å€çš„å˜é‡çš„é€šç”¨æ¦‚å¿µã€‚è¿™ä¸ªåœ°å€å¼•ç”¨ï¼Œæˆ–â€œæŒ‡å‘â€ï¼ˆpoints atï¼‰ä¸€äº›å…¶ä»–æ•°æ®ï¼›æ™ºèƒ½æŒ‡é’ˆï¼ˆsmart pointersï¼‰æ˜¯ä¸€ç±»æ•°æ®ç»“æ„ï¼Œä»–ä»¬çš„è¡¨ç°ç±»ä¼¼æŒ‡é’ˆï¼Œä½†æ˜¯ä¹Ÿæ‹¥æœ‰é¢å¤–çš„å…ƒæ•°æ®å’ŒåŠŸèƒ½ï¼›åœ¨ Rust ä¸­ï¼Œæ™®é€šå¼•ç”¨å’Œæ™ºèƒ½æŒ‡é’ˆçš„ä¸€ä¸ªé¢å¤–çš„åŒºåˆ«æ˜¯å¼•ç”¨ä¸€ç±»åªå€Ÿç”¨æ•°æ®çš„æŒ‡é’ˆï¼›ç›¸åï¼Œåœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œæ™ºèƒ½æŒ‡é’ˆ æ‹¥æœ‰ ä»–ä»¬æŒ‡å‘çš„æ•°æ®ï¼›\n  åªèƒ½æŒ‡é’ˆé€šå¸¸ä½¿ç”¨ç»“æ„ä½“å®ç°ã€‚æ™ºèƒ½æŒ‡é’ˆåŒºåˆ«äºå¸¸è§„ç»“æ„ä½“çš„æ˜¾è‘—ç‰¹å¾åœ¨äºå…¶å®ç°äº† Deref å’Œ Drop traitï¼›\n  Rust åœ¨å‘ç°ç±»å‹å’Œ trait å®ç°æ»¡è¶³ä¸‰ç§æƒ…å†µæ—¶ä¼šè¿›è¡Œè§£å¼•ç”¨å¼ºåˆ¶å¤šæ€ï¼š\n å½“ T: Deref\u0026lt;Target=U\u0026gt; æ—¶ä» \u0026amp;T åˆ° \u0026amp;Uï¼› å½“ T: DerefMut\u0026lt;Target=U\u0026gt; æ—¶ä» \u0026amp;mut T åˆ° \u0026amp;mut Uï¼› å½“ T: Deref\u0026lt;Target=U\u0026gt; æ—¶ä» \u0026amp;mut T åˆ° \u0026amp;Uï¼›    Rust ä¹Ÿä¼šå°†å¯å˜å¼•ç”¨å¼ºè½¬ä¸ºä¸å¯å˜å¼•ç”¨ã€‚ä½†æ˜¯åä¹‹æ˜¯ ä¸å¯èƒ½ çš„ï¼šä¸å¯å˜å¼•ç”¨æ°¸è¿œä¹Ÿä¸èƒ½å¼ºè½¬ä¸ºå¯å˜å¼•ç”¨ï¼›\n  å¹¶å‘ç¼–ç¨‹ï¼ˆConcurrent programmingï¼‰ï¼šä»£è¡¨ç¨‹åºçš„ä¸åŒéƒ¨åˆ†ç›¸äº’ç‹¬ç«‹çš„æ‰§è¡Œï¼›å¹¶è¡Œç¼–ç¨‹parallel programmingï¼‰ï¼šä»£è¡¨ç¨‹åºä¸åŒéƒ¨åˆ†åŒæ—¶æ‰§è¡Œ\n  Rust æ ‡å‡†åº“åªæä¾›äº† 1:1 çº¿ç¨‹æ¨¡å‹å®ç°ã€‚\n  move é—­åŒ…ç»å¸¸ä¸ std:ğŸ§µ:spawn ä¸€èµ·ä½¿ç”¨ï¼Œå…è®¸åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­ä½¿ç”¨å¦å¤–ä¸€ä¸ªçº¿ç¨‹çš„æ•°æ®ï¼›\n  Rust ä¸­ä¸€ä¸ªå®ç°æ¶ˆæ¯ä¼ é€’å¹¶å‘çš„ä¸»è¦å·¥å…·æ˜¯ é€šé“ï¼ˆchannelï¼‰ï¼Œç”±å‘é€è€…ï¼ˆtransmitterï¼‰å’Œæ¥æ”¶è€…ï¼ˆreceiverï¼‰ç»„æˆï¼Œå½“å‘é€è€…æˆ–æ¥æ”¶è€…ä»»ä¸€è¢«ä¸¢å¼ƒæ—¶å¯ä»¥è®¤ä¸ºé€šé“è¢«å…³é—­äº†ï¼›\n  std::sync::mpsc æ˜¯ å¤šä¸ªç”Ÿäº§è€…ï¼Œå•ä¸ªæ¶ˆè´¹è€…ï¼ˆmultiple producer, single consumerï¼‰ï¼›\n  äº’æ–¥å™¨ä¸€æ¬¡åªå…è®¸ä¸€ä¸ªçº¿ç¨‹è®¿é—®æ•°æ®ï¼›\n  ","id":23,"section":"posts","summary":"\u0026amp; è¡¨ç¤ºæ˜¯ä¸€ä¸ªå¼•ç”¨ï¼Œå®ƒå…è®¸å¤šå‡ºä»£ç è®¿é—®åŒä¸€å¤„æ•°æ®ï¼Œè€Œæ— éœ€åœ¨å†…å­˜ä¸­å¤šæ¬¡æ‹·è´ï¼› å…³è”å‡½æ•°æ˜¯é’ˆå¯¹ç±»å‹å®ç°çš„ï¼› è¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼› å˜é‡æ˜¯é»˜è®¤ä¸å¯æ”¹å˜çš„ï¼Œä½†é€šè¿‡åŠ ","tags":["Rust","Rustæ‚è®°"],"title":"Rust-æ‚è®°","uri":"https://littleguest.github.io/posts/rust-notes/","year":"2020"},{"content":"Rustäº¤å‰ç¼–è¯‘é—®é¢˜ $ cargo build --release --target armv7-unknown-linux-musleabihf  ä¸‹é¢æ˜¯é”™è¯¯æ—¥å¿—\nerror: failed to run custom build command for `openssl-sys v0.9.58` Caused by: process didn't exit successfully: `~/workspace/raspi_ip_email/target/release/build/openssl-sys-86e8fa49856e4dc9/build-script-main` (exit code: 101) --- stdout cargo:rustc-cfg=const_fn cargo:rerun-if-env-changed=ARMV7_UNKNOWN_LINUX_MUSLEABIHF_OPENSSL_LIB_DIR ARMV7_UNKNOWN_LINUX_MUSLEABIHF_OPENSSL_LIB_DIR unset cargo:rerun-if-env-changed=OPENSSL_LIB_DIR OPENSSL_LIB_DIR unset cargo:rerun-if-env-changed=ARMV7_UNKNOWN_LINUX_MUSLEABIHF_OPENSSL_INCLUDE_DIR ARMV7_UNKNOWN_LINUX_MUSLEABIHF_OPENSSL_INCLUDE_DIR unset cargo:rerun-if-env-changed=OPENSSL_INCLUDE_DIR OPENSSL_INCLUDE_DIR unset cargo:rerun-if-env-changed=ARMV7_UNKNOWN_LINUX_MUSLEABIHF_OPENSSL_DIR ARMV7_UNKNOWN_LINUX_MUSLEABIHF_OPENSSL_DIR unset cargo:rerun-if-env-changed=OPENSSL_DIR OPENSSL_DIR unset cargo:rerun-if-env-changed=OPENSSL_NO_PKG_CONFIG cargo:rerun-if-env-changed=PKG_CONFIG_ALLOW_CROSS_armv7-unknown-linux-musleabihf cargo:rerun-if-env-changed=PKG_CONFIG_ALLOW_CROSS_armv7_unknown_linux_musleabihf cargo:rerun-if-env-changed=TARGET_PKG_CONFIG_ALLOW_CROSS cargo:rerun-if-env-changed=PKG_CONFIG_ALLOW_CROSS cargo:rerun-if-env-changed=PKG_CONFIG_armv7-unknown-linux-musleabihf cargo:rerun-if-env-changed=PKG_CONFIG_armv7_unknown_linux_musleabihf cargo:rerun-if-env-changed=TARGET_PKG_CONFIG cargo:rerun-if-env-changed=PKG_CONFIG cargo:rerun-if-env-changed=PKG_CONFIG_SYSROOT_DIR_armv7-unknown-linux-musleabihf cargo:rerun-if-env-changed=PKG_CONFIG_SYSROOT_DIR_armv7_unknown_linux_musleabihf cargo:rerun-if-env-changed=TARGET_PKG_CONFIG_SYSROOT_DIR cargo:rerun-if-env-changed=PKG_CONFIG_SYSROOT_DIR run pkg_config fail: \u0026quot;pkg-config has not been configured to support cross-compilation.\\n\\n Install a sysroot for the target platform and configure it via\\n PKG_CONFIG_SYSROOT_DIR and PKG_CONFIG_PATH, or install a\\n cross-compiling wrapper for pkg-config and set it via\\n PKG_CONFIG environment variable.\u0026quot; --- stderr thread 'main' panicked at ' Could not find directory of OpenSSL installation, and this `-sys` crate cannot proceed without this knowledge. If OpenSSL is installed and this crate had trouble finding it, you can set the `OPENSSL_DIR` environment variable for the compilation process. Make sure you also have the development packages of openssl installed. For example, `libssl-dev` on Ubuntu or `openssl-devel` on Fedora. If you're in a situation where you think the directory *should* be found automatically, please open a bug at https://github.com/sfackler/rust-openssl and include information about your system as well as this message. $HOST = x86_64-unknown-linux-gnu $TARGET = armv7-unknown-linux-musleabihf openssl-sys = 0.9.58 ', ~/.cargo/registry/src/mirrors.ustc.edu.cn-61ef6e0cd06fb9b8/openssl-sys-0.9.58/build/find_normal.rs:157:5 note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace warning: build failed, waiting for other jobs to finish... error: build failed test@test:~/workspace/raspi_ip_email$ clear test@test:~/workspace/raspi_ip_email$ cargo build --release --target armv7-unknown-linux-musleabihf Compiling openssl-sys v0.9.58 Compiling unicode-normalization v0.1.16 Compiling quote v1.0.7 Compiling getrandom v0.1.15 Compiling parking_lot_core v0.8.1 Compiling hostname v0.3.1 Compiling time v0.1.44 Compiling num-traits v0.2.14 error: failed to run custom build command for `openssl-sys v0.9.58` Caused by: process didn't exit successfully: `~/workspace/raspi_ip_email/target/release/build/openssl-sys-86e8fa49856e4dc9/build-script-main` (exit code: 101) --- stdout cargo:rustc-cfg=const_fn cargo:rerun-if-env-changed=ARMV7_UNKNOWN_LINUX_MUSLEABIHF_OPENSSL_LIB_DIR ARMV7_UNKNOWN_LINUX_MUSLEABIHF_OPENSSL_LIB_DIR unset cargo:rerun-if-env-changed=OPENSSL_LIB_DIR OPENSSL_LIB_DIR unset cargo:rerun-if-env-changed=ARMV7_UNKNOWN_LINUX_MUSLEABIHF_OPENSSL_INCLUDE_DIR ARMV7_UNKNOWN_LINUX_MUSLEABIHF_OPENSSL_INCLUDE_DIR unset cargo:rerun-if-env-changed=OPENSSL_INCLUDE_DIR OPENSSL_INCLUDE_DIR unset cargo:rerun-if-env-changed=ARMV7_UNKNOWN_LINUX_MUSLEABIHF_OPENSSL_DIR ARMV7_UNKNOWN_LINUX_MUSLEABIHF_OPENSSL_DIR unset cargo:rerun-if-env-changed=OPENSSL_DIR OPENSSL_DIR unset cargo:rerun-if-env-changed=OPENSSL_NO_PKG_CONFIG cargo:rerun-if-env-changed=PKG_CONFIG_ALLOW_CROSS_armv7-unknown-linux-musleabihf cargo:rerun-if-env-changed=PKG_CONFIG_ALLOW_CROSS_armv7_unknown_linux_musleabihf cargo:rerun-if-env-changed=TARGET_PKG_CONFIG_ALLOW_CROSS cargo:rerun-if-env-changed=PKG_CONFIG_ALLOW_CROSS cargo:rerun-if-env-changed=PKG_CONFIG_armv7-unknown-linux-musleabihf cargo:rerun-if-env-changed=PKG_CONFIG_armv7_unknown_linux_musleabihf cargo:rerun-if-env-changed=TARGET_PKG_CONFIG cargo:rerun-if-env-changed=PKG_CONFIG cargo:rerun-if-env-changed=PKG_CONFIG_SYSROOT_DIR_armv7-unknown-linux-musleabihf cargo:rerun-if-env-changed=PKG_CONFIG_SYSROOT_DIR_armv7_unknown_linux_musleabihf cargo:rerun-if-env-changed=TARGET_PKG_CONFIG_SYSROOT_DIR cargo:rerun-if-env-changed=PKG_CONFIG_SYSROOT_DIR run pkg_config fail: \u0026quot;pkg-config has not been configured to support cross-compilation.\\n\\n Install a sysroot for the target platform and configure it via\\n PKG_CONFIG_SYSROOT_DIR and PKG_CONFIG_PATH, or install a\\n cross-compiling wrapper for pkg-config and set it via\\n PKG_CONFIG environment variable.\u0026quot; --- stderr thread 'main' panicked at ' Could not find directory of OpenSSL installation, and this `-sys` crate cannot proceed without this knowledge. If OpenSSL is installed and this crate had trouble finding it, you can set the `OPENSSL_DIR` environment variable for the compilation process. Make sure you also have the development packages of openssl installed. For example, `libssl-dev` on Ubuntu or `openssl-devel` on Fedora. If you're in a situation where you think the directory *should* be found automatically, please open a bug at https://github.com/sfackler/rust-openssl and include information about your system as well as this message. $HOST = x86_64-unknown-linux-gnu $TARGET = armv7-unknown-linux-musleabihf openssl-sys = 0.9.58 ', ~/.cargo/registry/src/mirrors.ustc.edu.cn-61ef6e0cd06fb9b8/openssl-sys-0.9.58/build/find_normal.rs:157:5 note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace warning: build failed, waiting for other jobs to finish... error: build failed  è§£å†³æ–¹æ¡ˆ  https://github.com/getsentry/rust-musl-cross\n ","id":24,"section":"posts","summary":"Rustäº¤å‰ç¼–è¯‘é—®é¢˜ $ cargo build --release --target armv7-unknown-linux-musleabihf ä¸‹é¢æ˜¯é”™è¯¯æ—¥å¿— error: failed to run custom build command for `openssl-sys v0.9.58` Caused by: process didn't exit successfully: `~/workspace/raspi_ip_email/target/release/build/openssl-sys-86e8fa49856e4dc9/build-script-main` (exit code: 101) --- stdout cargo:rustc-cfg=const_fn cargo:rerun-if-env-changed=ARMV7_UNKNOWN_LINUX_MUSLEABIHF_OPENSSL_LIB_DIR ARMV7_UNKNOWN_LINUX_MUSLEABIHF_OPENSSL_LIB_DIR unset cargo:rerun-if-env-changed=OPENSSL_LIB_DIR OPENSSL_LIB_DIR unset cargo:rerun-if-env-changed=ARMV7_UNKNOWN_LINUX_MUSLEABIHF_OPENSSL_INCLUDE_DIR ARMV7_UNKNOWN_LINUX_MUSLEABIHF_OPENSSL_INCLUDE_DIR unset cargo:rerun-if-env-changed=OPENSSL_INCLUDE_DIR OPENSSL_INCLUDE_DIR unset cargo:rerun-if-env-changed=ARMV7_UNKNOWN_LINUX_MUSLEABIHF_OPENSSL_DIR ARMV7_UNKNOWN_LINUX_MUSLEABIHF_OPENSSL_DIR unset cargo:rerun-if-env-changed=OPENSSL_DIR OPENSSL_DIR unset cargo:rerun-if-env-changed=OPENSSL_NO_PKG_CONFIG cargo:rerun-if-env-changed=PKG_CONFIG_ALLOW_CROSS_armv7-unknown-linux-musleabihf cargo:rerun-if-env-changed=PKG_CONFIG_ALLOW_CROSS_armv7_unknown_linux_musleabihf cargo:rerun-if-env-changed=TARGET_PKG_CONFIG_ALLOW_CROSS cargo:rerun-if-env-changed=PKG_CONFIG_ALLOW_CROSS cargo:rerun-if-env-changed=PKG_CONFIG_armv7-unknown-linux-musleabihf","tags":["Rust","æ ‘è“æ´¾","äº¤å‰ç¼–è¯‘"],"title":"Rust-äº¤å‰ç¼–è¯‘-æ ‘è“æ´¾","uri":"https://littleguest.github.io/posts/rust-cross-compiling-raspberrypi/","year":"2020"},{"content":"æ ‘è“æ´¾ åˆä½“éªŒ åœ¨ Linux ç³»ç»Ÿä¸Šå¦‚ä½•è¿æ¥æ²¡æœ‰å±å¹•çš„æ ‘è“æ´¾    å‡†å¤‡æˆ–åˆ¶ä½œæ ‘è“æ´¾çš„é•œåƒï¼›   å¦‚ä½•åˆ¶ä½œï¼Ÿ  é¦–å…ˆåˆ°å®˜ç½‘ä¸‹è½½ä¸€ä¸ªé€‚åˆè‡ªå·±çš„é•œåƒï¼Œæˆ‘é€‰æ‹©çš„æ˜¯ä¸‹é¢è¿™ä¸ªé•œåƒï¼›  ä½¿ç”¨BalenaEtcherçƒ§å½• æ ‘è“æ´¾ é•œåƒï¼Œçƒ§å½•å®Œæˆåï¼Œä¼šæœ‰ä¸¤ä¸ªåˆ†åŒºbootå’Œrootfsï¼›      åœ¨bootä¸‹åˆ›å»ºwpa_supplicant.confæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼›   country=CN ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev update_config=1 network={ ssid=\u0026quot;\u0026quot; psk=\u0026quot;\u0026quot; priority = 1 }  è¯´æ˜ï¼š  ssid: ç½‘ç»œçš„ssidï¼› pskï¼š å¯†ç ï¼› priority: è¿æ¥ä¼˜å…ˆçº§ï¼Œæ•°å­—è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜ï¼ˆä¸å¯ä»¥æ˜¯è´Ÿæ•°ï¼‰ï¼› scan_ssidï¼šè¿æ¥éšè—WiFiæ—¶éœ€è¦æŒ‡å®šè¯¥å€¼ä¸º1ï¼›    åœ¨bootä¸‹åˆ›å»ºä¸å¸¦æ‰©å±•åçš„sshæ–‡ä»¶ï¼›    å¯åŠ¨æ ‘è“æ´¾ï¼Œç¨ç­‰å‡ åˆ†é’Ÿï¼›    ä½¿ç”¨arp-scanåˆ—å‡ºå±€åŸŸç½‘å†…çš„ä¸»æœºï¼›  sudo arp-scan -interface wlp3s0 -localnet    ä½¿ç”¨sshç™»å½•åˆ°æ ‘è“æ´¾ï¼Œæ ‘è“æ´¾é»˜è®¤è´¦å·ä¸ºpiï¼Œé»˜è®¤å¯†ç ä¸ºraspberry;     åˆ°æ­¤ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»è¿ä¸Šæ ‘è“æ´¾äº†\n  é‚£ä¹ˆå¦‚ä½•èƒ½çœ‹åˆ°æ ‘è“æ´¾çš„æ¡Œé¢å‘¢ï¼Ÿ     ä¸‹è½½VNC Serveråˆ°æ ‘è“æ´¾ï¼›    å®‰è£…å¹¶å¯åŠ¨VNC Server;     ä¸‹è½½VNC Viewerå¹¶è¿è¡Œï¼›    è¾“å…¥åˆšæ‰å¯åŠ¨VNC Serverç”Ÿæˆçš„192.168.2.100:1ï¼Œä¸€ç›´continueï¼Œè¾“å…¥æ ‘è“æ´¾çš„è´¦å·å’Œå¯†ç ï¼Œå®Œæˆä¹‹åå°±å¯ä»¥çœ‹åˆ°æ ‘è“æ´¾çš„æ¡Œé¢äº†ï¼›       ","id":25,"section":"posts","summary":"æ ‘è“æ´¾ åˆä½“éªŒ åœ¨ Linux ç³»ç»Ÿä¸Šå¦‚ä½•è¿æ¥æ²¡æœ‰å±å¹•çš„æ ‘è“æ´¾ å‡†å¤‡æˆ–åˆ¶ä½œæ ‘è“æ´¾çš„é•œåƒï¼› å¦‚ä½•åˆ¶ä½œï¼Ÿ é¦–å…ˆåˆ°å®˜ç½‘ä¸‹è½½ä¸€ä¸ªé€‚åˆè‡ªå·±çš„é•œåƒï¼Œæˆ‘é€‰æ‹©çš„æ˜¯ä¸‹é¢è¿™ä¸ªé•œåƒï¼› ä½¿","tags":["Linux","æ ‘è“æ´¾"],"title":"æ ‘è“æ´¾ åˆä½“éªŒ","uri":"https://littleguest.github.io/posts/raspberrypi-first-experience/","year":"2020"},{"content":"å¦‚ä½•åœ¨ VSCode ä¸­è°ƒè¯• Rust æ¥æºï¼šå¦‚ä½•åœ¨ VSCode ä¸­è°ƒè¯• Rust ä»£ç \n å®‰è£… CodeLLDB åˆ›å»º launch.json æ–‡ä»¶ï¼Œæ·»åŠ é…ç½®å¦‚ä¸‹  { \u0026quot;version\u0026quot;: \u0026quot;0.2.0\u0026quot;, \u0026quot;configurations\u0026quot;: [ { \u0026quot;name\u0026quot;: \u0026quot;(Linux) Launch\u0026quot;, \u0026quot;type\u0026quot;: \u0026quot;lldb\u0026quot;, \u0026quot;request\u0026quot;: \u0026quot;launch\u0026quot;, \u0026quot;program\u0026quot;: \u0026quot;${workspaceRoot}/target/debug/æ–‡ä»¶åç§°\u0026quot;, \u0026quot;args\u0026quot;: [], \u0026quot;cwd\u0026quot;: \u0026quot;${workspaceRoot}\u0026quot; } ] }  ","id":26,"section":"posts","summary":"å¦‚ä½•åœ¨ VSCode ä¸­è°ƒè¯• Rust æ¥æºï¼šå¦‚ä½•åœ¨ VSCode ä¸­è°ƒè¯• Rust ä»£ç  å®‰è£… CodeLLDB åˆ›å»º launch.json æ–‡ä»¶ï¼Œæ·»åŠ é…ç½®å¦‚ä¸‹ { \u0026quot;version\u0026quot;: \u0026quot;0.2.0\u0026quot;, \u0026quot;configurations\u0026quot;: [ { \u0026quot;name\u0026quot;: \u0026quot;(Linux) Launch\u0026quot;, \u0026quot;type\u0026quot;: \u0026quot;lldb\u0026quot;, \u0026quot;request\u0026quot;: \u0026quot;launch\u0026quot;, \u0026quot;program\u0026quot;: \u0026quot;${workspaceRoo","tags":["Rust","è°ƒè¯•Rust"],"title":"VSCodeä¸­è°ƒè¯•Rust","uri":"https://littleguest.github.io/posts/vscode-debug-rust/","year":"2020"},{"content":"if è¡¨è¾¾å¼ fn main() { let number = 3; if number \u0026lt; 5 { println!(\u0026quot;condition was true\u0026quot;); } else { println!(\u0026quot;condition was false\u0026quot;); } }  ä½¿ç”¨ else if å¤„ç†å¤šé‡æ¡ä»¶ let number = 6; if number % 4 == 0 { println!(\u0026quot;number is divisible by 4\u0026quot;); } else if number % 3 == 0 { println!(\u0026quot;number is divisible by 3\u0026quot;); } else if number % 2 == 0 { println!(\u0026quot;number is divisible by 2\u0026quot;); } else { println!(\u0026quot;number is not divisible by 4, 3, or 2\u0026quot;); }  åœ¨ let è¯­å¥ä¸­ä½¿ç”¨ if fn main() { let condition = true; let number = if condition { 5 } else { 6 }; println!(\u0026quot;The value of number is: {}\u0026quot;, number); }  ä½¿ç”¨ loop é‡å¤æ‰§è¡Œä»£ç ï¼Œä»å¾ªç¯è¿”å› fn main() { let mut count = 0_u32; println!(\u0026quot;Let's count until infinity!\u0026quot;); // æ— é™å¾ªç¯ loop { count += 1; if count == 3 { println!(\u0026quot;three\u0026quot;); // è·³è¿‡è¿™æ¬¡è¿­ä»£çš„å‰©ä¸‹å†…å®¹ continue; } println!(\u0026quot;{}\u0026quot;, count); if count == 5 { println!(\u0026quot;OK, that's enough\u0026quot;); // é€€å‡ºå¾ªç¯ break; } } 'outer: loop { println!(\u0026quot;Entered the outer loop\u0026quot;); 'inner: loop { println!(\u0026quot;Entered the inner loop\u0026quot;); // è¿™åªæ˜¯ä¸­æ–­å†…éƒ¨çš„å¾ªç¯ // break; // è¿™ä¼šä¸­æ–­å¤–å±‚å¾ªç¯ break 'outer; } println!(\u0026quot;This point will never be reached\u0026quot;); } println!(\u0026quot;Exited the outer loop\u0026quot;); let mut counter = 0; let result = loop { counter += 1; if counter == 10 { break counter * 2; } }; assert_eq!(result, 20); }  while æ¡ä»¶å¾ªç¯ fn main() { let mut number = 3; while number != 0 { println!(\u0026quot;{}!\u0026quot;, number); number = number - 1; } println!(\u0026quot;LIFTOFF!!!\u0026quot;); }  ä½¿ç”¨ for éå†é›†åˆ fn main() { let a = [10, 20, 30, 40, 50]; for element in a.iter() { println!(\u0026quot;the value is: {}\u0026quot;, element); } }  ","id":27,"section":"posts","summary":"if è¡¨è¾¾å¼ fn main() { let number = 3; if number \u0026lt; 5 { println!(\u0026quot;condition was true\u0026quot;); } else { println!(\u0026quot;condition was false\u0026quot;); } } ä½¿ç”¨ else if å¤„ç†å¤šé‡æ¡ä»¶ let number = 6; if number % 4 == 0 { println!(\u0026quot;number is divisible by 4\u0026quot;); } else if number % 3 == 0 { println!(\u0026quot;number is divisible by 3\u0026quot;); } else if","tags":["Rust","Rustæ§åˆ¶æµç¨‹"],"title":"Rustä¹‹æ—…-æ§åˆ¶æµç¨‹","uri":"https://littleguest.github.io/posts/rust-tour-control-flow/","year":"2020"},{"content":"æ•´å‹    é•¿åº¦ æœ‰ç¬¦å· æ— ç¬¦å·     8-bit i8 u8   16-bit i16 u16   32-bit i32 u32   64-bit i64 u64   128-bit i128 u128   arch isize usize    æµ®ç‚¹å‹ f32ï¼Œf64\nå¸ƒå°”ç±»å‹ bool\nå­—ç¬¦ç±»å‹ ä½¿ç”¨å•å¼•å·æŒ‡å®š\nå…ƒç»„ç±»å‹ æ•°ç»„ç±»å‹ å…ƒç»„é•¿åº¦å›ºå®šï¼Œä½¿ç”¨åŒ…å«åœ¨åœ†æ‹¬å·ä¸­çš„é€—å·åˆ†éš”çš„å€¼åˆ—è¡¨æ¥åˆ›å»ºä¸€ä¸ªå…ƒç»„ã€‚å…ƒç»„ä¸­çš„æ¯ä¸€ä¸ªä½ç½®éƒ½æœ‰ä¸€ä¸ªç±»å‹ï¼Œè€Œä¸”è¿™äº›ä¸åŒå€¼çš„ç±»å‹ä¹Ÿä¸å¿…æ˜¯ç›¸åŒçš„ã€‚\nuse std::fmt; use std::mem; #[derive(Debug)] struct Matrix(f32, f32, f32, f32); fn main(){ // å˜é‡å¯ä»¥ç»™å‡ºç±»å‹è¯´æ˜ã€‚ let logical: bool = true; let a_float: f64 = 1.0; // å¸¸è§„è¯´æ˜ let an_integer = 5i32; // åç¼€è¯´æ˜ // å¦åˆ™ä¼šæŒ‰é»˜è®¤æ–¹å¼å†³å®šç±»å‹ã€‚ let default_float = 3.0; // `f64` let default_integer = 7; // `i32` // ç±»å‹ä¹Ÿå¯æ ¹æ®ä¸Šä¸‹æ–‡è‡ªåŠ¨æ¨æ–­ã€‚ let mut inferred_type = 12; // æ ¹æ®ä¸‹ä¸€è¡Œçš„èµ‹å€¼æ¨æ–­ä¸º i64 ç±»å‹ inferred_type = 4294967296i64; // å¯å˜çš„ï¼ˆmutableï¼‰å˜é‡ï¼Œå…¶å€¼å¯ä»¥æ”¹å˜ã€‚ let mut mutable = 12; // Mutable `i32` mutable = 21; // æŠ¥é”™ï¼å˜é‡çš„ç±»å‹å¹¶ä¸èƒ½æ”¹å˜ã€‚ // mutable = true; // ä½†å¯ä»¥ç”¨æ©è”½ï¼ˆshadowï¼‰æ¥è¦†ç›–å‰é¢çš„å˜é‡ã€‚ let mutable = true; // æ•´æ•°ç›¸åŠ  println!(\u0026quot;1 + 2 = {}\u0026quot;, 1u32 + 2); // æ•´æ•°ç›¸å‡ println!(\u0026quot;1 - 2 = {}\u0026quot;, 1i32 - 2); // è¯•ä¸€è¯• ^ å°è¯•å°† `1i32` æ”¹ä¸º `1u32`ï¼Œä½“ä¼šä¸ºä»€ä¹ˆç±»å‹å£°æ˜è¿™ä¹ˆé‡è¦ // çŸ­è·¯æ±‚å€¼çš„å¸ƒå°”é€»è¾‘ println!(\u0026quot;true AND false is {}\u0026quot;, true \u0026amp;\u0026amp; false); println!(\u0026quot;true OR false is {}\u0026quot;, true || false); println!(\u0026quot;NOT true is {}\u0026quot;, !true); // ä½è¿ç®— println!(\u0026quot;0011 AND 0101 is {:04b}\u0026quot;, 0b0011u32 \u0026amp; 0b0101); println!(\u0026quot;0011 OR 0101 is {:04b}\u0026quot;, 0b0011u32 | 0b0101); println!(\u0026quot;0011 XOR 0101 is {:04b}\u0026quot;, 0b0011u32 ^ 0b0101); println!(\u0026quot;1 \u0026lt;\u0026lt; 5 is {}\u0026quot;, 1u32 \u0026lt;\u0026lt; 5); println!(\u0026quot;0x80 \u0026gt;\u0026gt; 2 is 0x{:x}\u0026quot;, 0x80u32 \u0026gt;\u0026gt; 2); // ä½¿ç”¨ä¸‹åˆ’çº¿æ”¹å–„æ•°å­—çš„å¯è¯»æ€§ï¼ println!(\u0026quot;One million is written as {}\u0026quot;, 1_000_000u32); // åŒ…å«å„ç§ä¸åŒç±»å‹çš„å…ƒç»„ let long_tuple = (1u8, 2u16, 3u32, 4u64,-1i8, -2i16, -3i32, -4i64,0.1f32, 0.2f64,'a', true); // é€šè¿‡å…ƒç»„çš„ä¸‹æ ‡æ¥è®¿é—®å…·ä½“çš„å€¼ println!(\u0026quot;long tuple first value: {}\u0026quot;, long_tuple.0); println!(\u0026quot;long tuple second value: {}\u0026quot;, long_tuple.1); // å…ƒç»„ä¹Ÿå¯ä»¥å……å½“å…ƒç»„çš„å…ƒç´  let tuple_of_tuples = ((1u8, 2u16, 2u32), (4u64, -1i8), -2i16); // å…ƒç»„å¯ä»¥æ‰“å° println!(\u0026quot;tuple of tuples: {:?}\u0026quot;, tuple_of_tuples); // ä½†å¾ˆé•¿çš„å…ƒç»„æ— æ³•æ‰“å° // let too_long_tuple = (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13); // println!(\u0026quot;too long tuple: {:?}\u0026quot;, too_long_tuple); // è¯•ä¸€è¯• ^ å–æ¶ˆä¸Šé¢ä¸¤è¡Œçš„æ³¨é‡Šï¼Œé˜…è¯»ç¼–è¯‘å™¨ç»™å‡ºçš„é”™è¯¯ä¿¡æ¯ã€‚ let pair = (1, true); println!(\u0026quot;pair is {:?}\u0026quot;, pair); println!(\u0026quot;the reversed pair is {:?}\u0026quot;, reverse(pair)); // åˆ›å»ºå•å…ƒç´ å…ƒç»„éœ€è¦ä¸€ä¸ªé¢å¤–çš„é€—å·ï¼Œè¿™æ˜¯ä¸ºäº†å’Œè¢«æ‹¬å·åŒ…å«çš„å­—é¢é‡ä½œåŒºåˆ†ã€‚ println!(\u0026quot;one element tuple: {:?}\u0026quot;, (5u32,)); println!(\u0026quot;just an integer: {:?}\u0026quot;, (5u32)); // å…ƒç»„å¯ä»¥è¢«è§£æ„ï¼ˆdeconstructï¼‰ï¼Œä»è€Œå°†å€¼ç»‘å®šç»™å˜é‡ let tuple = (1, \u0026quot;hello\u0026quot;, 4.5, true); let (a, b, c, d) = tuple; println!(\u0026quot;{:?}, {:?}, {:?}, {:?}\u0026quot;, a, b, c, d); let matrix = Matrix(1.1, 1.2, 2.1, 2.2); println!(\u0026quot;{:?}\u0026quot;, matrix); impl fmt::Display for Matrix{ fn fmt(\u0026amp;self,f: \u0026amp;mut fmt::Formatter)-\u0026gt;fmt::Result{ write!(f, \u0026quot;({} {})\\n({} {})\u0026quot;, self.0, self.1,self.2,self.3) } } println!(\u0026quot;{}\u0026quot;, matrix); println!(\u0026quot;{}\u0026quot;, transpose(matrix)); println!(\u0026quot;æ•°ç»„å’Œåˆ‡ç‰‡\u0026quot;); // å®šé•¿æ•°ç»„ï¼ˆç±»å‹æ ‡è®°æ˜¯å¤šä½™çš„ï¼‰ let xs: [i32; 5] = [1, 2, 3, 4, 5]; // æ‰€æœ‰å…ƒç´ å¯ä»¥åˆå§‹åŒ–æˆç›¸åŒçš„å€¼ let ys: [i32; 500] = [0; 500]; // ä¸‹æ ‡ä» 0 å¼€å§‹ println!(\u0026quot;first element of the array: {}\u0026quot;, xs[0]); println!(\u0026quot;second element of the array: {}\u0026quot;, xs[1]); // `len` è¿”å›æ•°ç»„çš„å¤§å° println!(\u0026quot;array size: {}\u0026quot;, xs.len()); // æ•°ç»„æ˜¯åœ¨æ ˆä¸­åˆ†é…çš„ println!(\u0026quot;array occupies {} bytes\u0026quot;, mem::size_of_val(\u0026amp;xs)); // æ•°ç»„å¯ä»¥è‡ªåŠ¨è¢«å€Ÿç”¨æˆä¸º slice println!(\u0026quot;borrow the whole array as a slice\u0026quot;); analyze_slice(\u0026amp;xs); // slice å¯ä»¥æŒ‡å‘æ•°ç»„çš„ä¸€éƒ¨åˆ† println!(\u0026quot;borrow a section of the array as a slice\u0026quot;); analyze_slice(\u0026amp;ys[1 .. 4]); // è¶Šç•Œçš„ä¸‹æ ‡ä¼šå¼•å‘è‡´å‘½é”™è¯¯ï¼ˆpanicï¼‰ // println!(\u0026quot;{}\u0026quot;, xs[5]); } // å…ƒç»„å¯ä»¥å……å½“å‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼ fn reverse(pair: (i32, bool)) -\u0026gt; (bool, i32) { // å¯ä»¥ä½¿ç”¨ `let` æŠŠä¸€ä¸ªå…ƒç»„çš„æˆå‘˜ç»‘å®šåˆ°ä¸€äº›å˜é‡ let (integer, boolean) = pair; (boolean, integer) } fn transpose(matrix: Matrix)-\u0026gt;Matrix{ Matrix(matrix.0,matrix.2,matrix.1,matrix.3) } // æ­¤å‡½æ•°å€Ÿç”¨ä¸€ä¸ª slice fn analyze_slice(slice: \u0026amp;[i32]) { println!(\u0026quot;first element of the slice: {}\u0026quot;, slice[0]); println!(\u0026quot;the slice has {} elements\u0026quot;, slice.len()); }  ","id":28,"section":"posts","summary":"æ•´å‹ é•¿åº¦ æœ‰ç¬¦å· æ— ç¬¦å· 8-bit i8 u8 16-bit i16 u16 32-bit i32 u32 64-bit i64 u64 128-bit i128 u128 arch isize usize æµ®ç‚¹å‹ f32ï¼Œf64 å¸ƒå°”ç±»å‹ bool å­—ç¬¦ç±»å‹ ä½¿ç”¨å•å¼•å·æŒ‡å®š å…ƒç»„ç±»å‹ æ•°ç»„ç±»å‹ å…ƒç»„é•¿åº¦å›ºå®šï¼Œä½¿","tags":["Rust","Rustæ•°æ®ç±»å‹"],"title":"Rustä¹‹æ—…-æ•°æ®ç±»å‹","uri":"https://littleguest.github.io/posts/rust-tour-data-types/","year":"2020"},{"content":"å˜é‡ å£°æ˜å˜é‡ä½¿ç”¨ let å…³é”®å­—ï¼Œå˜é‡æ˜¯é»˜è®¤ä¸å¯å˜çš„ï¼›\nå¯å˜å˜é‡ åœ¨å˜é‡å‰åŠ mutå…³é”®å­—ï¼Œä½¿å…¶å¯å˜ï¼›\nå¸¸é‡ å£°æ˜å¸¸é‡ä½¿ç”¨constå…³é”®å­—ï¼Œå¹¶ä¸”å¿…é¡»æŒ‡å®šç±»å‹ï¼Œå¸¸é‡ä¸èƒ½ä½¿ç”¨mutï¼ˆRust å¸¸é‡çš„å‘½åè§„èŒƒæ˜¯ä½¿ç”¨ä¸‹åˆ’çº¿åˆ†éš”çš„å¤§å†™å­—æ¯å•è¯ï¼Œå¹¶ä¸”å¯ä»¥åœ¨æ•°å­—å­—é¢å€¼ä¸­æ’å…¥ä¸‹åˆ’çº¿æ¥æå‡å¯è¯»æ€§ï¼‰ï¼›\nShadowing const MAX_SIZE: i32 = 10; fn main() { let an_integer = 1u32; let a_boolean = true; let unit = (); // å°† `an_integer` å¤åˆ¶åˆ° `copied_integer` let copied_integer = an_integer; println!(\u0026quot;An integer: {:?}\u0026quot;, copied_integer); println!(\u0026quot;A boolean: {:?}\u0026quot;, a_boolean); println!(\u0026quot;Meet the unit value: {:?}\u0026quot;, unit); // ç¼–è¯‘å™¨ä¼šå¯¹æœªä½¿ç”¨çš„å˜é‡ç»‘å®šäº§ç”Ÿè­¦å‘Šï¼›å¯ä»¥ç»™å˜é‡ååŠ ä¸Šä¸‹åˆ’çº¿å‰ç¼€æ¥æ¶ˆé™¤è­¦å‘Šã€‚ let _unused_variable = 3u32; let _noisy_unused_variable = 2u32; // æ”¹æ­£ ^ åœ¨å˜é‡åå‰åŠ ä¸Šä¸‹åˆ’çº¿ä»¥æ¶ˆé™¤è­¦å‘Š println!(\u0026quot;=== å¯å˜å˜é‡ ===\u0026quot;); // å˜é‡ç»‘å®šé»˜è®¤æ˜¯ä¸å¯å˜çš„ï¼ˆimmutableï¼‰ï¼Œä½†åŠ ä¸Š mut ä¿®é¥°è¯­åå˜é‡å°±å¯ä»¥æ”¹å˜ã€‚ let _immutable_binding = 1; let mut mutable_binding = 1; println!(\u0026quot;Before mutation: {}\u0026quot;, mutable_binding); // æ­£ç¡®ä»£ç  mutable_binding += 1; println!(\u0026quot;After mutation: {}\u0026quot;, mutable_binding); // é”™è¯¯ï¼ // _immutable_binding += 1; // æ”¹æ­£ ^ å°†æ­¤è¡Œæ³¨é‡Šæ‰ println!(\u0026quot;=== scope and shadowing ===\u0026quot;); // æ­¤ç»‘å®šç”Ÿå­˜äº main å‡½æ•°ä¸­ let long_lived_binding = 1; // è¿™æ˜¯ä¸€ä¸ªä»£ç å—ï¼Œæ¯” main å‡½æ•°æ‹¥æœ‰æ›´å°çš„ä½œç”¨åŸŸ { // æ­¤ç»‘å®šåªå­˜åœ¨äºæœ¬ä»£ç å— let short_lived_binding = 2; println!(\u0026quot;inner short: {}\u0026quot;, short_lived_binding); // æ­¤ç»‘å®š*æ©è”½*äº†å¤–é¢çš„ç»‘å®š let long_lived_binding = 5_f32; println!(\u0026quot;inner long: {}\u0026quot;, long_lived_binding); } // ä»£ç å—ç»“æŸ // æŠ¥é”™ï¼`short_lived_binding` åœ¨æ­¤ä½œç”¨åŸŸä¸Šä¸å­˜åœ¨ // println!(\u0026quot;outer short: {}\u0026quot;, short_lived_binding); // æ”¹æ­£ ^ æ³¨é‡Šæ‰è¿™è¡Œ println!(\u0026quot;outer long: {}\u0026quot;, long_lived_binding); // æ­¤ç»‘å®šåŒæ ·*æ©è”½*äº†å‰é¢çš„ç»‘å®š let long_lived_binding = 'a'; println!(\u0026quot;outer long: {}\u0026quot;, long_lived_binding); println!(\u0026quot;declate before\u0026quot;); // å£°æ˜ä¸€ä¸ªå˜é‡ç»‘å®š let a_binding; { let x = 2; // åˆå§‹åŒ–ä¸€ä¸ªç»‘å®š a_binding = x * x; } println!(\u0026quot;a binding: {}\u0026quot;, a_binding); let another_binding; // æŠ¥é”™ï¼ä½¿ç”¨äº†æœªåˆå§‹åŒ–çš„ç»‘å®š // println!(\u0026quot;another binding: {}\u0026quot;, another_binding); // æ”¹æ­£ ^ æ³¨é‡Šæ‰æ­¤è¡Œ another_binding = 1; println!(\u0026quot;another binding: {}\u0026quot;, another_binding); }  ","id":29,"section":"posts","summary":"å˜é‡ å£°æ˜å˜é‡ä½¿ç”¨ let å…³é”®å­—ï¼Œå˜é‡æ˜¯é»˜è®¤ä¸å¯å˜çš„ï¼› å¯å˜å˜é‡ åœ¨å˜é‡å‰åŠ mutå…³é”®å­—ï¼Œä½¿å…¶å¯å˜ï¼› å¸¸é‡ å£°æ˜å¸¸é‡ä½¿ç”¨constå…³é”®å­—ï¼Œå¹¶ä¸”å¿…é¡»æŒ‡å®šç±»å‹ï¼Œ","tags":["Rust","Rustå˜é‡"],"title":"Rustä¹‹æ—…-å˜é‡å’Œå¯å˜æ€§","uri":"https://littleguest.github.io/posts/rust-tour-variable/","year":"2020"},{"content":"è¿ç®—ç¬¦    è¿ç®—ç¬¦ ç¤ºä¾‹ è§£é‡Š æ˜¯å¦å¯é‡è½½     ! ident!(...), ident!{...}, ident![...] å®å±•å¼€    ! !expr æŒ‰ä½éæˆ–é€»è¾‘é Not   != var != expr ä¸ç­‰æ¯”è¾ƒ PartialEq   % expr % expr ç®—æœ¯å–æ¨¡ Rem   %= var %= expr ç®—æœ¯å–æ¨¡ä¸èµ‹å€¼ RemAssign   \u0026amp; \u0026amp;expr, \u0026amp;mut expr å€Ÿç”¨    \u0026amp; \u0026amp;type, \u0026amp;mut type, \u0026amp;'a type, \u0026amp;'a mut type å€Ÿç”¨æŒ‡é’ˆç±»å‹    \u0026amp; expr \u0026amp; expr æŒ‰ä½ä¸ BitAnd   \u0026amp;= var \u0026amp;= expr æŒ‰ä½ä¸åŠèµ‹å€¼ BitAndAssign   \u0026amp;\u0026amp; expr \u0026amp;\u0026amp; expr é€»è¾‘ä¸    * expr * expr ç®—æœ¯ä¹˜æ³• Mul   *= var *= expr ç®—æœ¯ä¹˜æ³•ä¸èµ‹å€¼ MulAssign   * *expr è§£å¼•ç”¨    * *const type, *mut type è£¸æŒ‡é’ˆ    + trait + trait, 'a + trait å¤åˆç±»å‹é™åˆ¶    + expr + expr ç®—æœ¯åŠ æ³• Add   += var += expr ç®—æœ¯åŠ æ³•ä¸èµ‹å€¼ AddAssign   , expr, expr å‚æ•°ä»¥åŠå…ƒç´ åˆ†éš”ç¬¦    - - expr ç®—æœ¯å–è´Ÿ Neg   - expr - expr ç®—æœ¯å‡æ³• Sub   -= var -= expr ç®—æœ¯å‡æ³•ä¸èµ‹å€¼ SubAssign   -\u0026gt; fn(...) -\u0026gt; type, ` \u0026hellip; -\u0026gt; type`   . expr.ident æˆå‘˜è®¿é—®    .. .., expr.., ..expr, expr..expr å³æ’é™¤èŒƒå›´    .. ..expr ç»“æ„ä½“æ›´æ–°è¯­æ³•    .. variant(x, ..), struct_type { x, .. } â€œä¸å‰©ä½™éƒ¨åˆ†â€çš„æ¨¡å¼ç»‘å®š    ... expr...expr æ¨¡å¼: èŒƒå›´åŒ…å«æ¨¡å¼    / expr / expr ç®—æœ¯é™¤æ³• Div   /= var /= expr ç®—æœ¯é™¤æ³•ä¸èµ‹å€¼ DivAssign   : pat: type, ident: type çº¦æŸ    : ident: expr ç»“æ„ä½“å­—æ®µåˆå§‹åŒ–    : 'a: loop {...} å¾ªç¯æ ‡å¿—    ; expr; è¯­å¥å’Œè¯­å¥ç»“æŸç¬¦    ; [...; len] å›ºå®šå¤§å°æ•°ç»„è¯­æ³•çš„éƒ¨åˆ†    \u0026lt;\u0026lt; expr \u0026lt;\u0026lt; expr å·¦ç§» Shl   \u0026lt;\u0026lt;= var \u0026lt;\u0026lt;= expr å·¦ç§»ä¸èµ‹å€¼ ShlAssign   \u0026lt; expr \u0026lt; expr å°äºæ¯”è¾ƒ PartialOrd   \u0026lt;= expr \u0026lt;= expr å°äºç­‰äºæ¯”è¾ƒ PartialOrd   = var = expr, ident = type èµ‹å€¼/ç­‰å€¼    == expr == expr ç­‰äºæ¯”è¾ƒ PartialEq   =\u0026gt; pat =\u0026gt; expr åŒ¹é…å‡†å¤‡è¯­æ³•çš„éƒ¨åˆ†    \u0026gt; expr \u0026gt; expr å¤§äºæ¯”è¾ƒ PartialOrd   \u0026gt;= expr \u0026gt;= expr å¤§äºç­‰äºæ¯”è¾ƒ PartialOrd   \u0026gt;\u0026gt; expr \u0026gt;\u0026gt; expr å³ç§» Shr   \u0026gt;\u0026gt;= var \u0026gt;\u0026gt;= expr å³ç§»ä¸èµ‹å€¼ ShrAssign   @ ident @ pat æ¨¡å¼ç»‘å®š    ^ expr ^ expr æŒ‰ä½å¼‚æˆ– BitXor   ^= var ^= expr æŒ‰ä½å¼‚æˆ–ä¸èµ‹å€¼ BitXorAssign   ` ` `pat pat`   ` ` `expr expr`   ` =` `var = expr`   `  ` `expr   ? expr? é”™è¯¯ä¼ æ’­     éè¿ç®—ç¬¦ç¬¦å·    ç¬¦å· è§£é‡Š     'ident å‘½åç”Ÿå‘½å‘¨æœŸæˆ–å¾ªç¯æ ‡ç­¾   ...u8, ...i32, ...f64, ...usize, ç­‰ æŒ‡å®šç±»å‹çš„æ•°å€¼å¸¸é‡   \u0026quot;...\u0026quot; å­—ç¬¦ä¸²å¸¸é‡   r\u0026quot;...\u0026quot;, r#\u0026quot;...\u0026quot;#, r##\u0026quot;...\u0026quot;##, etc. åŸå§‹å­—ç¬¦ä¸²å­—é¢å€¼, æœªå¤„ç†çš„è½¬ä¹‰å­—ç¬¦   b\u0026quot;...\u0026quot; å­—èŠ‚å­—ç¬¦ä¸²å­—é¢å€¼; æ„é€ ä¸€ä¸ª [u8] ç±»å‹è€Œéå­—ç¬¦ä¸²   br\u0026quot;...\u0026quot;, br#\u0026quot;...\u0026quot;#, br##\u0026quot;...\u0026quot;##, ç­‰ åŸå§‹å­—èŠ‚å­—ç¬¦ä¸²å­—é¢å€¼ï¼ŒåŸå§‹å’Œå­—èŠ‚å­—ç¬¦ä¸²å­—é¢å€¼çš„ç»“åˆ   '...' å­—ç¬¦å­—é¢å€¼   b'...' ASCII ç å­—èŠ‚å­—é¢å€¼   ` \u0026hellip;   ! ç¦»æ•£å‡½æ•°çš„æ€»æ˜¯ä¸ºç©ºçš„ç±»å‹   _ â€œå¿½ç•¥â€ æ¨¡å¼ç»‘å®šï¼›ä¹Ÿç”¨äºå¢å¼ºæ•´å‹å­—é¢å€¼çš„å¯è¯»æ€§    è·¯å¾„ç›¸å…³è¯­æ³•\n   ç¬¦å· è§£é‡Š     ident::ident å‘½åç©ºé—´è·¯å¾„   ::path ä¸ crate æ ¹ç›¸å¯¹çš„è·¯å¾„ï¼ˆå¦‚ä¸€ä¸ªæ˜¾å¼ç»å¯¹è·¯å¾„ï¼‰   self::path ä¸å½“å‰æ¨¡å—ç›¸å¯¹çš„è·¯å¾„ï¼ˆå¦‚ä¸€ä¸ªæ˜¾å¼ç›¸å¯¹è·¯å¾„ï¼‰   super::path ä¸çˆ¶æ¨¡å—ç›¸å¯¹çš„è·¯å¾„   type::ident, ::ident å…³è”å¸¸é‡ã€å‡½æ•°ä»¥åŠç±»å‹   ::... ä¸å¯ä»¥è¢«ç›´æ¥å‘½åçš„å…³è”é¡¹ç±»å‹ï¼ˆå¦‚ \u0026lt;\u0026amp;T\u0026gt;::...ï¼Œ\u0026lt;[T]\u0026gt;::...ï¼Œ ç­‰ï¼‰   trait::method(...) é€šè¿‡å‘½åå®šä¹‰çš„ trait æ¥æ¶ˆé™¤æ–¹æ³•è°ƒç”¨çš„äºŒä¹‰æ€§   type::method(...) é€šè¿‡å‘½åå®šä¹‰çš„ç±»å‹æ¥æ¶ˆé™¤æ–¹æ³•è°ƒç”¨çš„äºŒä¹‰æ€§   ::method(...) é€šè¿‡å‘½å trait å’Œç±»å‹æ¥æ¶ˆé™¤æ–¹æ³•è°ƒç”¨çš„äºŒä¹‰æ€§    æ³›å‹\n   ç¬¦å· è§£é‡Š     path\u0026lt;...\u0026gt; ä¸ºä¸€ä¸ªç±»å‹ä¸­çš„æ³›å‹æŒ‡å®šå…·ä½“å‚æ•°ï¼ˆå¦‚ Vecï¼‰   path::\u0026lt;...\u0026gt;, method::\u0026lt;...\u0026gt; ä¸ºä¸€ä¸ªæ³›å‹ã€å‡½æ•°æˆ–è¡¨è¾¾å¼ä¸­çš„æ–¹æ³•æŒ‡å®šå…·ä½“å‚æ•°ï¼Œé€šå¸¸æŒ‡ turbofishï¼ˆå¦‚ \u0026quot;42\u0026quot;.parse::()ï¼‰   fn ident\u0026lt;...\u0026gt; ... æ³›å‹å‡½æ•°å®šä¹‰   struct ident\u0026lt;...\u0026gt; ... æ³›å‹ç»“æ„ä½“å®šä¹‰   enum ident\u0026lt;...\u0026gt; ... æ³›å‹æšä¸¾å®šä¹‰   impl\u0026lt;...\u0026gt; ... å®šä¹‰æ³›å‹å®ç°   for\u0026lt;...\u0026gt; type é«˜çº§ç”Ÿå‘½å‘¨æœŸé™åˆ¶   type æ³›å‹ï¼Œå…¶ä¸€ä¸ªæˆ–å¤šä¸ªç›¸å…³ç±»å‹å¿…é¡»è¢«æŒ‡å®šä¸ºç‰¹å®šç±»å‹ï¼ˆå¦‚ Iteratorï¼‰    Trait Bound çº¦æŸ\n   ç¬¦å· è§£é‡Š     T: U æ³›å‹å‚æ•° T çº¦æŸäºå®ç°äº† U çš„ç±»å‹   T: 'a æ³›å‹ T çš„ç”Ÿå‘½å‘¨æœŸå¿…é¡»é•¿äº 'aï¼ˆæ„å‘³ç€è¯¥ç±»å‹ä¸èƒ½ä¼ é€’åŒ…å«ç”Ÿå‘½å‘¨æœŸçŸ­äº 'a çš„ä»»ä½•å¼•ç”¨ï¼‰   T : 'static æ³›å‹ T ä¸åŒ…å«é™¤ \u0026lsquo;static ä¹‹å¤–çš„å€Ÿç”¨å¼•ç”¨   'b: 'a æ³›å‹ 'b ç”Ÿå‘½å‘¨æœŸå¿…é¡»é•¿äºæ³›å‹ 'a   T: ?Sized ä½¿ç”¨ä¸€ä¸ªä¸å®šå¤§å°çš„æ³›å‹ç±»å‹   'a + trait, trait + trait å¤åˆç±»å‹é™åˆ¶    å®ä¸å±æ€§\n   ç¬¦å· è§£é‡Š     #[meta] å¤–éƒ¨å±æ€§   #![meta] å†…éƒ¨å±æ€§   $ident å®æ›¿æ¢   $ident:kind å®æ•è·   $(â€¦)â€¦ å®é‡å¤    æ³¨é‡Š\n   ç¬¦å· æ³¨é‡Š     // è¡Œæ³¨é‡Š   //! å†…éƒ¨è¡Œæ–‡æ¡£æ³¨é‡Š   /// å¤–éƒ¨è¡Œæ–‡æ¡£æ³¨é‡Š   /*...*/ å—æ³¨é‡Š   /*!...*/ å†…éƒ¨å—æ–‡æ¡£æ³¨é‡Š   /**...*/ å¤–éƒ¨å—æ–‡æ¡£æ³¨é‡Š    å…ƒç»„\n   ç¬¦å· è§£é‡Š     () ç©ºå…ƒç»„ï¼ˆäº¦ç§°å•å…ƒï¼‰ï¼Œå³æ˜¯å­—é¢å€¼ä¹Ÿæ˜¯ç±»å‹   (expr) æ‹¬å·è¡¨è¾¾å¼   (expr,) å•ä¸€å…ƒç´ å…ƒç»„è¡¨è¾¾å¼   (type,) å•ä¸€å…ƒç´ å…ƒç»„ç±»å‹   (expr, ...) å…ƒç»„è¡¨è¾¾å¼   (type, ...) å…ƒç»„ç±»å‹   expr(expr, ...) å‡½æ•°è°ƒç”¨è¡¨è¾¾å¼ï¼›ä¹Ÿç”¨äºåˆå§‹åŒ–å…ƒç»„ç»“æ„ä½“ struct ä»¥åŠå…ƒç»„æšä¸¾ enum å˜ä½“   ident!(...), ident!{...}, ident![...] å®è°ƒç”¨   expr.0, expr.1, etc. å…ƒç»„ç´¢å¼•    å¤§æ‹¬å·\n   ç¬¦å· è§£é‡Š     {...} å—è¡¨è¾¾å¼   Type {...} struct å­—é¢å€¼    æ–¹æ‹¬å·\n   ç¬¦å· è§£é‡Š     [...] æ•°ç»„   [expr; len] å¤åˆ¶äº† lenä¸ª exprçš„æ•°ç»„   [type; len] åŒ…å« lenä¸ª type ç±»å‹çš„æ•°ç»„   expr[expr] é›†åˆç´¢å¼•ã€‚ é‡è½½ï¼ˆIndex, IndexMutï¼‰   expr[..], expr[a..], expr[..b], expr[a..b] é›†åˆç´¢å¼•ï¼Œä½¿ç”¨ Rangeï¼ŒRangeFromï¼ŒRangeTo æˆ– RangeFull ä½œä¸ºç´¢å¼•æ¥ä»£æ›¿é›†åˆ slice    ","id":30,"section":"posts","summary":"è¿ç®—ç¬¦ è¿ç®—ç¬¦ ç¤ºä¾‹ è§£é‡Š æ˜¯å¦å¯é‡è½½ ! ident!(...), ident!{...}, ident![...] å®å±•å¼€ ! !expr æŒ‰ä½éæˆ–é€»è¾‘é Not != var != expr ä¸ç­‰æ¯”è¾ƒ PartialEq % expr % expr ç®—æœ¯å–æ¨¡ Rem %= var %= expr ç®—æœ¯å–æ¨¡ä¸èµ‹å€¼ RemAssign \u0026amp; \u0026amp;expr, \u0026amp;mut expr å€Ÿç”¨ \u0026amp; \u0026amp;type,","tags":["Rust","Rustè¿ç®—ç¬¦ä¸ç¬¦å·"],"title":"Rustä¹‹æ—…-è¿ç®—ç¬¦ä¸ç¬¦å·","uri":"https://littleguest.github.io/posts/rust-tour-operators-symbols/","year":"2020"},{"content":"Rust å…³é”®å­— æ­£åœ¨ä½¿ç”¨çš„å…³é”®å­—    å…³é”®å­— æè¿°     as å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œæ¶ˆé™¤ç‰¹å®šåŒ…å«é¡¹çš„ trait çš„æ­§ä¹‰ï¼Œæˆ–è€…å¯¹ use å’Œ extern crate è¯­å¥ä¸­çš„é¡¹é‡å‘½å   async è¿”å›ä¸€ä¸ª Future è€Œä¸æ˜¯é˜»å¡å½“å‰çº¿ç¨‹   await suspend execution until the result of a Future is ready   break ç«‹åˆ»é€€å‡ºå¾ªç¯   const å®šä¹‰å¸¸é‡æˆ–ä¸å˜è£¸æŒ‡é’ˆï¼ˆconstant raw pointerï¼‰   continue ç»§ç»­è¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯è¿­ä»£   crate é“¾æ¥ï¼ˆlinkï¼‰ä¸€ä¸ªå¤–éƒ¨ crate æˆ–ä¸€ä¸ªä»£è¡¨å®å®šä¹‰çš„ crate çš„å®å˜é‡   dyn åŠ¨æ€åˆ†å‘ trait å¯¹è±¡   else ä½œä¸º if å’Œ if let æ§åˆ¶æµç»“æ„çš„ fallback   enum å®šä¹‰ä¸€ä¸ªæšä¸¾   extern é“¾æ¥ä¸€ä¸ªå¤–éƒ¨ crate ã€å‡½æ•°æˆ–å˜é‡   false å¸ƒå°”å­—é¢å€¼ false   fn å®šä¹‰ä¸€ä¸ªå‡½æ•°æˆ– å‡½æ•°æŒ‡é’ˆç±»å‹ (function pointer type)   for éå†ä¸€ä¸ªè¿­ä»£å™¨æˆ–å®ç°ä¸€ä¸ª trait æˆ–è€…æŒ‡å®šä¸€ä¸ªæ›´é«˜çº§çš„ç”Ÿå‘½å‘¨æœŸ   if åŸºäºæ¡ä»¶è¡¨è¾¾å¼çš„ç»“æœåˆ†æ”¯   impl å®ç°è‡ªæœ‰æˆ– trait åŠŸèƒ½   in for å¾ªç¯è¯­æ³•çš„ä¸€éƒ¨åˆ†   let ç»‘å®šä¸€ä¸ªå˜é‡   loop æ— æ¡ä»¶å¾ªç¯   match æ¨¡å¼åŒ¹é…   mod å®šä¹‰ä¸€ä¸ªæ¨¡å—   move ä½¿é—­åŒ…è·å–å…¶æ‰€æ•è·é¡¹çš„æ‰€æœ‰æƒ   mut è¡¨ç¤ºå¼•ç”¨ã€è£¸æŒ‡é’ˆæˆ–æ¨¡å¼ç»‘å®šçš„å¯å˜æ€§   pub è¡¨ç¤ºç»“æ„ä½“å­—æ®µã€impl å—æˆ–æ¨¡å—çš„å…¬æœ‰å¯è§æ€§   ref é€šè¿‡å¼•ç”¨ç»‘å®š   return ä»å‡½æ•°ä¸­è¿”å›   Self å®ç° trait çš„ç±»å‹çš„ç±»å‹åˆ«å   self è¡¨ç¤ºæ–¹æ³•æœ¬èº«æˆ–å½“å‰æ¨¡å—   static è¡¨ç¤ºå…¨å±€å˜é‡æˆ–åœ¨æ•´ä¸ªç¨‹åºæ‰§è¡ŒæœŸé—´ä¿æŒå…¶ç”Ÿå‘½å‘¨æœŸ   struct å®šä¹‰ä¸€ä¸ªç»“æ„ä½“   super è¡¨ç¤ºå½“å‰æ¨¡å—çš„çˆ¶æ¨¡å—   trait å®šä¹‰ä¸€ä¸ª trait   true å¸ƒå°”å­—é¢å€¼ true   type å®šä¹‰ä¸€ä¸ªç±»å‹åˆ«åæˆ–å…³è”ç±»å‹   union define a union and is only a keyword when used in a union declaration   unsafe è¡¨ç¤ºä¸å®‰å…¨çš„ä»£ç ã€å‡½æ•°ã€trait æˆ–å®ç°   use å¼•å…¥å¤–éƒ¨ç©ºé—´çš„ç¬¦å·   where è¡¨ç¤ºä¸€ä¸ªçº¦æŸç±»å‹çš„ä»å¥   while åŸºäºä¸€ä¸ªè¡¨è¾¾å¼çš„ç»“æœåˆ¤æ–­æ˜¯å¦è¿›è¡Œå¾ªç¯    ä¿ç•™åšå°†æ¥ä½¿ç”¨çš„å…³é”®å­—  abstract become box do final macro override priv try typeof unsized virtual yield  ä»¥ä¸Šå…³é”®å­—ä¸èƒ½è¢«ç”¨ä½œæ ‡è¯†ç¬¦ï¼ˆé™¤äº†â€œåŸå§‹æ ‡è¯†ç¬¦â€ï¼‰ï¼Œè¿™åŒ…æ‹¬å‡½æ•°ã€å˜é‡ã€å‚æ•°ã€ç»“æ„ä½“å­—æ®µã€æ¨¡å—ã€crateã€å¸¸é‡ã€å®ã€é™æ€å€¼ã€å±æ€§ã€ç±»å‹ã€trait æˆ–ç”Ÿå‘½å‘¨æœŸ çš„åå­—ã€‚\nåŸå§‹æ ‡è¯†ç¬¦ åŸå§‹æ ‡è¯†ç¬¦ï¼ˆRaw identifiersï¼‰å…è®¸ä½ ä½¿ç”¨é€šå¸¸ä¸èƒ½ä½¿ç”¨çš„å…³é”®å­—ï¼Œå…¶å¸¦æœ‰ r# å‰ç¼€ã€‚\n","id":31,"section":"posts","summary":"Rust å…³é”®å­— æ­£åœ¨ä½¿ç”¨çš„å…³é”®å­— å…³é”®å­— æè¿° as å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œæ¶ˆé™¤ç‰¹å®šåŒ…å«é¡¹çš„ trait çš„æ­§ä¹‰ï¼Œæˆ–è€…å¯¹ use å’Œ extern crate è¯­å¥ä¸­çš„é¡¹é‡å‘½å async è¿”å›ä¸€ä¸ª Future è€Œä¸æ˜¯é˜»å¡å½“å‰çº¿ç¨‹ await suspend","tags":["Rust","Rustå…³é”®å­—"],"title":"Rustä¹‹æ—…-å…³é”®å­—","uri":"https://littleguest.github.io/posts/rust-tour-keywords/","year":"2020"},{"content":"Rust ä¹‹æ—… ä»Šå¤©å¼€å§‹ Rust çš„æ—…ç¨‹ã€‚^_^\nå®‰è£… Rust\næˆ‘çš„ç³»ç»Ÿæ˜¯ deepin20ï¼Œç›´æ¥æ ¹æ®å®˜ç½‘å®‰è£…æ•™ç¨‹èµ°å°±è¡Œäº†ï¼Œä½¿ç”¨ Rustup å®‰è£…\n curl \u0026ndash;proto \u0026lsquo;=https\u0026rsquo; \u0026ndash;tlsv1.2 -sSf https://sh.rustup.rs | sh\n æŸ¥çœ‹ Rust ç‰ˆæœ¬\n rustc -V\n rustc 1.45.2 (d3fb005a3 2020-07-31)  æ›´æ–° Rust\n rustup update\n ","id":32,"section":"posts","summary":"Rust ä¹‹æ—… ä»Šå¤©å¼€å§‹ Rust çš„æ—…ç¨‹ã€‚^_^ å®‰è£… Rust æˆ‘çš„ç³»ç»Ÿæ˜¯ deepin20ï¼Œç›´æ¥æ ¹æ®å®˜ç½‘å®‰è£…æ•™ç¨‹èµ°å°±è¡Œäº†ï¼Œä½¿ç”¨ Rustup å®‰è£… curl \u0026ndash;proto \u0026lsquo;=https\u0026rsquo; \u0026ndash;tlsv1.2 -sSf https://sh.rustup.rs | sh æŸ¥çœ‹ Rust ç‰ˆæœ¬ rustc -V rustc 1.45.2 (d3fb005a3","tags":["Rust"],"title":"Rustä¹‹æ—…-ä»æ”¾å¼ƒåˆ°æ”¾å¼ƒ","uri":"https://littleguest.github.io/posts/rust-tour-give-up/","year":"2020"}],"tags":[{"title":"AppImage","uri":"https://littleguest.github.io/tags/appimage/"},{"title":"Cargo","uri":"https://littleguest.github.io/tags/cargo/"},{"title":"Docker","uri":"https://littleguest.github.io/tags/docker/"},{"title":"Git","uri":"https://littleguest.github.io/tags/git/"},{"title":"Java","uri":"https://littleguest.github.io/tags/java/"},{"title":"Linux","uri":"https://littleguest.github.io/tags/linux/"},{"title":"Lombok","uri":"https://littleguest.github.io/tags/lombok/"},{"title":"max7219","uri":"https://littleguest.github.io/tags/max7219/"},{"title":"MySQL","uri":"https://littleguest.github.io/tags/mysql/"},{"title":"MySQLä¸»ä»","uri":"https://littleguest.github.io/tags/mysql%E4%B8%BB%E4%BB%8E/"},{"title":"Rust","uri":"https://littleguest.github.io/tags/rust/"},{"title":"Rustå…³é”®å­—","uri":"https://littleguest.github.io/tags/rust%E5%85%B3%E9%94%AE%E5%AD%97/"},{"title":"Rustå˜é‡","uri":"https://littleguest.github.io/tags/rust%E5%8F%98%E9%87%8F/"},{"title":"RuståµŒå…¥å¼","uri":"https://littleguest.github.io/tags/rust%E5%B5%8C%E5%85%A5%E5%BC%8F/"},{"title":"Rustæ§åˆ¶æµç¨‹","uri":"https://littleguest.github.io/tags/rust%E6%8E%A7%E5%88%B6%E6%B5%81%E7%A8%8B/"},{"title":"Rustæ•°æ®ç±»å‹","uri":"https://littleguest.github.io/tags/rust%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/"},{"title":"Rustæ‚è®°","uri":"https://littleguest.github.io/tags/rust%E6%9D%82%E8%AE%B0/"},{"title":"Rustæ³›å‹","uri":"https://littleguest.github.io/tags/rust%E6%B3%9B%E5%9E%8B/"},{"title":"Rustç”Ÿå‘½å‘¨æœŸ","uri":"https://littleguest.github.io/tags/rust%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/"},{"title":"Rustè¿ç®—ç¬¦ä¸ç¬¦å·","uri":"https://littleguest.github.io/tags/rust%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E7%AC%A6%E5%8F%B7/"},{"title":"Rustè¿­ä»£å™¨","uri":"https://littleguest.github.io/tags/rust%E8%BF%AD%E4%BB%A3%E5%99%A8/"},{"title":"Rusté”™è¯¯å¤„ç†","uri":"https://littleguest.github.io/tags/rust%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/"},{"title":"Stream","uri":"https://littleguest.github.io/tags/stream/"},{"title":"Vim","uri":"https://littleguest.github.io/tags/vim/"},{"title":"äº¤å‰ç¼–è¯‘","uri":"https://littleguest.github.io/tags/%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/"},{"title":"ä½è¿ç®—","uri":"https://littleguest.github.io/tags/%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"title":"å¼€æºåè®®","uri":"https://littleguest.github.io/tags/%E5%BC%80%E6%BA%90%E5%8D%8F%E8%AE%AE/"},{"title":"æ ‘è“æ´¾","uri":"https://littleguest.github.io/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/"},{"title":"æ ‘è“æ´¾-RGBLED","uri":"https://littleguest.github.io/tags/%E6%A0%91%E8%8E%93%E6%B4%BE-rgbled/"},{"title":"æµ‹è¯•","uri":"https://littleguest.github.io/tags/%E6%B5%8B%E8%AF%95/"},{"title":"æ¸¸æˆ","uri":"https://littleguest.github.io/tags/%E6%B8%B8%E6%88%8F/"},{"title":"ç®—æ³•","uri":"https://littleguest.github.io/tags/%E7%AE%97%E6%B3%95/"},{"title":"è°ƒè¯•Rust","uri":"https://littleguest.github.io/tags/%E8%B0%83%E8%AF%95rust/"},{"title":"é…ç½®æ–‡ä»¶æ ¼å¼è½¬æ¢","uri":"https://littleguest.github.io/tags/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2/"}]}